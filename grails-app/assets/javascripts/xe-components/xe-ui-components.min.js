angular.module("xe-ui-components",["badge","button","checkbox","dropdown","label","radiobutton","simpleTextbox","statusLabel","switch","textarea","textbox","ui.select","xeUISelect","external-resouces","utils","columnFilter","pagination","search","xebarmodule","dataTableModule","aboutModal","pieChartModule","popupModal","tabnav","timePicker","xe-ui-components-tpls"]),angular.module("xe-ui-components-tpls",["templates/badge.html","templates/button.html","templates/checkbox.html","templates/dropdown.html","templates/label.html","templates/radio-button.html","templates/simple-textbox.html","templates/statusLabel.html","templates/switch.html","templates/text-area-counter.html","templates/text-area.html","templates/text-box-char-limit.html","templates/text-box-password.html","templates/text-box.html","templates/column-filter.html","templates/pagination.html","templates/search.html","templates/dataTable.html","templates/dialog.html","templates/dialog_default.html","templates/modal.html","templates/tabNav.html","templates/tabPanel.html","templates/timePicker.html","templates/timePicker_rtl.html"]),angular.module("templates/badge.html",[]).run(["$templateCache",function(e){e.put("templates/badge.html",'<span aria-live="assertive" tabindex="0" class="xe-badge {{::xeType}}-badge" ng-bind="xeLabel">{{xeLabel}}</span>')}]),angular.module("templates/button.html",[]).run(["$templateCache",function(e){e.put("templates/button.html",'<button xe-data id="{{::xeId}}" class="{{xeType +\' \'+ xeBtnClass}}" ng-disabled="xeDisabled" aria-label="{{xeAriaLabel}}" ng-click="xeBtnClick()" ng-bind="xeLabel"></button>')}]),angular.module("templates/checkbox.html",[]).run(["$templateCache",function(e){e.put("templates/checkbox.html",'<div class="xe-container" aria-checked="{{xeModel}}" tabindex="{{!xeDisabled ? 0 : -1}}" role="checkbox" aria-live="assertive" aria-label="{{xeAriaLabel}}"><input id="{{::xeId}}" xe-data type="checkbox" aria-checked="{{xeModel}}" aria-label="{{xeAriaLabel}}" ng-click="cbClicked($event)" ng-model="xeModel" value="{{xeValue}}" ng-checked="xeModel" aria-live="assertive" aria-disabled="{{xeDisabled? true:false}}" ng-disabled="xeDisabled == true" name="{{xeName}}" tabindex="-1"> <span class="xe-checkmark" tabindex="-1"></span><label class="checkbox-label" xe-for="{{::xeId}}">{{xeLabel}}</label></div>')}]),angular.module("templates/dropdown.html",[]).run(["$templateCache",function(e){e.put("templates/dropdown.html",'<div class="btn-group"><button type="button" ng-disabled="{{disabled}}" ng-class="{disabledDD:disabled}" data-toggle="dropdown" class="btn btn-default dropdown dropdown-toggle" role="listbox" aria-expanded="false" aria-haspopup="true"><span class="placeholder" ng-show="!ngModel">{{::xeLabel}}</span> <span class="placeholder">{{ dropDownLabel }}</span> <span class="glyphicon glyphicon-chevron-down"></span></button><ul class="dropdown-menu" role="listbox" aria-expanded="false" role="listbox"><li ng-hide="!ngModel" ng-click="updateModel(xeLabel)">{{::xeLabel}}</li><li ng-if="!isObject" role="option" ng-repeat="option in xeOptions track by $index" ng-click="updateModel(option)" ng-class="{\'selected\':option===ngModel}">{{::option}}</li><li ng-if="isObject" ng-repeat="option in xeOptions track by $index" ng-click="updateModel(option)">{{::option.label}}</li></ul></div>')}]),angular.module("templates/label.html",[]).run(["$templateCache",function(e){e.put("templates/label.html",'<label class="xe-label" for="{{xeFor}}" ng-hide="{{xeHidden}}" ng-cloak><span class="xe-label" aria-label="{{xeValue}}" ng-bind="xeValue"></span> <span class="xe-required" ng-if="xeRequired==true" ng-bind="\'*\'"></span></label>')}]),angular.module("templates/radio-button.html",[]).run(["$templateCache",function(e){e.put("templates/radio-button.html",'<div class="radio-container" tabindex="{{!xeDisabled ? 0 : \'\'}}"><input ng-value="ngValue" ng-model="ngModel" ng-disabled="xeDisabled" ng-class="{disabledRadio:xeDisabled}" ng-click="xeOnClick" type="radio" id="{{xeId}}" name="{{xeName}}"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" aria-checked="{{ngModel===ngValue}}" role="radio"></xe-label></div>')}]),angular.module("templates/simple-textbox.html",[]).run(["$templateCache",function(e){e.put("templates/simple-textbox.html",'<input id="{{::inputField}}" xe-field="search" name="{{::inputField}}" placeholder="{{placeHolder}}" class="simple-input-field auto-width font-semibold {{xeClass}}" ng-model="value" ng-class="{readOnly: inputDisabled}" ng-disabled="{{disabled}}" ng-keyup="onChange({data: value, id: inputField, event: $event})" ng-keydown="onKeydown({data: value, id: inputField, event: $event})" ng-keypress="onKeypress({data: value, id: inputField, event: $event})" ng-paste="onKeypress({data: $event.originalEvent.clipboardData.getData(\'text/plain\'), id: inputField, event: $event})" ng-focus="onFocus({event: $event})" ng-blur="onBlur(({event: $event}))" autocomplete="off">')}]),angular.module("templates/statusLabel.html",[]).run(["$templateCache",function(e){e.put("templates/statusLabel.html",'<span class="labels {{xeType}}" aria-label="{{::xeLabel}}">{{::xeLabel}}</span>')}]),angular.module("templates/switch.html",[]).run(["$templateCache",function(e){e.put("templates/switch.html",'<input id="{{id}}" ng-disabled="disabled" ng-class="{disabledSwitch:disabled}" ng-model="value" class="cmn-toggle cmn-toggle-round" type="checkbox"><label for="{{id}}"></label>')}]),angular.module("templates/text-area-counter.html",[]).run(["$templateCache",function(e){e.put("templates/text-area-counter.html",'<div class="textarea-container"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><div class="xe-labeltext-margin"></div><textarea xe-data ng-model="ngModel" class="comments-field" ng-class="{readonly:xeReadonly}" id="{{xeId}}" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-required="xeRequired" aria-multiline="true" ng-readonly="xeReadonly" maxlength="{{xeCharCounter}}" ng-trim="false">\n\n    </textarea><div id="xe-id-characters-count"><span>{{::\'xe.text.chars.left\' | xei18n}} : {{ charRemaining }}</span></div></div>')}]),angular.module("templates/text-area.html",[]).run(["$templateCache",function(e){e.put("templates/text-area.html",'<div class="textarea-container"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><div class="xe-labeltext-margin"></div><textarea xe-data ng-model="ngModel" class="comments-field" ng-class="{readonly:xeReadonly}" id="{{xeId}}" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-required="xeRequired" aria-multiline="true" ng-readonly="xeReadonly">\n    </textarea></div>')}]),angular.module("templates/text-box-char-limit.html",[]).run(["$templateCache",function(e){e.put("templates/text-box-char-limit.html",'<div class="textbox-container" aria-live="assertive"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><span id="xe-id-max-characters">{{ xeMaxlength }} {{::\'xe.text.max.chars\' | xei18n}}</span><div class="xe-labeltext-margin"></div><input xe-data ng-class="{readonly:xeReadonly}" ng-model="ngModel" ng-form="ngForm" class="{{xeType}}-field" id="{{xeId}}" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-pattern="xePattern" ng-required="xeRequired" ng-maxlength="xeMaxlength" ng-minlength="xeMinlength" ng-readonly="xeReadonly" aria-labelledby="{{xeId}}" aria-describedby="xe-id-max-characters" aria-required="{{xeRequired? true : false}}"><br><div class="error-messages" id="{{xeId+\'label\'}}" ng-messages="" ng-show="{{!xeNotification}}"><div ng-message="required">{{::\'textbox.validation.required\' | xei18n}}</div><div ng-message="maxlength">{{::\'textbox.validation.maxlength\' | xei18n}} {{xeMaxlength}}</div></div></div>')}]),angular.module("templates/text-box-password.html",[]).run(["$templateCache",function(e){e.put("templates/text-box-password.html",'<div class="textbox-container" aria-live="assertive"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><div class="xe-labeltext-margin"></div><input xe-data ng-class="{readonly:xeReadonly}" ng-model="ngModel" ng-form="ngForm" class="{{xeType}}-field" id="{{xeId}}" type="password" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-pattern="xePattern" ng-required="xeRequired" ng-maxlength="xeMaxlength" ng-minlength="xeMinlength" ng-readonly="xeReadonly" aria-describedby="{{xeId}}" aria-required="{{xeRequired? true : false}}"><br><div class="error-messages" id="{{xeId+\'label\'}}" ng-messages="" ng-show="{{!xeNotification}}"><div ng-message="required">{{::\'textbox.validation.required\' | xei18n}}</div><div ng-message="maxlength">{{::\'textbox.validation.maxlength\' | xei18n}} {{xeMaxlength}}</div></div></div>')}]),angular.module("templates/text-box.html",[]).run(["$templateCache",function(e){e.put("templates/text-box.html",'<div class="textbox-container" aria-live="assertive"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><div class="xe-labeltext-margin"></div><input xe-data ng-class="{readonly:xeReadonly}" ng-model="ngModel" ng-form="ngForm" class="{{xeType}}-field" id="{{xeId}}" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-pattern="xePattern" ng-required="xeRequired" ng-maxlength="xeMaxlength" ng-minlength="xeMinlength" ng-readonly="xeReadonly" aria-describedby="{{xeId}}" aria-required="{{xeRequired ? true : false}}"><br><div class="error-messages" id="{{xeId+\'label\'}}" ng-messages="" ng-show="{{!xeNotification}}"><div ng-message="required">{{::\'textbox.validation.required\' | xei18n}}</div><div ng-message="maxlength">{{::\'textbox.validation.maxlength\' | xei18n}} {{xeMaxlength}}</div></div></div>')}]),angular.module("templates/column-filter.html",[]).run(["$templateCache",function(e){e.put("templates/column-filter.html",'<span><div class="column-filter-container" ng-if="::!nocolumnFilterMenu"><button type="button" class="column-filter-button" ng-click="bindClickEvent($event)" aria-haspopup="true" aria-labelledby="columnFilter" xe-field="columnFilterMenu"><span id="columnFilter" class="placeholder" ng-bind="\'dataTable.columnFilter.label\' | xei18n"></span><div class="dropdown-icon">&nbsp;</div></button><ul class="column-setting-menu" ng-hide="hideColumnSettingMenu" role="list" aria-labelledby="columnFilter"><li role="presentation"><xe-checkbox xe-label="{{::\'dataTable.columnFilter.selectAll\' | xei18n}}" xe-aria-label="{{::\'dataTable.columnFilter.selectAll\' | xei18n}}" xe-model="selectAll.visible" xe-on-click="onSelectAll(header, event)" xe-id="0" data-name="all" aria-role="listitem" aria-live="assertive"></xe-checkbox></li><li ng-repeat="heading in header" ng-class="{\'disabled\': heading.options.disable}" ng-if="heading.options.columnShowHide !== false" data-name="{{heading.name}}" role="presentation"><xe-checkbox xe-id="{{heading.name}}" xe-value="{{$index+1}}" xe-label="{{heading.title}}" xe-aria-label="{{heading.title}}" xe-model="heading.options.visible" xe-on-click="hideUnhideColumn(heading, event)" xe-disabled="heading.options.disable" aria-role="listitem" aria-live="assertive"></xe-checkbox></li></ul></div></span>')}]),angular.module("templates/pagination.html",[]).run(["$templateCache",function(e){e.put("templates/pagination.html",'<div class="tfoot pagination-container visible-lg" role="navigation" ng-cloak><div id="resultsFound" class="results-container" ng-bind="(\'pagination.record.found\' | xei18n) + \': \' + resultsFound"></div><div class="pagination-controls"><xe-button xe-type="secondary" xe-btn-class="first" xe-aria-label="{{::\'pagination.first.label\' | xei18n}}" xe-btn-click="first()" xe-disabled="firstPrev" ng-cloak></xe-button><xe-button xe-type="secondary" xe-btn-class="previous" xe-aria-label="{{::\'pagination.previous.label\' | xei18n}}" xe-btn-click="prev()" xe-disabled="firstPrev" ng-cloak></xe-button><xe-label xe-value="{{::\'pagination.page.label\' | xei18n}}" role="presentation" aria-hidden="true"></xe-label><span title="{{::\'pagination.page.shortcut.label\' | xei18n}}" role="presentation"><input id="pageInput" type="number" ng-model="onPage" aria-valuenow="{{onPage}}" aria-valuemax="{{numberOfPages}}" aria-valuemin="{{!numberOfPages ? 0 : 1}}" max="{{numberOfPages}}" min="{{!numberOfPages ? 0 : 1}}" ng-model-options="{ debounce: {\'default\': 200, \'blur\': 0} }" ng-change="paggeNumberChange()" ng-blur="focusOut($event)" aria-label="{{::\'pagination.page.aria.label\' | xei18n}}. {{::\'pagination.page.label\' | xei18n}} {{onPage}} {{::\'pagination.page.of.label\' | xei18n}} {{numberOfPages}}" ng-cloak></span><xe-label xe-value="{{::\'pagination.page.of.label\' | xei18n}} {{numberOfPages}}" role="presentation"></xe-label><xe-button xe-type="secondary" xe-btn-class="next" xe-aria-label="{{::\'pagination.next.label\' | xei18n}}" xe-btn-click="next()" xe-disabled="nextLast" ng-cloak></xe-button><xe-button xe-type="secondary" xe-btn-class="last" xe-aria-label="{{::\'pagination.last.label\' | xei18n}}" xe-btn-click="last()" xe-disabled="nextLast" ng-cloak></xe-button><xe-label id="perPage" xe-value="{{::\'pagination.per.page.label\' | xei18n}}" role="presentation" aria-hidden="true"></xe-label><select class="per-page-select" aria-labelledby="perPage" ng-model="offset" ng-options="pageOffset for pageOffset in ::pageOffsets" ng-change="offsetChanged(true)" ng-disabled="resultsFound === 0"></select></div></div>')}]),angular.module("templates/search.html",[]).run(["$templateCache",function(e){e.put("templates/search.html",'<form name="form" class="search-container"><xe-simple-text-box input-field="{{searchConfig.id}}" xe-class="search" value="value" place-holder="{{searchConfig.placeholder}}" on-keydown="searchKeydown(data, id, event)" on-keypress="searchKeypress(data, id, event)" on-focus="onFocus(event)" on-blur="onBlur(event)" aria-label="{{::ariaLabel}}"></xe-simple-text-box></form>')}]),angular.module("templates/dataTable.html",[]).run(["$templateCache",function(e){e.put("templates/dataTable.html",'<div id="{{tableId}}" class="table-container" ng-class="{\'fixed-height\': !!height, \'noToolbar\': noCaptionAndToolbar, \'no-data\': !resultsFound, \'empty\': emptyTableMsg}" browser-detect role="grid" aria-labelledby="gridCaption" ng-cloak><div class="trMobile" ng-if="totalRow && isMobileView  "><div ng-repeat="heading in header" ng-if="heading.options.visible === true"><span class="total-row" total-label="{{heading.totalDisplayName}}" aria-hidden="false" ng-bind="getTotalValue(heading)"></span></div></div><div class="caption" ng-if="::!noCaptionBar" xe-section="{{xeSection + \'CaptionBar\'}}"><table class="data-table datatable_spacing" role="heading" aria-level="1"><caption ng-class="{\'search-opened\': hideContainer}"><span id="gridCaption" class="caption-container font-semibold" ng-if="::!nocaption" ng-bind="::caption" xe-field="caption"></span><div class="toolbar" ng-if="toolbar"><xe-toolbar></xe-toolbar><xe-column-filter header="header"></xe-column-filter><span role="search" title="{{\'search.title\' | xei18n}}" ng-if="::!nosearch"><xe-search value="searchConfig.searchString" place-holder="{{\'search.label\' | xei18n}}" on-change="fetchSpecial(query)" on-focus="onSearchFocus({event: event})" on-blur="onSearchBlur({event: event})" search-config="searchConfig" xe-focus loading-data="loadingData"></xe-search></span></div></caption></table></div><div class="hr-scrollable-content"><div class="thead"><table class="data-table" ng-style="headerPadding" role="presentation"><thead role="rowgroup"><tr role="row"><th class="font-semibold width-animate {{::heading.name}}" ng-repeat="heading in header" ng-class="{\'sortable\': heading.options.sortable, \'ascending\': sortArray[heading.name].ascending, \'decending\': sortArray[heading.name].decending}" ng-if="heading.options.visible === true" ng-style="{\'width\': heading.dynamicWidth + \'px\'}" data-name="{{::heading.name}}" ng-click="onSort({heading: heading}); sortOnHeading(heading, $index);" role="columnheader" aria-sort="{{sortArray[heading.name].ascending ? (\'dataTable.sort.ascending.label\' | xei18n) : (sortArray[heading.name].decending ? (\'dataTable.sort.descending.label\' | xei18n) : \'none\')}}" aria-describedby="{{\'headingAria\' + $index}}" drag-drop="handleDrop" tabindex="0" xe-field="{{::heading.name}}" id="dataTableHead-{{heading.name}}" xe-heading-injector xe-focus xe-click-grid><div class="data" title="{{heading.label}}"><span ng-show="::heading.options.titleVisible !== false" aria-hidden="false" ng-bind="::heading.title"></span><label id="${{\'headingAria\' + $index}}" class="sr-only" ng-bind="heading.ariaLabel + (heading.options.sortable ? (\'dataTable.sortable.label\' | xei18n) : \'\')"></label></div></th></tr></thead></table></div><div class="tbody" ng-style="::{\'height\': height}" continuous-scroll="nextPage()" scroll-parent="{{::continuousScrollParent}}" aria-labelledby="msg" tabindex="{{(!resultsFound || emptyTableMsg) ? 0 : \'\'}}" resize><div id="msg" ng-bind="emptyTableMsg? emptyTableMsg : ((!resultsFound && !loadingData) ? noDataMsg : \'\')"></div><table class="data-table" ng-class="::mobileLayout ? \'mobileLayout\' : \'noMobileLayout\'" role="presentation"><thead role="presentation" aria-hidden="true"><tr><th class="font-semibold {{::heading.name}}" ng-repeat="heading in header" ng-class="{\'sortable\': heading.options.sortable, \'ascending\': sortArray[heading.name].ascending, \'decending\': sortArray[heading.name].decending}" ng-if="heading.options.visible === true" ng-style="{\'width\': heading.dynamicWidth + \'px\'}" data-name="{{::heading.name}}" xe-field="{{::heading.name}}" xe-heading-injector tabindex="0"><div class="data"><span ng-show="::heading.options.titleVisible !== false" ng-bind="::heading.title"></span></div></th></tr></thead><tbody role="rowgroup"><tr ng-repeat="row in content" ng-click="onRowClick({data:row,index:$index})" ng-dblclick="onRowDoubleClick({data:row,index:$index})" xe-row-injector tabindex="-1" role="row"><td class="width-animate" ng-repeat="heading in header" ng-class="{\'align-right\': heading.options.actionOrStatus, \'sortable\': heading.options.sortable}" ng-if="heading.options.visible === true" data-name="{{::heading.name}}" data-title="{{::(heading.title && heading.options.titleVisible !== false) ? heading.title + \':\' : \'\'}}" attain-mobile-layout="{{mobileLayout[heading.name]}}" xe-field="{{::heading.name}}" xe-cell-injector xe-focus xe-click-grid role="gridcell" ng-cloak headers="dataTableHead-{{heading.name}}"><div ng-if="!isExtendedField(row, heading.name)"><span ng-bind="getObjectValue(row, heading.name)" tabindex="0"></span></div><div ng-if="isExtendedField(row, heading.name)"><div ng-if="isEditable"><div ng-if="dataType === \'DATE\'"><input date-picker="" value="{{::extensionValue}}" class="datePicker" aria-labelledby=""></div><div ng-if="dataType === \'VARCHAR2\'"><xe-simple-text-box value="::extensionValue"></xe-simple-text-box></div><div ng-if="dataType === \'NUMBER\'"><decimal-input ng-model="::extensionValue" decimals="0"></decimal-input></div></div><div ng-if="!isEditable"><span ng-bind="::extensionValue"></span></div></div></td></tr></tbody></table></div><div class="trDesktop" ng-if="totalRow && !isMobileView" xe-section="totalRow"><table class="data-table" ng-style="headerPadding"><thead><tr><th class="font-semibold width-animate {{::heading.name}}" ng-repeat="heading in header" ng-if="heading.options.visible === true" ng-style="{\'width\': heading.dynamicWidth + \'px\'}" data-name="{{::heading.name}}" drag-drop="handleDrop" tabindex="0" xe-field="{{::heading.name+\'Total\'}}" xe-focus xe-click-grid><div class="aggregateRow data" ng-class="{\'align-right\': heading.options.actionOrStatus}" title="{{heading.label}}"><label ng-if="heading.totalLabel" id="{{::heading.name+\'Total\'}}" for="{{::heading.name+\'Total\'}}">{{getTotalValue(heading)}}</label><span ng-if="!heading.totalLabel" class="total-display" ng-show="::heading.options.titleVisible !== false" aria-hidden="false" ng-bind="getTotalValue(heading)"></span></div></th></tr></thead></table></div></div><div class="tfoot" ng-transclude></div><xe-pagination model="content" results-found="resultsFound" ng-show="showPagination" xe-grid-pagination-control search-string="searchConfig.searchString"></xe-pagination><div ng-show="loadingData" class="load-indicator"><div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></div></div>')}]),angular.module("templates/dialog.html",[]).run(["$templateCache",function(e){e.put("templates/dialog.html",'<div id="xeModalMask" class="xe-modal-mask" ng-show="show" tabindex="-1" aria-labelledby="xeModalLabel" role="dialog"><div class="xe-modal-wrapper" role="document"><div class="xe-modal-container"><span class="xe-modal-close" ng-click="hide()" tabindex="0" title="{{about[api.close]}"></span><h4 id="xeModalLabel" hidden>{{about[api.title]}}</h4><div class="xe-modal-header" tabindex="0"><h5 class="xe-app-title">{{about[api.name]}}</h5><h6 class="xe-app-version">{{about[api.version]}}</h6><h6 ng-if="!hidePlatformVersion" class="xe-platform-version">{{about[api.platformVersion]}}</h6></div><hr><div class="xe-modal-body" role="list" tabindex="0"><h6 id="xe-modal-gen-sec" class="xe-title">General</h6><ul role="list" aria-labelledby="xe-modal-gen-sec"><li role="listitem" aria-level="{{$index + 1}}" ng-repeat-start="(key, value) in about[api.general]" ng-repeat-end><strong>{{key}}</strong> : <span>{{value}}</span></li></ul></div><hr><div class="xe-modal-body" role="list" tabindex="0"><h6 id="xe-modal-plugin-info" class="xe-title">Plugin information</h6><ul role="list" aria-labelledby="xe-modal-plugin-info"><li role="listitem" aria-level="{{$index + 1}}" ng-repeat-start="(key, value) in about[api.plugin]" ng-repeat-end><strong>{{key}}</strong> : <span>{{value}}</span></li></ul></div><hr><div class="xe-modal-body" role="list" tabindex="0"><h6 id="xe-modal-other-plugin-info" class="xe-title">Other Plugin information</h6><ul role="list" aria-labelledby="xe-modal-other-plugin-info"><li role="listitem" aria-level="{{$index + 1}}" ng-repeat-start="(key, value) in about[api.otherPlugin]" ng-repeat-end><strong>{{key}}</strong> : <span>{{value}}</span></li></ul></div><div class="xe-modal-footer" tabindex="0">{{about[api.copyright]}}</div></div></div></div>')}]),angular.module("templates/dialog_default.html",[]).run(["$templateCache",function(e){e.put("templates/dialog_default.html",'<div id="xeModalMask" class="xe-modal-mask" ng-show="show" tabindex="-1" aria-labelledby="xeModalMask" role="region"><div class="xe-modal-wrapper" role="dialog" title="{{about[api.title]}}"><div id="xeModalContainer" class="xe-modal-container"><span id="xeModalClose" class="xe-modal-close" ng-click="hide()" tabindex="0" role="button" alt="{{about[api.close]}}" title="{{about[api.close]}}"></span><h4 id="xeModalLabel" hidden>{{about[api.title]}}</h4><div id="xeModalHeader" class="xe-modal-header" tabindex="0"><h5 class="xe-app-title">{{about[api.name]}}</h5><h6 class="xe-app-version">{{about[api.version]}}</h6><h6 ng-if="!hidePlatformVersion" class="xe-platform-version">{{about[api.platformVersion]}}</h6></div><hr><div id="xeModalFooter" class="xe-modal-footer" tabindex="0" role="heading" aria-level="1"><span class="xe-modal-footer-copyright">&copy; {{about[api.copyright]}}</span><br><br><span class="xe-modal-footer-copyright-info">{{about[api.copyrightLegalNotice]}}</span></div></div></div></div>')}]),angular.module("templates/modal.html",[]).run(["$templateCache",function(e){e.put("templates/modal.html",'<div class="xe-popup-mask" ng-show="show" tabindex="-1" role="dialog" aria-labelledby="xePopTitle"><div class="xe-popup-wrapper"><div class="xe-popup-container"><div id="xeModalHeader" class="xe-popup-header"><h5 id="xePopTitle" class="xe-app-title" role="heading"><label ng-bind="popupTitle"></label></h5><span id="xePopupClose" class="xe-popup-close" ng-click="hide()" tabindex="0" role="button" aria-label="{{\'userpreference.popup.language.close\' | xei18n}}" alt="{{\'userpreference.popup.language.close\' | xei18n}}" title="{{\'userpreference.popup.language.close\' | xei18n}}"></span></div><div id="xePopupContent" class="xe-pop-content" ng-transclude="popupContent"></div><div id="buttonContainer" class="buttonContainer" ng-transclude="popupButtons"></div><div tabindex="0" id="tabOrdering"></div></div></div></div>')}]),angular.module("templates/tabNav.html",[]).run(["$templateCache",function(e){e.put("templates/tabNav.html",'<div class="xe-tab-container" role="presentation"><ul class="xe-tab-nav" role="tablist"><li ng-repeat="tab in tabnav.tabs" ng-click="tabnav.activate(tab)" ng-class="{active: tab.active}" ng-repeat-complete role="tab" aria-controls="{{\'xe-tab-panel\'+ ($index+1)}}" aria-selected="{{tab.active}}"><a href="javascript:void(0);" tabindex="0" id="{{\'xe-tab\'+ ($index+1)}}" title="{{tab.heading}}" ng-if="tab.state">{{tab.heading}} <span></span> </a><a href="#" id="{{\'xe-tab\'+ ($index+1)}}" title="{{tab.heading}}" ng-if="!tab.state">{{tab.heading}} <span></span></a></li></ul><div class="xe-tab-content" role="presentation"><ng-transclude></ng-transclude></div></div>')}]),angular.module("templates/tabPanel.html",[]).run(["$templateCache",function(e){e.put("templates/tabPanel.html",'<div class="xe-tab-container" role="presentation"><div id="{{ \'xe-tab-panel\'+ tabIndex}}" class="xe-tab-panel" ng-show="active" ng-class="{active: active }" role="tabpanel" aria-labelledby="{{\'xe-tab\'+ tabIndex}}" content="" aria-hidden="{{ !active }}"></div></div>')}]),angular.module("templates/timePicker.html",[]).run(["$templateCache",function(e){e.put("templates/timePicker.html",'<div class="xe-time-container" role="presentation"><div class="input-outerContainer"><div class="input-container"><input class="input-field xeTimePickerTextField" name="{{xeName}}" ng-model="displayModel" placeholder="{{xeTimePlaceholder}}" id="{{xeId}}" title="{{\'js.input.timepicker.info\' | xei18n}}" aria-label="{{\'timepicker.textbox.aria.label\' | xei18n}} {{\'default.time.format\' | xei18n}}"> <button type="button" class="inputicon" tabindex="-1"></button></div><div class="timepickerContainer" ng-show="toggleContainer"><div id="article" class="mainContainer"><div class="wrappingDiv hrsContainer" ng-class="timeObject.is24Hrformat ? \'LTRpadding24hrs\' : \'LTRpadding12hrs\'"><div class="itemContainer previousDiv"></div><ul role="listbox" class="dropdown ulContainer hrsFocus"><li class="hrs_{{$index}}" role="option" data-ng-repeat="hr in timeObject.hours" value="{{hr}}" data-ng-bind="hr"></li></ul><div class="itemContainer nextDiv"></div></div><div class="wrappingDiv minContainer"><div class="itemContainer previousDiv"></div><ul class="dropdown ulContainer minFocus" role="listbox"><li role="option" class="mins_{{$index}}" tabindex="0" data-ng-repeat="mins in timeObject.minutes" value="{{mins}}" data-ng-bind="mins"></li></ul><div class="itemContainer nextDiv" data-ng-bind="timeObject.configstep"></div></div><div role="listbox" class="wrappingDiv meridianContainer" ng-if="!timeObject.is24Hrformat" aria-label="{{\'timepicker.am.pm.aria.label\' | xei18n}}"><div class="itemContainer"></div><div role="option" aria-live="assertive" class="tickerContainer pushmeBorder meridianFocus" tabindex="0" ng-bind="\'default.time.am\' | xei18n"></div><div aria-label="{{\'default.time.pm\' | xei18n}}" class="tickerContainer meridianPm" ng-bind="\'default.time.pm\' | xei18n"></div></div></div><footer class="timerFooter"><xe-button class="footerButton footercancelButton" xe-type="secondary" xe-label="{{\'js.timepicker.cancel\' | xei18n}}" aria-label="{{\'js.timepicker.cancel\' | xei18n}}"></xe-button><xe-button class="footerButton" xe-type="primary" xe-label="{{\'js.timepicker.set\' | xei18n}}" aria-label="{{\'js.timepicker.set\' | xei18n}}"></xe-button><div class="extraDiv" tabindex="0"></div></footer></div></div></div>')}]),angular.module("templates/timePicker_rtl.html",[]).run(["$templateCache",function(e){e.put("templates/timePicker_rtl.html",'<div class="xe-time-container" role="presentation"><div class="input-outerContainer"><div class="input-container"><input class="input-field xeTimePickerTextField" name="{{xeName}}" ng-model="displayModel" placeholder="{{xeTimePlaceholder}}" id="{{xeId}}" title="{{\'js.input.timepicker.info\' | xei18n}}" aria-label="{{\'timepicker.textbox.aria.label\' | xei18n}} {{\'default.time.format\' | xei18n}}"> <button type="button" class="inputicon" tabindex="-1"></button></div><div class="timepickerContainer" ng-show="toggleContainer"><div id="article" class="mainContainer"><div role="listbox" class="wrappingDiv meridianContainer rtl12hrsPadding" ng-if="!timeObject.is24Hrformat" aria-label="{{\'timepicker.am.pm.aria.label\' | xei18n}}"><div id="prevampmDiv" class="itemContainer"></div><div role="option" aria-live="assertive" class="tickerContainer pushmeBorder meridianFocus" tabindex="0" ng-bind="\'default.time.am\' | xei18n"></div><div aria-label="{{\'default.time.pm\' | xei18n}}" class="tickerContainer meridianPm" ng-bind="\'default.time.pm\' | xei18n"></div></div><div class="wrappingDiv hrsContainer" ng-class="timeObject.is24Hrformat ? \'rtl24hrsPadding\' : \'rtlhrsPadding\'"><div id="prevHrDiv" class="itemContainer previousDiv"></div><ul id="nav" role="listbox" class="dropdown ulContainer hrsFocus"><li class="hrs_{{$index}}" role="option" data-ng-repeat="hr in timeObject.hours" value="{{hr}}" data-ng-bind="hr"></li></ul><div class="itemContainer nextDiv"></div></div><div class="wrappingDiv minContainer"><div class="itemContainer previousDiv"></div><ul class="dropdown ulContainer minFocus"><li class="mins_{{$index}}" tabindex="0" data-ng-repeat="mins in timeObject.minutes" value="{{mins}}" data-ng-bind="mins"></li></ul><div class="itemContainer nextDiv" data-ng-bind="timeObject.configstep"></div></div></div><footer class="timerFooter"><xe-button class="footerButton footercancelButton" xe-type="secondary" xe-label="{{\'js.timepicker.cancel\' | xei18n}}" aria-label="{{\'js.timepicker.cancel\' | xei18n}}"></xe-button><xe-button class="footerButton" xe-type="primary" xe-label="{{\'js.timepicker.set\' | xei18n}}" aria-label="{{\'js.timepicker.set\' | xei18n}}"></xe-button><div class="extraDiv" tabindex="0"></div></footer></div></div></div>')}]),function(){"use strict";angular.module("badge",[]).directive("xeBadge",function(){return{restrict:"E",scope:{xeLabel:"@",xeType:"@"},templateUrl:"templates/badge.html"}})}(),function(){"use strict";angular.module("button",[]).directive("xeButton",function(){return{restrict:"E",scope:{xeId:"@",xeType:"@",xeDisabled:"=",xeLabel:"@",xeBtnClick:"&",xeBtnClass:"@",xeAriaLabel:"@"},templateUrl:"templates/button.html"}})}(),function(){"use strict";angular.module("checkbox",["label"]).directive("xeCheckbox",["keyCodes","$timeout",function(a,i){return{scope:{xeId:"@",xeValue:"@",xeName:"@?",xeLabel:"@?",xeAriaLabel:"@?",xeLabelHidden:"@?",xeModel:"=",xeOnClick:"&",xeDisabled:"=?",ariaRole:"@?"},restrict:"E",replace:!0,templateUrl:"templates/checkbox.html",link:function(t,n){t.cbClicked=function(e){t.xeDisabled||(t.xeModel=!t.xeModel,i(function(){t.xeOnClick({checked:t.xeModel,event:e}),angular.element(n.find("input")).controller("ngModel").$setDirty()}))},n.on("keydown",function(e){e.keyCode!==a.ENTER&&e.keyCode!==a.SPACEBAR||(e.preventDefault(),e.stopPropagation(),t.cbClicked(e),t.$apply())}),n.on("click",function(e){e.preventDefault(),e.stopPropagation(),t.cbClicked(e),t.$apply()})}}}])}(),function(){"use strict";angular.module("dropdown",[]).directive("xeDropdown",function(){return{restrict:"E",scope:{xeOptions:"=",xeLabel:"=",disabled:"=",ngModel:"="},require:"ngModel",controller:["$scope",function(t){t.isObject=angular.isObject(t.xeOptions[0]),t.dropDownLabel="",t.updateModel=function(e){t.xeLabel!==e?angular.isObject(e)?(t.ngModel=e,t.dropDownLabel=e.label):(t.ngModel=e,t.dropDownLabel=e):(t.ngModel=null,t.dropDownLabel=null)}}],link:function(e){angular.isDefined(e.ngModel)&&e.updateModel(e.ngModel)},templateUrl:"templates/dropdown.html"}})}(),function(){"use strict";angular.module("label",[]).directive("xeLabel",function(){return{restrict:"E",scope:{xeId:"@",xeValue:"@",xeHidden:"@?",xeRequired:"=?",xeFor:"@"},replace:!0,templateUrl:"templates/label.html"}})}(),function(){"use strict";angular.module("radiobutton",[]).directive("xeRadioButton",["$window",function(e){return{scope:{xeLabel:"@",ngValue:"=",ngModel:"=",xeOnClick:"&",xeName:"@",xeDisabled:"=",xeId:"@"},restrict:"E",require:"ngModel",templateUrl:"templates/radio-button.html",link:function(t,e){e.on("keydown",function(e){32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),t.ngModel=t.ngValue,t.$apply())})}}}])}(),function(){"use strict";angular.module("simpleTextbox",[]).directive("xeSimpleTextBox",function(){return{restrict:"E",scope:{inputField:"@",xeClass:"@",value:"=",placeHolder:"@",disabled:"=",onChange:"&",onKeydown:"&",onKeypress:"&",onFocus:"&",onBlur:"&",required:"="},templateUrl:"templates/simple-textbox.html"}})}(),function(){"use strict";angular.module("statusLabel",[]).directive("xeStatusLabel",function(){return{restrict:"E",scope:{xeLabel:"@",xeType:"@"},templateUrl:"templates/statusLabel.html"}})}(),function(){"use strict";angular.module("switch",[]).directive("xeSwitch",function(){return{scope:{disabled:"=",label:"=",value:"=",id:"="},templateUrl:"templates/switch.html"}})}(),function(){"use strict";angular.module("textarea",[]).directive("xeTextArea",["$filter",function(r){return{restrict:"E",scope:{ngModel:"=",xeOnChange:"&",xePlaceholder:"@",xeLabel:"=",xeId:"@",xeName:"@?",xeRequired:"=",xeReadonly:"=",xeCharCounter:"@"},templateUrl:function(e,t){return t.xeCharCounter?"templates/text-area-counter.html":"templates/text-area.html"},controller:["$scope","$element","$attrs",function(t,n,a){var i,l;a.xeCharCounter&&0===(i=$(".textarea-char-accessible")).length&&(i=$("<span>",{role:"status","aria-live":"assertive","aria-atomic":"true","aria-hidden":"false"}).addClass("textarea-char-accessible screen-reader").appendTo(document.body)),l=r("xei18n")("xe.text.limit.over",a.xeCharCounter),a.xeCharCounter&&n.find("textarea").focus(function(){var e=r("xei18n")("xe.text.chars.remaining.aria",t.charRemaining);i.text(e)}),t.$watch("ngModel",function(){if(a.xeCharCounter&&(t.charRemaining<=0?t.charRemaining=0:t.charRemaining=a.xeCharCounter,t.ngModel)){var e=t.ngModel;t.charRemaining=a.xeCharCounter-e.length,n.find("textarea").on("keyup change",function(e){$(this).val().length===a.xeCharCounter&&i.text(l)})}})}]}}])}(),function(){"use strict";angular.module("textbox",["ngMessages"]).directive("xeTextBox",["$filter",function(l){return{restrict:"E",scope:{xePlaceholder:"@",xeId:"@",xeRequired:"=",xeType:"@",xeReadonly:"=",xeValidate:"=",xePattern:"@",xeErrorMessages:"=",xeNotification:"@",xeLabel:"@",xeName:"@",xeMaxlength:"@",xeMinlength:"@",xeFormName:"@",ngModel:"=",ngForm:"=",xeCharMax:"@"},require:["ngModel","?ngForm"],templateUrl:function(e,t){return"password"===t.xeType?"templates/text-box-password.html":t.hasOwnProperty("xeCharMax")?"templates/text-box-char-limit.html":"templates/text-box.html"},controller:["$scope","$element","$attrs",function(e,t,n){var a,i;n.hasOwnProperty("xeCharMax")&&(a=$(".text-box-char-accessible"),i=l("xei18n")("xe.text.limit.over",n.xeMaxlength),0===a.length&&(a=$("<span>",{role:"status","aria-live":"assertive","aria-atomic":"true","aria-hidden":"false"}).addClass("text-box-char-accessible screen-reader").appendTo(document.body)),t.find("input").on("keyup change focusout",function(e){$(this).val().length>=n.xeMaxlength&&a.text(i),1==$(this).prop("required")&&(0<$(this).val().length?$(this).attr("aria-invalid",!1):$(this).attr("aria-invalid",!0))}))}],compile:function(e,t){var n="ngForm."+t.xeName;e.find("div.error-messages").attr("ng-messages",n+".$error"),e.find("div.error-messages").attr("ng-if",n+"."+t.xeName+".$touched")}}}])}(),function(){"use strict";var h={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){switch(e.which){case h.COMMAND:case h.SHIFT:case h.CTRL:case h.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return 112<=(e=e.which?e.which:e)&&e<=123},isVerticalMovement:function(e){return~[h.UP,h.DOWN].indexOf(e)},isHorizontalMovement:function(e){return~[h.LEFT,h.RIGHT,h.BACKSPACE,h.DELETE].indexOf(e)},toSeparator:function(e){var t={ENTER:"\n",TAB:"\t",SPACE:" "}[e];return t||(h[e]?void 0:e)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var e=0,t=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:0,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",generateId:function(){return e+=1},appendToBody:!1}).service("uiSelectMinErr",function(){var t=angular.$$minErr("ui.select");return function(){var e=t.apply(this,arguments).message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(e)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,a,i){i(e,function(e){t.append(e)})}}}).filter("highlight",function(){return function(e,t){return t&&e?(""+e).replace(new RegExp((""+t).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),'<span class="ui-select-highlight">$&</span>'):e}}).factory("uisOffset",["$document","$window",function(n,a){return function(e){var t=e[0].getBoundingClientRect();return{width:t.width||e.prop("offsetWidth"),height:t.height||e.prop("offsetHeight"),top:t.top+(a.pageYOffset||n[0].documentElement.scrollTop),left:t.left+(a.pageXOffset||n[0].documentElement.scrollLeft)}}}]);t.directive("xeUiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window","$timeout",function(d,u,p,f,g,e){return{restrict:"EA",require:"^xeUiSelect",replace:!0,transclude:!0,templateUrl:function(e){return e.addClass("ui-select-choices"),(e.parent().attr("theme")||d.theme)+"/choices.tpl.html"},compile:function(e,t){if(!t.repeat)throw p("repeat","Expected 'repeat' expression.");return function(t,e,n,a,i){var l,r=n.groupBy,s=n.groupFilter,o=e.querySelectorAll(".ui-select-choices-row"),c=e.querySelectorAll(".ui-select-choices-row-inner");if(a.parseRepeatAttr(n,r,s,a),a.disableChoiceExpression=n.uiDisableChoice,a.onHighlightCallback=n.onHighlight,a.dropdownPosition=n.position?n.position.toLowerCase():d.dropdownPosition,r){if(1!==(l=e.querySelectorAll(".ui-select-choices-group")).length)throw p("rows","Expected 1 .ui-select-choices-group but got '{0}'.",l.length);l.attr("ng-repeat",u.getGroupNgRepeatExpression())}if(1!==o.length)throw p("rows","Expected 1 .ui-select-choices-row but got '{0}'.",o.length);if(o.attr("ng-repeat",a.parserResult.repeatExpression(r)).attr("ng-if","$select.open"),g.document.addEventListener&&o.attr("ng-mouseenter","$select.setActiveItem("+a.parserResult.itemName+")").attr("ng-click","$select.select("+a.parserResult.itemName+",$select.skipFocusser,$event)"),1!==c.length)throw p("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",c.length);c.attr("uis-transclude-append",""),g.document.addEventListener||c.attr("ng-mouseenter","$select.setActiveItem("+a.parserResult.itemName+")").attr("ng-click","$select.select("+a.parserResult.itemName+",$select.skipFocusser,$event)"),f(e,i)(t),t.$watch("$select.search",function(e){e&&!a.open&&a.multiple&&(a.activate(!1,!0),a.activeIndex=a.tagging.isActivated?-1:0),n.minimumInputLength&&!(a.search.length>=n.minimumInputLength)||a.disabled?a.disabled||(a.minimumInputLength=n.minimumInputLength,a.showMinMsg=!0,a.items=[]):(a.refresh(n.refresh),a.showMinMsg=!1)}),t.$watch(a.disabled,function(e,t){e||e===t||a.items.length||a.refresh(n.refresh)}),a.refreshOnChange&&t.$watch(a.refreshOnChange,function(e){e&&a.refresh(n.refresh)}),n.$observe("refreshDelay",function(){var e=t.$eval(n.refreshDelay);a.refreshDelay=void 0!==e?e:d.refreshDelay}),t.$watch("$select.items",function(e,t){0==a.items.length?a.showNoResultsMsg=!0:a.showNoResultsMsg=!1})}}}}]),t.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(s,o,c,d,r,u,e,p,t,n){var a,f=this,l="";if(f.placeholder=e.placeholder,f.searchEnabled=e.searchEnabled,f.sortable=e.sortable,f.refreshDelay=e.refreshDelay,f.paste=e.paste,f.removeSelected=!1,f.closeOnSelect=!0,f.skipFocusser=!1,f.search=l,f.activeIndex=0,f.items=[],f.open=!1,f.focus=!1,f.disabled=!1,f.selected=void 0,f.dropdownPosition="auto",f.focusser=void 0,f.resetSearchInput=!0,f.multiple=void 0,f.disableChoiceExpression=void 0,f.tagging={isActivated:!1,fct:void 0},f.taggingTokens={isActivated:!1,tokens:void 0},f.lockChoiceExpression=void 0,f.clickTriggeredSelect=!1,f.$filter=d,f.minimumInputLength,f.$animate=function(){try{return t.get("$animate")}catch(e){return null}}(),f.searchInput=o.querySelectorAll("input.ui-select-search"),1!==f.searchInput.length)throw u("searchInput","Expected 1 input.ui-select-search but got '{0}'.",f.searchInput.length);function g(){(f.resetSearchInput||void 0===f.resetSearchInput&&e.resetSearchInput)&&(f.search=l,f.selected&&f.items.length&&!f.multiple&&(f.activeIndex=function(e,t,n){if(e.findIndex)return e.findIndex(t,n);var a,i,l=Object(e),r=l.length>>>0;for(i=0;i<r;i+=1)if(a=l[i],t.call(n,a,i,l))return i;return-1}(f.items,function(e){return angular.equals(this,e)},f.selected)))}f.isEmpty=function(){return angular.isUndefined(f.selected)||null===f.selected||""===f.selected||f.multiple&&0===f.selected.length},f.activate=function(n,e){if(f.disabled||f.open)f.open&&f.multiple&&(f.open=!1);else{if(e||g(),s.$broadcast("uis:activate"),f.open=!0,f.liveRegion=$(".uiselect-hidden-accessible"),f.liveChoicestStusRegion=$(".uiselect-choice-status-hidden-accessible"),0==f.liveRegion.length){var t=angular.element("<span></span>");t.attr("role","status"),t.attr("aria-live","assertive"),t.attr("class","uiselect-hidden-accessible"),angular.element(document.body).append(t)}if(0==f.liveChoicestStusRegion.length){var a=angular.element("<span></span>");a.attr("role","status"),a.attr("aria-live","assertive"),a.attr("aria-atomic","true"),a.attr("class","uiselect-choice-status-hidden-accessible"),angular.element(document.body).append(a)}f.activeIndex=f.activeIndex>=f.items.length?0:f.activeIndex,-1===f.activeIndex&&!1!==f.taggingLabel&&(f.activeIndex=0);var i=o.querySelectorAll(".ui-select-choices-content");f.$animate&&f.$animate.on&&f.$animate.enabled(i[0])?f.$animate.on("enter",i[0],function(e,t){"close"===t&&c(function(){f.focusSearchInput(n)})}):c(function(){var e;if(f.focusSearchInput(n),!f.tagging.isActivated&&1<f.items.length)$(".uiselect-hidden-accessible").text(""),e=f.searchEnabled?d("xei18n")("uiselect.search.results",f.items.length):d("xei18n")("uiselect.search.disabled.results"),$(".uiselect-hidden-accessible").text(e),$(".uiselect-hidden-accessible").innerText=e;else if(0===f.items.length&&"undefined"!=f.minimumInputLength){var t=d("xei18n")("uiselect.minimum.input.text",f.minimumInputLength);$(".uiselect-hidden-accessible").text(""),$(".uiselect-hidden-accessible").text(t),$(".uiselect-hidden-accessible").innerText=t}})}},f.focusSearchInput=function(e){f.search=e||f.search,setTimeout(function(){f.searchInput[0].focus()},10)},f.findGroupByName=function(t){return f.groups&&f.groups.filter(function(e){return e.name===t})[0]},f.parseRepeatAttr=function(l,n,i,t){f.setItemsFn=n?function(e){var a=s.$eval(n);if(f.groups=[],angular.forEach(e,function(e){var t=angular.isFunction(a)?a(e):e[a],n=f.findGroupByName(t);n?n.items.push(e):f.groups.push({name:t,items:[e]})}),i){var t=s.$eval(i);angular.isFunction(t)?f.groups=t(f.groups):angular.isArray(t)&&(f.groups=function(e,t){var n,a,i=[];for(n=0;n<t.length;n+=1)for(a=0;a<e.length;a+=1)e[a].name==[t[n]]&&i.push(e[a]);return i}(f.groups,t))}f.items=[],f.groups.forEach(function(e){f.items=f.items.concat(e.items)})}:function(e){f.items=e},f.parserResult=r.parse(l.repeat),f.isGrouped=!!n,f.itemProperty=f.parserResult.itemName;function a(){var n=e(s);s.$uisSource=Object.keys(n).map(function(e){var t={};return t[f.parserResult.keyName]=e,t.value=n[e],t})}var e=f.parserResult.source;f.parserResult.keyName&&(a(),f.parserResult.source=p("$uisSource"+f.parserResult.filters),s.$watch(e,function(e,t){e!==t&&a()},!0)),f.refreshItems=function(e){angular.isArray(e)&&l.refresh&&angular.isArray(f.items)&&"object"==typeof f.items[0]&&f.items[0].isTag&&e.unshift(f.items[0]),e=e||f.parserResult.source(s);var n=f.selected;if(f.isEmpty()||angular.isArray(n)&&!n.length||!f.removeSelected)f.setItemsFn(e);else if(void 0!==e){var t=e.filter(function(t){return n.every(function(e){return!angular.equals(t,e)})});f.setItemsFn(t)}if(null!==f.items&&void 0!==f.items&&void 0!==f.items.length&&0<f.items.length){if(""!=f.search){var a=d("xei18n")("uiselect.search.results",f.items.length);$(".uiselect-hidden-accessible").text(""),$(".uiselect-hidden-accessible").text(a),$(".uiselect-hidden-accessible").innerText=a}}else if(null!==f.items&&void 0!==f.items&&void 0!==f.items.length&&0===f.items.length){var i=d("xei18n")("uiselect.no.results.found.text");$(".uiselect-hidden-accessible").text(""),$(".uiselect-hidden-accessible").text(i),$(".uiselect-hidden-accessible").innerText=i}"auto"!==f.dropdownPosition&&"up"!==f.dropdownPosition||s.calculateDropdownPos()},s.$watchCollection(f.parserResult.source,function(e){if(null==e)f.items=[];else{if(!angular.isArray(e))throw u("items","Expected an array but got '{0}'.",e);!l.minimumInputLength||t.search.length>=l.minimumInputLength?f.refreshItems(e):(f.groups=[],f.items=[]),f.ngModel.$modelValue=null}})},f.refresh=function(e){void 0!==e&&(a&&c.cancel(a),a=c(function(){s.$eval(e)},f.refreshDelay))},f.isActive=function(e){if(!f.open)return!1;var t=f.items.indexOf(e[f.itemProperty]),n=t==f.activeIndex;return!(!n||t<0&&!1!==f.taggingLabel||t<0&&!1===f.taggingLabel)&&(n&&!angular.isUndefined(f.onHighlightCallback)&&e.$eval(f.onHighlightCallback),n)},f.isDisabled=function(e){if(f.open){var t,n=f.items.indexOf(e[f.itemProperty]),a=!1;return 0<=n&&!angular.isUndefined(f.disableChoiceExpression)&&(t=f.items[n],a=!!e.$eval(f.disableChoiceExpression),t._uiSelectChoiceDisabled=a),a}},f.select=function(t,e,n){if(void 0===t||!t._uiSelectChoiceDisabled){var a=f.selected;if(!f.items&&!f.search&&!f.tagging.isActivated)return;if(!t||!t._uiSelectChoiceDisabled){if(f.tagging.isActivated){if(!1===f.taggingLabel)if(f.activeIndex<0){if(!(t=void 0!==f.tagging.fct?f.tagging.fct({tag:f.search,taggingKey:f.taggingKey}):f.search)||angular.equals(f.items[0],t))return}else t=f.items[f.activeIndex];else if(t)if(void 0!==f.tagging.fct&&"object"==typeof t&&t.isTag){if(!(t=f.tagging.fct({tag:f.search,taggingKey:f.taggingKey,onSelect:!0})))return}else if(void 0!==f.tagging.fct&&"string"==typeof t&&-1!==t.indexOf(f.taggingLabel)){if(!(t=f.tagging.fct({tag:t,taggingKey:f.taggingKey,onSelect:!0})))return}else"string"==typeof t&&-1!==t.indexOf(f.taggingLabel)&&(t=t.replace(f.taggingLabel,"").trim());if(f.selected&&angular.isArray(f.selected)&&0<f.selected.filter(function(e){return angular.equals(e,t)}).length)return void f.close(e)}var i;f.search="",t&&($(".uiselect-choice-status-hidden-accessible").text(""),i=null!=f.selectedValue?d("xei18n")("uiselect.option.selected",t[f.selectedValue]):d("xei18n")("uiselect.option.selected",t.name),$(".uiselect-choice-status-hidden-accessible").text(i),$(".uiselect-choice-status-hidden-accessible").innerText=i),s.$broadcast("uis:select",t);var l={};l[f.parserResult.itemName]=t;var r={};r[f.parserResult.itemName]=a,c(function(){angular.isUndefined(t)?f.onRemoveCallback(s,{$item:a,$model:f.parserResult.modelMapper(s,r)}):f.onSelectCallback(s,{$item:t,$model:f.parserResult.modelMapper(s,l)})}),f.focusSearchInput(""),f.closeOnSelect&&f.close(e),n&&"click"===n.type&&(f.clickTriggeredSelect=!0)}}},f.close=function(e){f.open&&(f.ngModel&&f.ngModel.$setTouched&&f.ngModel.$setTouched(),g(),f.open=!1,s.$broadcast("uis:close",e))},f.setFocus=function(){f.focus||f.focusInput[0].focus()},f.clear=function(e){f.select(void 0),e.stopPropagation(),c(function(){f.focusser[0].focus()},0,!1)},f.toggle=function(e){f.open?(f.close(),e.preventDefault(),e.stopPropagation()):f.activate()},f.toggleMultiDropdown=function(e){},f.isLocked=function(e,t){var n,a=f.selected[t];return a&&!angular.isUndefined(f.lockChoiceExpression)&&(n=!!e.$eval(f.lockChoiceExpression),a._uiSelectChoiceLocked=n),n};var i=null;function m(e){var t=!0;switch(e){case h.DOWN:!f.open&&f.multiple?f.activate(!1,!0):f.activeIndex<f.items.length-1&&f.activeIndex++;break;case h.UP:!f.open&&f.multiple?f.activate(!1,!0):(0<f.activeIndex||0===f.search.length&&f.tagging.isActivated&&-1<f.activeIndex)&&f.activeIndex--;break;case h.TAB:f.multiple&&!f.open||f.select(f.items[f.activeIndex],!0);break;case h.ENTER:1==f.items.length?f.select(f.items[0],f.skipFocusser):f.open&&(f.tagging.isActivated||0<=f.activeIndex)?f.select(f.items[f.activeIndex],f.skipFocusser):f.activate(!1,!0);break;case h.ESC:f.close();break;default:t=!1}return t}f.sizeSearchInput=function(){function e(){return a.clientWidth*!!n.offsetParent}function t(e){if(0!==e){var t=e-n.offsetLeft-10;return t<50&&(t=e),f.searchInput.css("width",t+"px"),1}}var n=f.searchInput[0],a=f.searchInput.parent().parent()[0];f.searchInput.css("width","10px"),c(function(){null!==i||t(e())||(i=s.$watch(e,function(e){t(e)&&(i(),i=null)}))})},f.searchInput.on("keydown",function(n){var a=n.which;if(~[h.ENTER,h.ESC].indexOf(a)&&(n.preventDefault(),n.stopPropagation()),~[h.ESC].indexOf(a)&&f.close(),!~[h.ENTER,h.ESC].indexOf(a)&&!h.isVerticalMovement(a)&&!1===f.searchEnabled)return n.preventDefault(),n.stopPropagation(),!1;s.$apply(function(){var e=!1;if(0<f.items.length||f.tagging.isActivated){if(m(a),f.taggingTokens.isActivated){for(var t=0;t<f.taggingTokens.tokens.length;t++)f.taggingTokens.tokens[t]===h.MAP[n.keyCode]&&0<f.search.length&&(e=!0);e&&c(function(){f.searchInput.triggerHandler("tagged");var e=f.search.replace(h.MAP[n.keyCode],"").trim();f.tagging.fct&&(e=f.tagging.fct({tag:e,taggingKey:f.taggingKey})),e&&f.select(e,!0)})}}else!f.open&&f.multiple&&m(a)}),h.isVerticalMovement(a)&&0<f.items.length&&function(){var e=o.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw u("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(f.activeIndex<0)return;var n=t[f.activeIndex];$(".uiselect-choice-status-hidden-accessible").text("");var a=$(n).find("div:last").text(),i=d("xei18n")("uiselect.option.selected",a);$(".uiselect-choice-status-hidden-accessible").text(i),$(".uiselect-choice-status-hidden-accessible").attr("aria-selected",!0),$(".uiselect-choice-status-hidden-accessible").innerText=i;var l=n.offsetTop+n.clientHeight-e[0].scrollTop,r=e[0].offsetHeight;r<l?e[0].scrollTop+=l-r:l<n.clientHeight&&(f.isGrouped&&0===f.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=n.clientHeight-l)}(),0==s.$select.search.length&&a===h.SPACE&&(n.preventDefault(),n.stopPropagation()),a!==h.ENTER&&a!==h.ESC&&a!==h.UP&&h!==h.DOWN||(n.preventDefault(),n.stopPropagation()),-1!==f.activeIndex&&(!1===f.taggingLabel||h.isVerticalMovement(a))||(f.activeIndex=0)}),f.searchInput.on("paste",function(e){var t;if(t=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(e.originalEvent||e).clipboardData.getData("text/plain"),(t=f.search+t)&&0<t.length)if(f.taggingTokens.isActivated){var n=h.toSeparator(f.taggingTokens.tokens[0]),a=t.split(n||f.taggingTokens.tokens[0]);if(a&&0<a.length){var i=f.search;angular.forEach(a,function(e){var t=f.tagging.fct?f.tagging.fct({tag:e,taggingKey:f.taggingKey}):e;t&&f.select(t,!0)}),f.search=i||l,e.preventDefault(),e.stopPropagation()}}else f.paste&&(f.paste(t),f.search=l,e.preventDefault(),e.stopPropagation())}),f.searchInput.on("tagged",function(){c(function(){g()})}),s.$on("$destroy",function(){f.searchInput.off("keyup keydown tagged blur paste")}),angular.element(n).bind("resize",function(){f.sizeSearchInput()})}]),t.directive("xeUiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(m,h,v,x,e,b,y){return{restrict:"EA",templateUrl:function(e,t){return(t.theme||h.theme)+(angular.isDefined(t.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["xeUiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(e,t){var n=/{(.*)}\s*{(.*)}/.exec(t.ngClass);if(n){var a="{"+n[1]+", "+n[2]+"}";t.ngClass=a,e.attr("ng-class",a)}return angular.isDefined(t.multiple)?e.append("<ui-select-multiple/>").removeAttr("multiple"):e.append("<ui-select-single/>"),t.inputId&&(e.querySelectorAll("input.ui-select-search")[0].id=t.inputId),function(a,l,t,e,n){var r=e[0],i=e[1];function s(e){if(r.open){if(!(window.jQuery?window.jQuery.contains(l[0],e.target):l[0].contains(e.target))&&!r.clickTriggeredSelect){var t;if(r.skipFocusser)t=!0;else{var n=angular.element(e.target).controller("xeUiSelect");t=(t=n&&n!==r)||~["input","button","textarea","select"].indexOf(e.target.tagName.toLowerCase())}r.close(t),a.$digest()}r.clickTriggeredSelect=!1}}r.selectedValue=t.textSelected,r.refreshOnChange=void 0!==t.refreshOnChange?t.refreshOnChange:"",r.disabled=!!t.hasOwnProperty("ngDisabled"),r.generatedId=h.generateId(),r.baseTitle=t.title||"Select box",r.focusserId="focusser-"+r.generatedId,"false"===t.searchEnabled?r.focusserTitle=r.baseTitle+("true"===t.ngRequired?", required":"")+", focus, Single Select Search Unavailable":r.focusserTitle=r.baseTitle+("true"===t.ngRequired?", required":"")+", focus",r.closeOnSelect=angular.isDefined(t.closeOnSelect)?b(t.closeOnSelect)():h.closeOnSelect,a.$watch("skipFocusser",function(){var e=a.$eval(t.skipFocusser);r.skipFocusser=void 0!==e?e:h.skipFocusser}),r.onSelectCallback=b(t.onSelect),r.onRemoveCallback=b(t.onRemove),r.limit=angular.isDefined(t.limit)?parseInt(t.limit,10):void 0,r.ngModel=i,r.choiceGrouped=function(e){return r.isGrouped&&e&&e.name},t.tabindex&&t.$observe("tabindex",function(e){r.focusInput.attr("tabindex",e),l.removeAttr("tabindex")}),a.$watch("searchEnabled",function(){var e=a.$eval(t.searchEnabled);r.searchEnabled=void 0!==e?e:h.searchEnabled}),a.$watch("sortable",function(){var e=a.$eval(t.sortable);r.sortable=void 0!==e?e:h.sortable}),t.$observe("disabled",function(){r.disabled=void 0!==t.disabled&&t.disabled}),t.$observe("resetSearchInput",function(){var e=a.$eval(t.resetSearchInput);r.resetSearchInput=void 0===e||e}),t.$observe("paste",function(){r.paste=a.$eval(t.paste)}),t.$observe("tagging",function(){if(void 0!==t.tagging){var e=a.$eval(t.tagging);r.tagging={isActivated:!0,fct:!0!==e?e:void 0}}else r.tagging={isActivated:!1,fct:void 0}}),t.$observe("taggingLabel",function(){void 0!==t.tagging&&("false"===t.taggingLabel?r.taggingLabel=!1:r.taggingLabel=void 0!==t.taggingLabel?t.taggingLabel:"(new)")}),t.$observe("taggingKey",function(){void 0!==t.tagging&&(r.taggingKey=void 0!==t.taggingKey?t.taggingKey:"")}),t.$observe("taggingTokens",function(){if(void 0!==t.tagging){var e=void 0!==t.taggingTokens?t.taggingTokens.split("|"):[",","ENTER"];r.taggingTokens={isActivated:!0,tokens:e}}}),angular.isDefined(t.autofocus)&&y(function(){r.setFocus()}),angular.isDefined(t.focusOn)&&a.$on(t.focusOn,function(){y(function(){r.setFocus()})}),m.on("click",s),a.$on("$destroy",function(){m.off("click",s)}),n(a,function(e){var t=angular.element("<div>").append(e),n=t.querySelectorAll(".ui-select-match");if(n.removeAttr("ui-select-match"),n.removeAttr("data-ui-select-match"),1!==n.length)throw v("transcluded","Expected 1 .ui-select-match but got '{0}'.",n.length);l.querySelectorAll(".ui-select-match").replaceWith(n);var a=t.querySelectorAll(".ui-select-choices");if(a.removeAttr("ui-select-choices"),a.removeAttr("data-ui-select-choices"),1!==a.length)throw v("transcluded","Expected 1 .ui-select-choices but got '{0}'.",a.length);l.querySelectorAll(".ui-select-choices").replaceWith(a)});var o=a.$eval(t.appendToBody);(void 0!==o?o:h.appendToBody)&&(a.$watch("$select.open",function(e){var t;e?(t=x(l),(c=angular.element('<div class="ui-select-placeholder"></div>'))[0].style.width=t.width+"px",c[0].style.height=t.height+"px",l.after(c),d=l[0].style.width,m.find("body").append(l),l[0].style.position="absolute",l[0].style.left=t.left+"px",l[0].style.top=t.top+"px",l[0].style.width=t.width+"px"):u()}),a.$on("$destroy",function(){u()}));var c=null,d="";function u(){null!==c&&(c.replaceWith(l),c=null,l[0].style.position="",l[0].style.left="",l[0].style.top="",l[0].style.width=d,r.setFocus())}var p=null,f="direction-up";a.$watch("$select.open",function(){"auto"!==r.dropdownPosition&&"up"!==r.dropdownPosition||a.calculateDropdownPos()});function g(e,t){e=e||x(l),t=t||x(p),p[0].style.position="absolute",p[0].style.top=-1*t.height+"px",l.addClass(f)}a.calculateDropdownPos=function(){if(r.open){if(0===(p=angular.element(l).querySelectorAll(".ui-select-dropdown")).length)return;p[0].style.opacity=0,y(function(){if("up"===r.dropdownPosition)g();else{l.removeClass(f);var e=x(l),t=x(p),n=m[0].documentElement.scrollTop||m[0].body.scrollTop;e.top+e.height+t.height>n+m[0].documentElement.clientHeight?g(e,t):(a=e,i=t,l.removeClass(f),a=a||x(l),i=i||x(p),p[0].style.position="",p[0].style.top="")}var a,i;p[0].style.opacity=1})}else{if(null===p||0===p.length)return;p[0].style.position="",p[0].style.top="",l.removeClass(f)}}}}}}]),t.directive("xeUiSelectMatch",["uiSelectConfig",function(l){return{restrict:"EA",require:"^xeUiSelect",replace:!0,transclude:!0,templateUrl:function(e){return e.addClass("ui-select-match"),(e.parent().attr("theme")||l.theme)+(e.parent().attr("multiple")?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(e,t,n,a){function i(e){a.allowClear=!!angular.isDefined(e)&&(""===e||"true"===e.toLowerCase())}a.lockChoiceExpression=n.uiLockChoice,n.$observe("placeholder",function(e){a.placeholder=void 0!==e?e:l.placeholder}),n.$observe("allowClear",i),i(n.allowClear),a.multiple&&a.sizeSearchInput()}}}]),t.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(i,l){return{restrict:"EA",require:["^xeUiSelect","^ngModel"],controller:["$scope","$timeout",function(a,i){var e,l=this,r=a.$select;angular.isUndefined(r.selected)&&(r.selected=[]),a.$evalAsync(function(){e=a.ngModel}),l.activeMatchIndex=-1,l.updateModel=function(){e.$setViewValue(Date.now()),l.refreshComponent()},l.refreshComponent=function(){r.refreshItems(),r.sizeSearchInput()},l.removeChoice=function(e){var t=r.selected[e];if(!t._uiSelectChoiceLocked){var n={};n[r.parserResult.itemName]=t,r.selected.splice(e,1),l.activeMatchIndex=-1,r.sizeSearchInput(),i(function(){r.onRemoveCallback(a,{$item:t,$model:r.parserResult.modelMapper(a,n)})}),l.updateModel(),r.setFocus()}},l.getPlaceholder=function(){if(!r.selected||!r.selected.length)return r.placeholder}}],controllerAs:"$selectMultiple",link:function(o,e,t,n){var c=n[0],a=o.ngModel=n[1],d=o.$selectMultiple;function u(e){return void 0!==e&&void 0!==c.search&&0<e.filter(function(e){return void 0!==c.search.toUpperCase()&&void 0!==e&&e.toUpperCase()===c.search.toUpperCase()}).length}function p(e,t){var n=-1;if(angular.isArray(e))for(var a=angular.copy(e),i=0;i<a.length;i++)if(void 0===c.tagging.fct)a[i]+" "+c.taggingLabel===t&&(n=i);else{var l=a[i];angular.isObject(l)&&(l.isTag=!0),angular.equals(l,t)&&(n=i)}return n}c.multiple=!0,c.removeSelected=!0,c.focusInput=c.searchInput,a.$isEmpty=function(e){return!e||0===e.length},a.$parsers.unshift(function(){for(var e,t={},n=[],a=c.selected.length-1;0<=a;a--)(t={})[c.parserResult.itemName]=c.selected[a],e=c.parserResult.modelMapper(o,t),n.unshift(e);return n}),a.$formatters.unshift(function(e){var l,t=c.parserResult.source(o,{$select:{search:""}}),r={};if(!t)return e;function n(e,t){if(e&&e.length)for(var n=e.length-1;0<=n;n--){if(r[c.parserResult.itemName]=e[n],l=c.parserResult.modelMapper(o,r),c.parserResult.trackByExp){var a=/(\w*)\./.exec(c.parserResult.trackByExp),i=/\.([^\s]+)/.exec(c.parserResult.trackByExp);if(a&&0<a.length&&a[1]==c.parserResult.itemName&&i&&0<i.length&&l[i[1]]==t[i[1]])return s.unshift(e[n]),1}if(angular.equals(l,t))return s.unshift(e[n]),1}else;}var s=[];if(!e)return s;for(var a=e.length-1;0<=a;a--)n(c.selected,e[a])||n(t,e[a])||s.unshift(e[a]);return s}),o.$watchCollection(function(){return a.$modelValue},function(e,t){t!=e&&(a.$modelValue=null,d.refreshComponent())}),a.$render=function(){if(!angular.isArray(a.$viewValue)){if(!angular.isUndefined(a.$viewValue)&&null!==a.$viewValue)throw i("multiarr","Expected model value to be array but got '{0}'",a.$viewValue);c.selected=[]}c.selected=a.$viewValue,d.refreshComponent(),o.$evalAsync()},o.$on("uis:select",function(e,t){c.selected.length>=c.limit||(c.selected.push(t),d.updateModel())}),o.$on("uis:activate",function(){d.activeMatchIndex=-1}),o.$watch("$select.disabled",function(e,t){t&&!e&&c.sizeSearchInput()}),c.searchInput.on("keydown",function(t){var n=t.which;o.$apply(function(){var e=!1;h.isHorizontalMovement(n)&&(e=function(n){var e,t=function(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}(c.searchInput[0]),a=c.selected.length,i=a-1,l=d.activeMatchIndex,r=d.activeMatchIndex+1,s=d.activeMatchIndex-1;if(0<t||c.search.length&&n==h.RIGHT)return!1;c.close(),e=function(){switch(n){case h.LEFT:if(~d.activeMatchIndex){var e=c.selected[s].name;return $(".uiselect-choice-status-hidden-accessible").text(e),s}e=c.selected[i].name;return $(".uiselect-choice-status-hidden-accessible").text(e),i;case h.RIGHT:if(~d.activeMatchIndex&&l!==i){var t=c.selected[r].name;return $(".uiselect-choice-status-hidden-accessible").text(t),r}return c.activate(),!1;case h.BACKSPACE:return~d.activeMatchIndex?(d.removeChoice(l),s):i;case h.DELETE:return!!~d.activeMatchIndex&&(d.removeChoice(d.activeMatchIndex),l)}}(),c.selected.length&&!1!==e?d.activeMatchIndex=Math.min(i,Math.max(0,e)):d.activeMatchIndex=-1;return!0}(n)),e&&n!=h.TAB&&(t.preventDefault(),t.stopPropagation())})}),c.searchInput.on("keyup",function(e){if(h.isVerticalMovement(e.which)||o.$evalAsync(function(){c.activeIndex=!1===c.taggingLabel?-1:0}),c.tagging.isActivated&&0<c.search.length){if(e.which===h.TAB||h.isControl(e)||h.isFunctionKey(e)||e.which===h.ESC||h.isVerticalMovement(e.which))return;if(c.activeIndex=!1===c.taggingLabel?-1:0,!1===c.taggingLabel)return;var t,n,a,i=angular.copy(c.items),l=angular.copy(c.items),r=!1,s=-1;if(void 0!==c.tagging.fct){if(0<(n=c.$filter("filter")(i,{isTag:!0})).length&&(a=n[0]),0<i.length&&a&&(r=!0,i=i.slice(1,i.length),l=l.slice(1,l.length)),t=c.tagging.fct({tag:c.search,taggingKey:c.taggingKey}),l.some(function(e){return angular.equals(e,c.tagging.fct({tag:c.search,taggingKey:c.taggingKey}))})||c.selected.some(function(e){return angular.equals(e,t)}))return void o.$evalAsync(function(){c.activeIndex=0,c.items=i});t.isTag=!0}else{if(0<(n=c.$filter("filter")(i,function(e){return e.match(c.taggingLabel)})).length&&(a=n[0]),void 0!==i[0]&&0<i.length&&a&&(r=!0,i=i.slice(1,i.length),l=l.slice(1,l.length)),t=c.search+" "+c.taggingLabel,-1<p(c.selected,c.search))return;if(u(l.concat(c.selected)))return void(r&&(i=l,o.$evalAsync(function(){c.activeIndex=0,c.items=i})));if(u(l))return void(r&&(c.items=l.slice(1,l.length)))}r&&(s=p(c.selected,t)),i=-1<s?i.slice(s+1,i.length-1):((i=[]).push(t),i.concat(l)),o.$evalAsync(function(){c.activeIndex=0,c.items=i})}}),c.searchInput.on("blur",function(){l(function(){d.activeMatchIndex=-1})})}}}]),t.directive("uiSelectSingle",["$timeout","$compile",function(l,r){return{restrict:"EA",require:["^xeUiSelect","^ngModel"],link:function(o,e,t,n){var c=n[0],a=n[1];a.$parsers.unshift(function(e){var t={};return t[c.parserResult.itemName]=e,c.parserResult.modelMapper(o,t)}),a.$formatters.unshift(function(t){var e=c.parserResult.source(o,{$select:{search:""}}),n={};if(e){var a=function(e){return n[c.parserResult.itemName]=e,c.parserResult.modelMapper(o,n)==t};if(c.selected&&a(c.selected))return c.selected;for(var i=e.length-1;0<=i;i--)if(a(e[i]))return e[i]}return t}),o.$watch("$select.selected",function(e){a.$viewValue!==e&&a.$setViewValue(e)}),a.$render=function(){c.selected=a.$viewValue},o.$on("uis:select",function(e,t){c.selected=t}),o.$on("uis:close",function(e,t){l(function(){c.tagging.isActivated&&c.refreshItems(),c.focusser.prop("disabled",!1),t||c.focusser[0].focus()},0,!1)}),o.$on("uis:activate",function(){i.prop("disabled",!0)});var i=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button'/><abbr ng-if=\"$select.allowClear && !$select.isEmpty()\" class=\"select2-search-choice-close ui-select-clear\" tabindex=\"0\" ng-click=\"$select.clear($event)\" xe-key-enter><span class=\"ui-select-offscreen\">Clear</span></abbr>");function d(e){return void 0!==e&&void 0!==c.search&&0<e.filter(function(e){return void 0!==c.search.toUpperCase()&&void 0!==e&&e.toUpperCase()===c.search.toUpperCase()}).length}r(i)(o),c.focusser=i,c.focusInput=i,e.parent().append(i),i.bind("focus",function(){o.$evalAsync(function(){c.focus=!0})}),i.bind("blur",function(){o.$evalAsync(function(){c.focus=!1})}),i.bind("keydown",function(e){return e.which===h.BACKSPACE?(e.preventDefault(),e.stopPropagation(),c.select(void 0),void o.$apply()):e.which===h.TAB||h.isControl(e)||h.isFunctionKey(e)||e.which===h.ESC?void 0:e.which==h.DOWN||e.which==h.UP||e.which==h.ENTER||e.which==h.SPACE?(e.preventDefault(),e.stopPropagation(),c.activate(),!1):void o.$digest()}),c.searchInput.on("keyup",function(e){if(c.tagging.isActivated&&0<c.search.length){if(e.which===h.TAB||h.isControl(e)||h.isFunctionKey(e)||e.which===h.ESC||h.isVerticalMovement(e.which))return;if(c.activeIndex=!1===c.taggingLabel?-1:0,!1===c.taggingLabel)return;var t,n,a,i=angular.copy(c.items),l=angular.copy(c.items),r=!1;if(void 0!==c.tagging.fct){if(0<(n=c.$filter("filter")(i,{isTag:!0})).length&&(a=n[0]),0<i.length&&a&&(r=!0,i=i.slice(1,i.length),(l=l.slice(1,l.length)).some(function(e){return angular.equals(e[c.taggingKey].toLowerCase(),c.search.toLowerCase())})))return void o.$evalAsync(function(){c.activeIndex=0,c.items=i});(t=c.tagging.fct({tag:c.search,taggingKey:c.taggingKey})).isTag=!0}else{var s=c.parserResult.source(o,{$select:{search:""}});if(a=i.filter(function(e){return s.indexOf(e)<0})[0],void 0!==i[0]&&0<i.length&&a&&(r=!0,i=i.slice(1,i.length),l=l.slice(1,l.length)),t=c.search+(c.taggingLabel?" "+c.taggingLabel:""),d(l.concat(c.selected)))return void(r&&(i=l,o.$evalAsync(function(){c.activeIndex=0,c.items=i})));if(d(l))return void(r&&(c.items=l.slice(1,l.length)))}(i=[]).push(t),i=i.concat(l),o.$evalAsync(function(){c.activeIndex=0,c.items=i})}else c.tagging.isActivated&&0===c.search.length&&angular.isArray(c.items)&&c.refreshItems()}),i.bind("keyup input",function(e){e.which===h.TAB||h.isControl(e)||h.isFunctionKey(e)||e.which===h.ESC||e.which==h.ENTER||e.which===h.BACKSPACE||(c.activate(i.val()),i.val(""),o.$digest())})}}}]),t.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(f,e,g){return{require:"^xeUiSelect",link:function(i,l,r,e){if(null===i[r.uiSelectSort])throw g("sort","Expected a list to sort");var t=angular.extend({axis:"horizontal"},i.$eval(r.uiSelectSortOptions)).axis,n="dragging",s="dropping",o="dropping-before",c="dropping-after";i.$watch(function(){return e.sortable},function(e){e?l.attr("draggable",!0):l.removeAttr("draggable")}),l.on("dragstart",function(e){l.addClass(n),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text",i.$index.toString())}),l.on("dragend",function(){l.removeClass(n)});function a(e){e.preventDefault(),("vertical"===t?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0))<this["vertical"===t?"offsetHeight":"offsetWidth"]/2?(l.removeClass(c),l.addClass(o)):(l.removeClass(o),l.addClass(c))}function d(e){e.preventDefault();var t=parseInt((e.dataTransfer||e.originalEvent.dataTransfer).getData("text"),10);f.cancel(u),u=f(function(){p(t)},20)}var u,p=function(e){var t=i.$eval(r.uiSelectSort),n=t[e],a=null;a=l.hasClass(o)?e<i.$index?i.$index-1:i.$index:e<i.$index?i.$index:i.$index+1,function(e,t){this.splice(t,0,this.splice(e,1)[0])}.apply(t,[e,a]),i.$apply(function(){i.$emit("uiSelectSort:change",{array:t,item:n,from:e,to:a})}),l.removeClass(s),l.removeClass(o),l.removeClass(c),l.off("drop",d)};l.on("dragenter",function(){l.hasClass(n)||(l.addClass(s),l.on("dragover",a),l.on("drop",d))}),l.on("dragleave",function(e){e.target==l&&(l.removeClass(s),l.removeClass(o),l.removeClass(c),l.off("dragover",a),l.off("drop",d))})}}}]),t.service("uisRepeatParser",["uiSelectMinErr","$parse",function(l,r){this.parse=function(e){var t;if(!(t=e.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",e);var n=t[5],a="";if(t[3]){n=t[5].replace(/(^\()|(\)$)/g,"");var i=t[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);i&&i[1].trim()&&(a=i[1],n=n.replace(a,""))}return{itemName:t[4]||t[2],keyName:t[3],source:r(n),filters:a,trackByExp:t[6],modelMapper:r(t[1]||t[4]||t[2]),repeatExpression:function(e){var t=this.itemName+" in "+(e?"$group.items":"$select.items");return this.trackByExp&&(t+=" track by "+this.trackByExp),t}}},this.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="" class="ui-select-choices-row-inner"></a></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="application" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),e.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results" ><li ng-if="$select.minimumInputLength" ng-show="$select.showMinMsg" class="select2-no-results" role="listbox" ng-bind="\'uiselect.minimum.input.text\' | xei18n: $select.minimumInputLength" aria-live="polite" ></li><li ng-show="$select.showNoResultsMsg && !$select.showMinMsg" role="listbox"  class="select2-no-results "  ng-bind="\'uiselect.no.results.found.text\' | xei18n" > <li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }" role="listbox"  ><div ng-show="$select.choiceGrouped($group) && !$select.showNoResultsMsg && !$select.showMinMsg" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul ng-show="!$select.showNoResultsMsg && !$select.showMinMsg" role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="listbox" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row"  ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}" ><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span><span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices" ng-click="$select.activate()"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="application" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search"  style="width: 34px;" ondrop="return false;"/></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html","<div class=\"ui-select-container select2 select2-container\" ng-class=\"{'select2-container-active select2-dropdown-open open': $select.open, 'select2-container-disabled': $select.disabled, 'select2-container-active': $select.focus, 'select2-allowclear': $select.allowClear && !$select.isEmpty()}\"><div class=\"ui-select-match\"></div><div class=\"ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active\" ng-class=\"{'select2-display-none': !$select.open}\"><div ng-class=\" {'ui-select-search-hidden' : !$select.searchEnabled , 'select2-search' : $select.searchEnabled , 'search-container' : $select.searchEnabled }\">"+'<input type="text" autocomplete="off" aria-autocomplete="list" autocorrect="false" autocapitalize="off" spellcheck="false" role="application" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}]),function(){"use strict";angular.module("xeUISelect",["ui.select","ngSanitize"]).filter("propsFilter",function(){return function(e,r){var s=[];return angular.isArray(e)?e.forEach(function(e){var t=!1;if("string"==typeof e)-1!==e.toLowerCase().indexOf(r.toLowerCase())&&(t=!0);else if("object"==typeof e)for(var n=Object.keys(r),a=0;a<n.length;a++){var i=n[a],l=r[i].toLowerCase();if(-1!==e[i].toString().toLowerCase().indexOf(l)){t=!0;break}}t&&s.push(e)}):s=e,s}}).directive("reachInfinity",["$parse","$timeout","$q",function(g,a,m){function h(e){if(e)return e=e[0]||e,isNaN(e.offsetHeight)&&e.document?e.document.documentElement.clientHeight:e.offsetHeight}function v(e){if(e&&e[0]&&e[0].getBoundingClientRect&&!e.css("none"))return e[0].getBoundingClientRect().top+function(e){if(!e)return;return e=e[0]||e,isNaN(window.pageYOffset)&&e.document?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset}(e)}return{link:function(o,c,d){var u,p=c,f=angular.isDefined(d.scrollDistance)?parseInt(d.scrollDistance):.3;function t(){var a=c.querySelectorAll(".ui-select-choices-row");if(0!==a.length){var i=angular.element(a[a.length-1]);p=angular.element(c.querySelectorAll(".ui-select-choices-content"));var e,t,n,l,r=function(){var e=h(p),t=0;a=c.querySelectorAll(".ui-select-choices-row"),i=angular.element(a[a.length-1]),void 0!==v(p)&&(t=v(p));var n=v(i)-t+h(i)-e;0<h(p)&&n<=h(p)*(f+1)&&m.when(g(d.reachInfinity)(o)).then(function(){setTimeout(function(){a=c.querySelectorAll(".ui-select-choices-row"),i=angular.element(a[a.length-1])},0)})};return e="scroll",t="optimizedScroll",n=p[0],l=!1,(n=n||window).addEventListener(e,s),u=function(){n.removeEventListener(e,s)},p.on("optimizedScroll",r),o.$on("$destroy",function(){u(),p.off("optimizedScroll",r)}),1}function s(){l||(l=!0,requestAnimationFrame(function(){n.dispatchEvent(new CustomEvent(t)),l=!1}))}}var n=o.$watch("$select.open",function(e){e&&a(function(){t()&&n()})})}}}]).directive("xeKeyEnter",function(){return{restrict:"A",scope:!0,link:function(e,t){t.on("keydown",function(e){13===e.which&&(t.click(),e.preventDefault(),e.stopPropagation())})}}})}(),angular.module("external-resouces",["pascalprecht.translate","ngSanitize"]),function(){"use strict";angular.module("xe-ui-components").constant("keyCodes",{A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_ENTER:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,COLON:186,EQUALS:187,UNDERSCORE:189,QUESTION_MARK:191,TILDE:192,OPEN_BRACKET:219,BACKWARD_SLASH:220,CLOSED_BRACKET:221,QUOTES:222,BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,RETURN:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACEBAR:32,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,HELP:47,NUM_LOCK:144}).run(["$rootScope","$window","getlocale","Language","$translate",function(e,t,n,a,i){e.isMAC=-1!==t.navigator.userAgent.indexOf("Mac"),e.isRtl=a.isRtl(),i.use(n.getUserLocale())}])}(),function(){"use strict";angular.module("utils",["ngResource"]).directive("numbersOnly",function(){return{require:"ngModel",link:function(e,t,n,a){a.$parsers.push(function(e){if(void 0===e)return"";var t=e.replace(/[^0-9]/g,"");return t!==e&&(a.$setViewValue(t),a.$render()),t})}}}).directive("browserDetect",function(){return{link:function(e,t){var n=angular||{},a=navigator.userAgent;n.ISFF=-1!==a.indexOf("Firefox"),n.ISOPERA=-1!==a.indexOf("Opera"),n.ISCHROME=-1!==a.indexOf("Chrome"),n.ISSAFARI=-1!==a.indexOf("Safari")&&!n.ISCHROME,n.ISWEBKIT=-1!==a.indexOf("WebKit"),n.ISIE=0<a.indexOf("Trident")||0<navigator.userAgent.indexOf("MSIE"),n.ISIE9=0<a.indexOf("MSIE 9"),n.ISIE10=0<a.indexOf("MSIE 10"),n.ISIE11UP=-1===a.indexOf("MSIE")&&0<a.indexOf("Trident"),n.ISIE10UP=n.ISIE10||n.ISIE11UP,n.ISIE9UP=n.ISIE9||n.ISIE10UP,n.ISIE9?t.addClass("ie ie9"):n.ISCHROME?t.addClass("modern chrome"):t.addClass("modern")}}}).directive("continuousScroll",["$window",function(i){return{restrict:"A",scope:{continuousScroll:"&",scrollParent:"@"},link:function(t,e){var n;n="body"===t.scrollParent?angular.element(i):""!==t.scrollParent?angular.element("#"+t.scrollParent):e;var a=_.throttle(function(e){("body"===t.scrollParent?angular.element(document).height():e[0].scrollHeight)-e.scrollTop()-e.height()<=500&&t.continuousScroll()},500);n.bind("scroll",function(){a(n)}),t.$on("$destroy",function(){n.off("scroll")})}}}]).directive("xeKeypress",["keyCodes",function(i){return{restrict:"A",link:function(t,e,n){e.bind("keypress",function(e){!function(e,t){var n,a=t.split(",");for(n=0;n<a.length;n+=1)if(e===i[a[n]])return!0;return!1}(e.which||e.keyCode,n.codes)||t.$apply(function(){t.$eval(n.xeKeypress,{$event:e})})})}}}]).factory("accessibility",["$rootScope","keyCodes","$document",function(n,d,a){var e={provideAccessibilityForTable:function(e,t){(function(e){var t;t=n.isMAC?"CTRL+META+Y":"ALT+Y";e.find("input.search:first").attr("shortcut-key",t).attr("global-key",!0)})(e),function(o,c){a.off("keydown",i).on("keydown",{table:o,parent:c},i),o.on("keydown",function(e){var t,n,a=angular.element(e.target),i=(a.closest(".column-filter-container").length,a.is("input.search")),l=!!a.closest(".thead").length,r=!!a.closest(".tbody").length;o.find(".tbody tbody").is(":empty"),a.closest(".tfoot").length;if(!a.is("[xe-keypress]")){switch(e.which){case d.ENTER:i?(t=o.find(".tbody tbody tr:first-child"),(s=o).find(".active-row").removeClass("active-row"),s.find(".active").removeClass("active")):(r||l)&&(n=a);break;case d.SPACEBAR:if(!l)return!0;n=a;break;default:t=f(e,o.find(":not([global-key])[shortcut-key]")),u(t,c)}var s;t&&t.length?(function(e,t){var n;e.select().focus(),e.is("tr")&&e.addClass("active-row");n=p(t?e.children().eq(t):e);n.length&&function(e){e.select().focus().on("focusout",function(e){var t=angular.element(e.target);t.closest("th").removeClass("focus-ring"),t.closest("td").removeClass("active focus-ring"),t.off("focusout")}),e.closest("tr th").addClass("focus-ring"),e.closest("tr td").addClass("active focus-ring")}(n)}(t,void 0),e.preventDefault()):n&&n.length&&(n.is("a")?(n=n.get(0)).click():n.select().focus().click(),e.preventDefault())}})}(e,t)}},i=function(e){var t=f(e,e.data.table.find("[global-key][shortcut-key]"));t&&t.length&&(u(t,e.data.parent),t.select().focus().click(),e.preventDefault())},u=function(e,t){t.prop("nodeName")||(t=angular.element("#content")),t.length&&e&&t.animate({scrollTop:e.offset().top-t.offset().top+t.scrollTop()})};function p(e){return e.find("a, :input, [tabindex=0], .xe-checkbox").first().not(":hidden, .disabled, :disabled, [readonly]")}function f(e,t){if(!angular.isUndefined(t)&&t.length){for(var n,a=0;a<t.length;a++){var i=["ctrl","alt","shift","meta"],l=t.eq(a).attr("shortcut-key").split("+");if(1===l.length){if(d[l[0]]===e.which){n=t.eq(a);break}}else if(2===l.length&&-1!==i.indexOf(l[0].toLowerCase())){if(e[l[0].toLowerCase()+"Key"]&&d[l[1]]===e.which){n=t.eq(a);break}}else if(3===l.length&&-1!==i.indexOf(l[0].toLowerCase())&&-1!==i.indexOf(l[1].toLowerCase())&&e[l[0].toLowerCase()+"Key"]&&e[l[1].toLowerCase()+"Key"]&&d[l[2]]===e.which){n=t.eq(a);break}}return n}}return e}]).factory("getlocale",["$translate",function(t){return{getUserLocale:function(){var e=jQuery("meta[name=userLocale]").attr("content");return e=e||t.use()}}}]).factory("Language",["$translate",function(i){return{isRtl:function(){var e=jQuery("meta[name=dir]").attr("content");if(e)return"rtl"===e;for(var t=["ar"],n=i.proposedLanguage()||i.use(),a=0;a<t.length;a+=1)if(-1<n.indexOf(t[a]))return!0;return!1}}}]).filter("xei18n",["$filter",function(a){return function(e,t){var n="";return angular.isDefined(e)&&angular.isDefined(jQuery.i18n)&&(n=jQuery.i18n.prop(e,[t])),(!n||0<=n.indexOf(e))&&(n=a("translate")(e,{arg1:t})),n}}])}(),function(){"use strict";angular.module("columnFilter",[]).directive("xeColumnFilter",["$document","$timeout","keyCodes",function(t,n,r){return{restrict:"E",scope:{header:"="},replace:!0,templateUrl:"templates/column-filter.html",controller:["$scope",function(n){n.selectAll={visible:!0},n.hideColumnSettingMenu=!0,n.hideUnhideColumn=function(e,t){e.options.visible?n.header.filter(function(e){return!1===e.options.visible&&!1!==e.options.columnShowHide}).length||(n.selectAll.visible=!0):n.selectAll.visible=!1},n.onSelectAll=function(e,t){n.selectAll.visible=!0,angular.forEach(e,function(e){!1===e.options.visible&&!1!==e.options.columnShowHide&&(e.options.visible=!0)})}}],link:function(a,i,e){function l(){t.off("click"),n(function(){i.find("button").attr("tabindex",0)},10)}i.on("close",function(e,t){0<i.find(t).length||(a.hideColumnSettingMenu=!0,l(),(angular.isUndefined(t)||angular.element(t).is(":not(:focus)"))&&i.find(".column-filter-button").focus(),a.$apply())}),a.bindClickEvent=function(e){a.hideColumnSettingMenu=!a.hideColumnSettingMenu,a.hideColumnSettingMenu?l():(i.find("button").attr("tabindex",-1),t.on("click",function(e){i.trigger("close",e.target)}),n(function(){i.find("ul.column-setting-menu li:first").find("div").focus()},10))},n(function(){i.find("ul.column-setting-menu li").bind("keydown",function(e){if(e.keyCode===r.ESC&&(a.hideColumnSettingMenu=!0,l(),i.find(".column-filter-button").focus(),e.preventDefault(),e.stopPropagation()),e.keyCode===r.DOWN||e.keyCode===r.TAB){if(0<$(e.currentTarget).next().length){var t=$(e.currentTarget).next();$(t).find("div").focus()}else i.find("ul.column-setting-menu li:first").find("div").focus();e.preventDefault(),e.stopPropagation()}if(e.keyCode===r.UP||e.shiftKey&&e.keyCode===r.TAB){if(0<$(e.currentTarget).prev().length){var n=$(e.currentTarget).prev();$(n).find("div").focus()}else i.find("ul.column-setting-menu li:last").find("div").focus();e.preventDefault(),e.stopPropagation()}})},10)}}}])}(),angular.module("pagination",[]).directive("xePagination",["$http","$q",function(p,f){return{restrict:"EA",replace:!0,require:"?^xeTableGrid",scope:{model:"=",endPoint:"=?",paginationConfig:"=?",resultsFound:"=",searchString:"=",fetch:"&?",postFetch:"&",totalValue:"=?"},templateUrl:"templates/pagination.html",controller:["$scope","$attrs","$timeout",function(c,d,n){var t=1;c.firstPrev=!1,c.nextLast=!1,c.onPage=1,angular.isObject(c.paginationConfig)&&!c.paginationConfig.pageLengths?c.pageOffsets=[10,20,50,100]:c.pageOffsets=c.paginationConfig.pageLengths,angular.isObject(c.paginationConfig)&&c.paginationConfig.offset?c.offset=c.paginationConfig.offset:c.offset=c.pageOffsets[0],c.pageOffsets.indexOf(c.offset)<0&&(c.pageOffsets.push(c.offset),c.pageOffsets.sort(function(e,t){return e-t})),c.offsetChanged=function(e){i(),l(c.onPage,c.numberOfPages),e&&c.fetchData(c.onPage,c.offset)},c.first=function(){c.firstPrev||(u(1),c.fetchData(c.onPage,c.offset),l(c.onPage,c.numberOfPages),a())},c.prev=function(e){if(!c.firstPrev){var t=parseInt(c.onPage);u(--t),c.fetchData(c.onPage,c.offset,e),l(c.onPage,c.numberOfPages),c.firstPrev&&a()}},c.next=function(e){if(!c.nextLast){var t=parseInt(c.onPage);u(++t),c.fetchData(c.onPage,c.offset,e),l(c.onPage,c.numberOfPages),c.nextLast&&a()}},c.last=function(){c.nextLast||(u(c.numberOfPages),c.fetchData(c.onPage,c.offset),l(c.onPage,c.numberOfPages),a())},c.paggeNumberChange=function(){c.onPage&&a(),null!==c.onPage&&t!=c.onPage&&(angular.isUndefined(c.onPage)||c.onPage<=0||c.onPage>c.numberOfPages?c.onPage=t:(u(c.onPage),c.fetchData(c.onPage,c.offset),l(c.onPage,c.numberOfPages)))},c.focusOut=function(e){angular.element(e.target).val(t)},c.$watch("resultsFound",function(e,t){n(function(){0===e?u(0):0===c.onPage&&u(1),i(),l(c.onPage,c.numberOfPages)})});var u=function(e){c.onPage=e,t=e,i(),l(c.onPage,c.numberOfPages)},a=function(){n(function(){angular.element("#pageInput").select().focus()},50)},i=function(){c.numberOfPages=Math.ceil(c.resultsFound/c.offset),c.numberOfPages=c.numberOfPages<1?0:c.numberOfPages,c.onPage>c.numberOfPages&&u(c.numberOfPages)},l=function(e,t){e=parseInt(e);var n=(t=parseInt(t))/e;1===t?(c.firstPrev=!0,c.nextLast=!0):1==n?(c.nextLast=!0,c.firstPrev=!1):n===t?(c.firstPrev=!0,c.nextLast=!1):e<=0||t<e?(c.firstPrev=!0,c.nextLast=!0):(c.nextLast=!1,c.firstPrev=!1)};c.fetchData=function(e,t,n){angular.isNumber(e)||(e=parseInt(e)),u(e);var a,i,l,r,s={max:i=(a=t)*e,offset:0==i?0:i-a},o={searchString:c.searchString,sortColumnName:c.sortColumnName,ascending:c.ascending,offset:s.offset,max:s.max,endPoint:c.endPoint,onPage:e,pageSize:t};c.loading(!0),angular.isDefined(d.fetch)?c.fetch({query:o}).then(function(e){c.postFetch({response:e,oldResult:c.model}),c.model=n?c.model.concat(e.result):e.result,c.resultsFound=e.length,angular.isDefined(e.totals)&&0!==Object.keys(e.totals).length&&(c.totalValue=e.totals),c.loading(!1),c.addExtensionColumns(c.header,e)}).catch(function(e){e&&console.error(e),c.postFetch({response:e,oldResult:c.model}),c.loading(!1)}):(l=o,r=f.defer(),url=l.endPoint+"?searchString="+(l.searchString?l.searchString:"")+"&sortColumnName="+(l.sortColumnName?l.sortColumnName:"")+"&ascending="+l.ascending+"&offset="+(l.offset?l.offset:"")+"&max="+(l.max?l.max:""),p.get(url).then(function(e){r.resolve(e)}).catch(function(){r.reject(data)}),r.promise).then(function(e){c.postFetch({response:e,oldResult:c.model}),c.model=n?c.model.concat(e.result):e.result,c.resultsFound=e.length,angular.isDefined(e.totals)&&0!==Object.keys(e.totals).length&&(c.totalValue=e.totals),c.loading(!1),c.addExtensionColumns(c.header,e)}).catch(function(e){e&&console.error(e),c.postFetch({response:e,oldResult:c.model}),c.loading(!1)})},c.offsetChanged(!1)}],link:function(n,e,t,a){n.loading=a.loadingDataIndicator,n.emptyTableMsg=a.emptyTableMsg,n.sortColumnName=a.sortColumnName,n.ascending=a.ascending,n.header=a.header,n.addExtensionColumns=a.addExtensionColumns,n.emptyTableMsg||n.fetchData(1,n.offset),a.hidePaginationIfContinuousScroll&&a.hidePaginationIfContinuousScroll(),a.next=function(e){n.next(e)},a.previous=function(e){n.prev(e)},a.fetchData=function(e,t){e=angular.isDefined(e)?e:n.onPage,t=angular.isDefined(t)?t:n.offset,n.fetchData(e,t)},a.sort=function(e,t){n.sortColumnName=e,n.ascending=t,n.fetchData(n.onPage,n.offset)}}}}]),function(){"use strict";angular.module("search",[]).directive("xeSearch",["keyCodes","$filter",function(o,n){return{restrict:"E",scope:{value:"=",placeholder:"@",onChange:"&",onFocus:"&",onBlur:"&",onKeydown:"&",searchConfig:"=",loadingData:"="},replace:!0,templateUrl:"templates/search.html",link:function(a,e,t){var i,l,r=0,s=1/0;angular.isObject(a.searchConfig)&&(angular.isDefined(a.searchConfig.minimumCharacters)&&(r=a.searchConfig.minimumCharacters),angular.isDefined(a.searchConfig.maxlength)&&(s=a.searchConfig.maxlength),angular.isUndefined(a.searchConfig.searchString)&&(a.searchConfig.searchString=""),angular.isUndefined(a.searchConfig.id)&&(a.searchConfig.id="search"),s<=r&&console.error("Wrong searchConfig: maxlength value should be more than the minimumCharacters value inside searchConfig to enable searching."),a.ariaLabel=n("xei18n")("search.aria.label"),angular.isDefined(a.searchConfig.ariaLabel)&&(a.ariaLabel=a.ariaLabel+" "+a.searchConfig.ariaLabel)),i=_.debounce(function(e){angular.isUndefined(e)||a.onChange({query:e})},a.searchConfig.delay||0),a.$watch("searchConfig.searchString",function(e,t){if(angular.isDefined(e)){var n=e.toString();n.length>s&&(n=n.substring(0,s),a.searchConfig.searchString=n),n!==(t=angular.isDefined(t)?t.toString():"")&&(n.length>s&&(n=n.substring(0,s),a.searchConfig.searchString=n),n.length>=r?i(n):n.length<t.length&&t.length>=r&&n.length<r?i(""):""===n&&0===n.length&&1===t.length&&i(""))}}),a.searchKeypress=function(e,t,n){s?angular.isDefined(e)&&e.length>=s&&(n.preventDefault(),l=e.substring(0,s),a.form[t].$setViewValue(l),a.form[t].$render()):n.preventDefault()},a.searchKeydown=function(e,t,n){n&&n.which===o.ESC?(n.preventDefault(),a.form[t].$rollbackViewValue(),a.form[t].$render(),a.value=""):n&&n.which===o.ENTER&&(a.loadingData||!a.searchConfig.searchString.length||a.searchConfig.searchString.length<r)&&(n.preventDefault(),n.stopPropagation()),a.onKeydown({$event:n})}}}}])}(),angular.module("xebarmodule",[]).factory("d3",["$window","$log",function(e,t){return e.d3||t.error("D3 must be present"),e.d3}]).directive("xeBarModule",["d3","Language","$filter","getlocale",function(B,j,K,H){return{restrict:"E",scope:{data:"=xebardata",ngclickfunction:"&",barChartWidth:"@xeChartWidth",barChartHeight:"@xeChartHeight",barWidth:"@xeBarWidth",gapWidth:"@xeGapWidth",xTitleValue:"@xeXaxisTitle",yTitleValue:"@xeYaxisTitle",yAxisFormat:"@xeYaxisFormat"},template:'<div><div class="xe-bar-tooltip"></div></div>',link:function(n,t){var a,i,l,r,s,o,c,d,u,e,p,f,g,m,h,v,x,b,y,$,C,w,k,E,I,M,F={top:20,right:50,bottom:50,left:40},A=B.scale.ordinal().range(["#9191E1","#90C9FF","#6DD6BC","#BBE19B","#F4DB76","#FFB581","#D389C6","#B2B3B7","#DD5C5F"]),D=-1,T=!1,P=0,S=0;function L(){return ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),trident=ua.indexOf("Trident/"),0<msie||0<trident?1:void 0}function O(e){return j.isRtl()?e:e.toLocaleString(H.getUserLocale().replace("_","-"))}function R(e,o){o*=2,e.each(function(){for(var e,t=B.select(this),n=t.text().split(/\s+/).reverse(),a=[],i=0,l=t.attr("y"),r=parseFloat(t.attr("dy")),s=t.text("").append("tspan").attr("x",0).attr("y",l).attr("dy",r+"em");e=n.pop();)a.push(e),s.text(a.join(" ")),(0<s.node().getComputedTextLength()?s.node().getComputedTextLength():5*s.text().length)>o&&(s=1<a.length?(a.pop(),s.text(a.join(" ")),a=[e],t.append("tspan").attr("x",0).attr("y",l).attr("dy",1.1*++i+r+"em").text(e)):(a=[],t.append("tspan").attr("x",0).attr("y",l).attr("dy",1.1*++i+r+"em").text("")))})}function N(){null!=n.data&&0!=n.data.length?(t[0].style="",h=null==n.barWidth?44:+n.barWidth,v=null==n.gapWidth?55:+n.gapWidth,g=null==n.barChartWidth?400:+n.barChartWidth,m=null==n.barChartHeight?450:+n.barChartHeight,x=null==n.xTitleValue?"":n.xTitleValue,b=null==n.yTitleValue?"":n.yTitleValue,y=null==n.yAxisFormat?"d":n.yAxisFormat,k=g-F.right-F.left,E=m-F.top-F.bottom,w=k/(h+v),C=v/(h+v),n.dataKeys=[],angular.forEach(n.data[0],function(e,t){n.dataKeys.push(t)}),1==n.dataKeys.length?(T=!0,n.dataKeys=[],angular.forEach(n.data,function(e,t){angular.forEach(e,function(e,t){n.dataKeys.push(t)})}),n.displayGroupsKey=n.dataKeys[0],n.displayValuesKey=n.dataKeys[1],M=n.data[0][n.displayGroupsKey],I=n.data[1][n.displayValuesKey],P=M.length,j.isRtl()&&(M=M.reverse()),n.dataKeys=[],angular.forEach(M[0],function(e,t){n.dataKeys.push(t)}),angular.forEach(I[0],function(e,t){n.dataKeys.push(t)}),n.subLabelKey=n.dataKeys[0],n.colorKey=n.dataKeys[1],n.labelKey=n.dataKeys[2],n.valueKey=n.dataKeys[3]):(n.labelKey=n.dataKeys[0],n.valueKey=n.dataKeys[1],n.colorKey=n.dataKeys[2],I=n.data),function(){$=t[0].getElementsByClassName("xe-bar-tooltip"),r=B.scale.ordinal(),s=B.scale.linear(),a=B.svg.axis().scale(r).orient("bottom").innerTickSize(0).outerTickSize(0),p=B.behavior.zoom().on("zoom",n.zoom),B.select(t[0]).selectAll("svg").remove(),l=B.select(t[0]).classed("svg-container",!0).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 "+F.top+" "+g+" "+m).classed("svg-content-responsive",!0),L()&&l.attr("width",k).attr("height",E),I.length>w&&l.append("text").attr("text-anchor","middle").attr("class","xe-bar-title").attr("tabindex","0").attr("focusable","true").attr("transform","translate("+g/2+","+1.5*F.top+")").attr("aria-label",K("xei18n")("barchart.viewmore.help.label")).text(K("xei18n")("barchart.viewmore.help.label")),""!=b&&(f=l.append("text").attr("text-anchor","middle").attr("class","xe-bar-title").attr("tabindex","0").attr("focusable","true").attr("aria-label",b).text(b),j.isRtl()?f.attr("transform","translate("+(g-F.right/4)+","+m/2+")rotate(-90)"):f.attr("transform","translate("+F.left/3+","+m/2+")rotate(-90)")),""!=x&&l.append("text").attr("text-anchor","middle").attr("class","xe-bar-title").attr("tabindex","0").attr("focusable","true").attr("transform","translate("+g/2+","+(m+F.bottom/3)+")").attr("aria-label",x).text(x),o=l.append("g").attr("transform","translate("+F.left+","+F.bottom+")"),i=B.svg.axis().scale(s).orient(j.isRtl()?"right":"left").innerTickSize(-k).tickFormat(B.format(y)),d=o.append("g").attr("class","y xe-bar-axis");var e=o.append("g").attr("clip-path","url(#chartAreaClip"+n.$id+")");e.append("clipPath").attr("id","chartAreaClip"+n.$id).append("rect").attr({width:k,height:E+F.bottom}),c=e.append("g").attr("class","x xe-bar-axis"),u=e.append("g").attr("class","allBars")}(),I.length>w&&l.call(p),r.domain(I.map(function(e){return e[n.labelKey]})),j.isRtl()?r.rangeRoundBands([k,(h+v)*(w-I.length)],C):r.rangeRoundBands([0,(h+v)*I.length],C),T?s.domain([0,B.max(I,function(e){return B.max(e[n.valueKey])})]).nice().range([E,0]):s.domain([0,B.max(I,function(e){return e[n.valueKey]})]).nice().range([E,0]),s.domain([0,B.max(s.ticks())+s.ticks()[1]]),l.on("keydown",function(){switch(B.event.keyCode){case 37:p.translate([p.translate()[0]+(h+v),p.translate()[1]]).event(l);break;case 39:p.translate([p.translate()[0]-(h+v),p.translate()[1]]).event(l)}}),j.isRtl()?(d.call(i).attr("transform","translate("+k+" ,0)"),d.selectAll("text").style("text-anchor","end")):d.call(i),c.attr("transform","translate(0,"+E+")").call(a).selectAll(".tick text").call(R,r.rangeBand()),u.selectAll(".bar").remove(),(e=u.selectAll(".bar").data(I).enter().append("g")).attr("class","bar").attr("transform",function(e){return"translate("+r(e[n.labelKey])+",0)"}),e.selectAll("rect").data(function(e){return T?j.isRtl()?e[n.valueKey].reverse():e[n.valueKey]:[e]}).enter().append("rect").attr("width",function(e){return T?h/P:h}).attr("x",function(e){return T?(S==P&&(S=0),S++*h/P):0}).attr("y",function(e){return T?isNaN(s(e))?0:s(e):isNaN(s(e[n.valueKey]))?0:s(e[n.valueKey])}).attr("height",function(e){return T?isNaN(s(e))?0:E-s(e):isNaN(s(e[n.valueKey]))?0:E-s(e[n.valueKey])}).style("fill",function(e){return T?(S==P&&(S=0),null==M[S][n.colorKey]||""==M[S][n.colorKey]?A(S++):M[S++][n.colorKey]):(D++,null==e[n.colorKey]||""==e[n.colorKey]?A(D%A.range().length):e[n.colorKey])}).attr("tabindex",function(e){return T&&0==e||!T&&0==e[n.valueKey]?-1:0}).attr("focusable",function(e){return T&&0==e||!T&&0==e[n.valueKey]?"false":"true"}).attr("aria-label",function(e){return T?(S==P&&(S=0),M[S++][n.subLabelKey]+" "+O(e)):e[n.labelKey]+" "+O(e[n.valueKey])}).on("mousemove",function(e){if($[0].style.left=B.event.layerX+10+"px",$[0].style.top=B.event.layerY-25+"px",$[0].style.display="block",T){var t=B.event.currentTarget.attributes["aria-label"].value;$[0].innerHTML=t.substring(0,t.lastIndexOf(" "))+"<br>"+t.substring(t.lastIndexOf(" ")+1)}else $[0].innerHTML=e[n.labelKey]+" <br> "+O(e[n.valueKey])}).on("mouseout",function(e){$[0].style.display="none"}).on("focusin",function(){B.event.target.classList.add("xe-rect-on")}).on("focusout",function(){B.event.target.classList.remove("xe-rect-on")}),e.on("click",function(e){n.ngclickfunction({barData:e})}),e.on("keydown",function(e){13==B.event.keyCode&&n.ngclickfunction({barData:e})}),e.selectAll("text").data(function(e){return T?j.isRtl()?e[n.valueKey].reverse():e[n.valueKey]:[e]}).enter().append("text").attr("class","xe-bar-label").attr("text-anchor","middle").attr("x",function(e){return T?(S==P&&(S=0),j.isRtl()?(P-S++)*h/P-h/(2*P):S++*h/P+h/(2*P)):h/2}).attr("y",function(e){return T?isNaN(s(e))?0:s(e)-3:isNaN(s(e[n.valueKey]))?0:s(e[n.valueKey])-3}).text(function(e){return O(T?e:e[n.valueKey])})):t[0].style="display:none"}t.addClass("xe-bar-chart"),L()&&(Object.getOwnPropertyDescriptor(Element.prototype,"classList")||HTMLElement&&Object.getOwnPropertyDescriptor(HTMLElement.prototype,"classList")&&Object.defineProperty(Element.prototype,"classList",Object.getOwnPropertyDescriptor(HTMLElement.prototype,"classList"))),n.$watch("data",function(e,t,n){e!=t&&N()},!0),n.zoom=function(){1==B.event.scale&&(l.select(".allBars").attr("transform","translate("+B.event.translate[0]+",0)"),l.select(".x.xe-bar-axis").attr("transform","translate("+B.event.translate[0]+","+E+")").call(a).selectAll(".tick text").call(R,r.rangeBand()))},N()}}}]),function(){"use strict";var W,G=!1,z=37,Y=39,X=13,Q=27,J=9,Z=40,ee=38,te=33,ne=34,ae=36,ie=35;angular.module("dataTableModule",["utils"]).constant("mobileMaxWidth",768).directive("xeTableGrid",["$timeout","accessibility","$window","mobileMaxWidth",function(l,r,x,b){return{restrict:"E",transclude:!0,replace:!0,scope:{tableId:"@",caption:"@?",header:"=",endPoint:"=?",fetch:"&",postFetch:"&",content:"=",resultsFound:"=?",toolbar:"=",paginate:"=?",continuousScrolling:"=?",continuousScrollParent:"@?",onRowClick:"&",onRowDoubleClick:"&",noDataMsg:"@?",emptyTableMsg:"=?",searchConfig:"=",paginationConfig:"=",draggableColumnNames:"=?",mobileLayout:"=?",height:"@?",refreshContent:"=?refreshGrid",xeSection:"@?",totalRow:"@?"},controller:["$scope","$filter","$attrs","$http","$sce","$timeout",function(d,e,t,n,a,i){var l,r,s,o=e("orderBy"),c=e("filter"),u=this;if(d.hideColumnSettingMenu=!0,d.transcludes={},d.headingTranscludes={},d.hideContainer=!1,d.sortArray=[],d.pagination=d.paginate,d.showPagination=!0,d.totalValue={},d.isMobileView=x.innerWidth<=b,d.tableId){d.pagination||(d.pagination=d.continuousScrolling),d.toolbar||d.caption||(d.noCaptionBar=!0),s=x.innerWidth>b?(d.header=e("orderBy")(d.header,"position.desktop",!1),"desktop"):(d.header=e("orderBy")(d.header,"position.mobile",!1),"mobile"),f("captionBar"),f("header"),angular.isObject(d.searchConfig)&&angular.isUndefined(d.searchConfig.searchString)&&(d.searchConfig.searchString=""),this.emptyTableMsg=d.emptyTableMsg,this.header=d.header,this.loadingDataIndicator=function(e){d.loadingData=e},this.hidePaginationIfContinuousScroll=function(){d.showPagination=!d.continuousScrolling},d.onSort=function(e){u.sortColumnName=e.heading.name,u.ascending=!u.ascending,d.pagination?e.heading.options.sortable&&u.sort(u.sortColumnName,u.ascending):e.heading.options.sortable&&(angular.isDefined(t.fetch)?(u.loadingDataIndicator(!0),d.fetch({query:{searchString:d.searchConfig.searchString,sortColumnName:u.sortColumnName,ascending:u.ascending}}).then(function(e){d.postFetch({response:e,oldResult:d.content}),d.content=e.result,u.loadingDataIndicator(!1)}).catch(function(e){console.error(e),d.postFetch({response:e,oldResult:d.content}),u.loadingDataIndicator(!1)})):d.content=o(d.content,u.sortColumnName,!u.ascending))},d.handleDrop=function(e,t){d.header=g(d.header,e,t)};var p={visible:!0,sortable:!(this.addExtensionColumns=function(l,e){if(e&&0<e.length&&e.result&&e.result[0].extensions){_.find(l,function(e){return-1<e.name.indexOf("extension.")})||angular.forEach(e.result[0].extensions,function(t){var e;if("undefined"!=typeof xe&&xe.extensionsFound){var n=_.find(xe.extensions.sections,function(e){return e.name==d.xeSection});if(n)var a=_.find(n.fields,function(e){return e.name=="extension."+t.name});a&&(e=!a.exclude&&void 0!==a.exclude)}if(e){var i={position:{desktop:_.max(l,function(e){return e.position.desktop}).position.desktop+1,mobile:_.max(l,function(e){return e.position.mobile}).position.mobile+1},name:"extension."+t.name,title:t.prompt,options:{visible:!0,sortable:!1},width:"10%"};l.push(i)}}),d.populateHeaderWidths(angular.element("#"+d.tableId));var t=_.reduce(_.pluck(l,"dynamicWidth"),function(e,t){return e+t},0);angular.element("#"+d.tableId).find(".thead, .tbody").width(t)}return l})};angular.forEach(d.header,function(e,t){angular.isUndefined(e.width)&&(e.width=""),d.$watch(function(){return d.header[t].options.visible},function(e,t){e!==t&&i(function(){d.populateHeaderWidths(angular.element("#"+d.tableId))},0)}),angular.isDefined(e.options)?(angular.isDefined(e.options.ascending)?(d.sortArray[e.name]={ascending:e.options.ascending,decending:!e.options.ascending},r=e.name,u.ascending=e.options.ascending,u.sortColumnName=e.name):d.sortArray[e.name]={ascending:!1,decending:!1},angular.isDefined(e.options.visible)||(e.options.visible=!0),angular.isDefined(e.options.sortable)||(e.options.sortable=!1)):e.options=p}),d.populateHeaderWidths=function(e){e.find(".thead, .tbody").width("");var n=0,a=0,i=e.find(".tbody thead").width(),l=parseFloat(e.find(".tbody thead").css("font-size"))||16,r=i,s=0,t=e.find(".hr-scrollable-content")[0]?e.find(".hr-scrollable-content")[0].scrollWidth:0;if((e.find(".tbody")[0]?e.find(".tbody").width():0)<t&&e.find(".thead, .tbody").width(t-1),angular.forEach(d.header,function(e){var t=e.width;x.innerWidth<b?(e.dynamicWidth="",r=0):e.options.visible?((t=h(t,i,l))?(e.dynamicWidth=t,r-=e.dynamicWidth):a++,m(e.width,"%")&&n++):(t=h(t,i,l))&&(s+=t)}),a||s){var o=Math.floor(r/a),c=Math.floor(s/n);angular.forEach(d.header,function(e){e.options.visible&&(o&&""===e.width.trim()?e.dynamicWidth=o:m(e.width,"%")&&(e.dynamicWidth+=c))})}},v(),d.fetchSpecial=function(e){if(d.pagination)u.fetchData(1);else{var t=d.fetch({query:{searchString:e,sortColumnName:u.sortColumnName,ascending:u.ascending}});u.loadingDataIndicator(!0),u.addExtensionColumns(d.header,data),t&&t.then(function(e){d.postFetch({response:e,oldResult:d.content}),d.content=e.result,angular.isDefined(d.content.totals)&&0!==Object.keys(d.content.totals).length&&(d.totalValue=d.content.totals),u.loadingDataIndicator(!1)}).catch(function(e){console.error(e),d.postFetch({response:e,oldResult:d.content}),u.loadingDataIndicator(!1)})}},this.registerTransclude=function(e){var t=e.id;d.transcludes[t]=e},this.registerHeadingTransclude=function(e){var t=e.id;d.headingTranscludes[t]=e},d.onSearchfocus=function(e){d.hideContainer=!d.hideContainer},d.onSearchBlur=function(e){d.hideContainer=!d.hideContainer,angular.element(e.target).val(d.searchConfig.searchString)},d.sortOnHeading=function(e,t){if(e.options.sortable){var n=e.name;if(r==n)d.sortArray[n]={ascending:!d.sortArray[n].ascending,decending:!d.sortArray[n].decending};else for(var a in r=n,d.sortArray)d.sortArray[a]=a==n?{ascending:!0,decending:!1}:{ascending:!1,decending:!1}}},document.doctype&&-1<navigator.appVersion.indexOf("MSIE 9")&&document.addEventListener("selectstart",function(e){for(var t=e.target;t;t=t.parentNode)if(t.attributes&&t.attributes.draggable)return e.preventDefault(),e.stopImmediatePropagation(),t.dragDrop(),!1}),d.getObjectValue=function(e,t){var n;return"object"==typeof e&&"string"==typeof t&&(n=e[t]),n},d.getTotalValue=function(e){return angular.isDefined(e.totalLabel)&&x.innerWidth>b?e.totalLabel:"object"==typeof d.totalValue&&null!==d.totalValue?angular.isDefined(d.totalValue["total"+e.name])?d.totalValue["total"+e.name]:"":void 0},d.isExtendedField=function(e,t){if(-1<t.indexOf("extension."))return d.extensionValue=d.getObjectValueForExtendedField(e,t),d.isEditable=d.isEditableField(t),d.isEditable&&(d.dataType=d.getDataType(e,t)),!0},d.isEditableField=function(n){var a;if("undefined"!=typeof xe&&xe.extensionsFound){var e=_.find(xe.extensions.sections,function(e){return e.name==d.xeSection});e&&e.fields.forEach(function(e,t){e.name!==n||e.exclude||e.editable&&(a=!0)})}return a},d.getDataType=function(e,t){var n;return"undefined"!=typeof xe&&xe.extensionsFound&&e.extensions.forEach(function(e){"extension."+e.name===t&&(n=e.datatype)}),n},d.getObjectValueForExtendedField=function(e,n){var a,i=n.split("."),t=e.extensions;return t&&t.forEach(function(e){if(e.name===i[1]&&(a=e.value,"undefined"!=typeof xe&&xe.extensionsFound)){var t=_.find(xe.extensions.sections,function(e){return e.name==d.xeSection});if(t)_.find(t.fields,function(e){return e.name==n})}}),a},d.refreshContent=function(e){e&&(t.fetch&&d.pagination?u.fetchData&&u.fetchData(1):v(),d.populateHeaderWidths(angular.element("#"+d.tableId)))}}else console.error("Provide a unique id for table");function f(e){var t,n,a,l,i,r,s,o;if("undefined"!=typeof xe&&xe.extensionsFound)switch(e){case"captionBar":(t=d.xeSection+"CaptionBar")&&(n=_.find(xe.extensions.sections,function(e){return e.name==t}))&&function(e){if(e.exclude)return d.noCaptionBar=!0;_.each(e.fields,function(e){e.exclude&&(d["no"+e.name]=!0)})}(n);break;case"header":(t=d.xeSection)&&(n=_.find(xe.extensions.sections,function(e){return e.name==t}))&&(d.header=(i=n,r=d.header,_.each(i.fields,function(e){o=_.findWhere(r,{name:e.name}),angular.isDefined(o)&&(s=e.exclude?{visible:!e.exclude,columnShowHide:!e.exclude}:{},_.extend(_.findWhere(r,{name:e.name}).options,s),e.exclude||function(e,t){e.attributes&&e.attributes.label&&angular.isString(e.attributes.label)&&(t.title=e.attributes.label),e.attributes&&e.attributes.label&&angular.isObject(e.attributes.label)&&e.attributes.label.key&&(t.title=xe.i18n(e.attributes.label.key))}(e,o))}),r),d.header=(a=n,l=d.header,_.each(a.fields,function(e){if(_.has(e,"nextSibling")){var t=_.indexOf(_.pluck(l,"name"),e.name),n=_.indexOf(_.pluck(l,"name"),e.nextSibling);if(_.isNull(e.nextSibling)&&0<=t){var a=_.last(l).name;l=g(l,e.name,a)}else if(0<=t&&0<=n){var i=t<n&&l[n-1]?l[n-1].name:l[n].name;l=g(l,e.name,i)}}}),l))}}function g(e,t,n){var a=_.indexOf(_.pluck(e,"name"),t),i=_.indexOf(_.pluck(e,"name"),n);if(0<=a&&0<=i){var l=e[a];e.splice(a,1),e.splice(i,0,l),_.each(e,function(e,t){e.position[s]=t+1})}return e}function m(e,t){return-1!==e.indexOf(t,e.length-t.length)}function h(e,t,n){return e=m(e,"%")?Math.floor(t*e.substr(0,e.indexOf("%"))/100):m(e,"em")?Math.floor(n*e.substr(0,e.indexOf("em"))):m(e,"px")?Math.floor(e.substr(0,e.indexOf("px"))):0}function v(){t.fetch||d.emptyTableMsg?d.pagination||d.emptyTableMsg||(u.loadingDataIndicator(!0),d.fetch({query:{searchString:d.searchConfig.searchString,sortColumnName:u.sortColumnName,ascending:u.ascending}}).then(function(e){d.postFetch({response:e,oldResult:d.content}),d.content=e.result,angular.isDefined(d.content.totals)&&0!==Object.keys(d.content.totals).length&&(d.totalValue=d.content.totals),u.loadingDataIndicator(!1)}).catch(function(e){console.error(e),d.postFetch({response:e,oldResult:d.content}),u.loadingDataIndicator(!1)})):(d.fetch=function(e){l=l||d.content,d.content=o(c(l,e.query.searchString,!1),u.sortColumnName,u.ascending),d.resultsFound=d.content.length,angular.isDefined(d.content.totals)&&0!==Object.keys(d.content.totals).length&&(d.totalValue=d.content.totals),u.loadingDataIndicator(!1),u.addExtensionColumns(d.header,e)},d.pagination||t.endPoint?d.pagination||(u.loadingDataIndicator(!0),n.get(d.endPoint+"?searchString="+d.searchConfig.searchString+"&sortColumnName="+(u.sortColumnName||"")+"&ascending="+(u.ascending||"")).then(function(e){d.postFetch({response:e,oldResult:d.content}),d.content=e.result,d.resultsFound=d.content.length,angular.isDefined(d.content.totals)&&0!==Object.keys(d.content.totals).length&&(d.totalValue=d.content.totals),u.loadingDataIndicator(!1),u.addExtensionColumns(d.header,e)}).catch(function(e){console.error(e),d.postFetch({response:e,oldResult:d.content}),u.loadingDataIndicator(!1),u.addExtensionColumns(d.header,e)})):console.error("Provide either end-point or fetch attribute"))}}],templateUrl:function(e,t){return"templates/dataTable.html"},compile:function(e,i){if(e.css("opacity",0),"true"===i.paginate||"true"===i.continuousScrolling){var t=e.find("xe-pagination");angular.isDefined(i.fetch)&&t.attr("fetch","fetch({query: query})"),angular.isDefined(i.postFetch)&&t.attr("post-fetch","postFetch({response: response, oldResult: oldResult})"),angular.isDefined(i.paginationConfig)&&t.attr("pagination-config","paginationConfig"),i.endPoint&&t.attr("end-point","endPoint"),t.attr("total-value","totalValue")}else e.find("xe-pagination").remove();return function(e,t,n,a){"false"!==i.paginate&&"true"!==i.continuousScrolling||angular.element(".tfoot").remove(),l(function(){t.css("opacity",1),e.populateHeaderWidths(t),r.provideAccessibilityForTable(t,angular.element("#"+e.continuousScrollParent)),e.nextPage=function(){e.continuousScrolling?e.pagination&&!e.showPagination&&a.next&&a.next(!0):e.pagination&&t.find(".pagination-container").is(":hidden")&&a.next&&a.next(!0)}})}}}}]).directive("xeCellInjector",[function(){return{require:"^xeTableGrid",restrict:"A",replace:!0,scope:!0,link:function(n,a,e,t,i){var l=e.name;a.attr("tabindex",0);var r=n.transcludes[l];if(r){var s=n.row[e.name];if(angular.isUndefined(s)){var o=r.scope.$new();r.transclude(o,function(e,t){t.row=n.row,a.append(e)})}else r.transclude(n,function(e,t){a.html(e)})}}}}]).directive("xeRowInjector",[function(){var l;return{restrict:"A",replace:!0,require:"^xeTableGrid",scope:!0,link:function(e,t,n,a,i){t.on("click",function(e){l&&l.removeClass("active-row"),t.addClass("active-row"),l=t})}}}]).directive("xeHeadingInjector",[function(){return{restrict:"A",replace:!0,require:"^xeTableGrid",scope:!0,link:function(e,n,t,a,i){var l=t.name,r=e.headingTranscludes[l];if(r){var s=r.scope.$new();r.transclude(s,function(e,t){n.find(".data").length?n.find(".data").append(e):n.append(e)})}}}}]).directive("xeCellMarkup",[function(){return{restrict:"EA",transclude:"element",replace:!0,scope:!0,require:"^xeTableGrid",link:function(e,t,n,a,i){var l;n.columnName&&a.registerTransclude?(l={id:n.columnName,transclude:i,element:t,scope:e},a.registerTransclude(l)):n.headingName&&a.registerHeadingTransclude&&(l={id:n.headingName,transclude:i,element:t,scope:e},a.registerHeadingTransclude(l))}}}]).directive("attainMobileLayout",function(){var a={1:"single-column",2:"two-columns",3:"all-columns"};return{restrict:"A",scope:!0,link:function(e,t,n){t.addClass(a[parseInt(n.attainMobileLayout)])}}}).directive("droppable",["$parse",function(e){return{link:function(e,t,n){}}}]).directive("dragDrop",function(){return{link:function(i,n,l){var t=null,a=n.index();function r(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()}-1!==i.draggableColumnNames.indexOf(i.header[a].name)&&(n.attr("draggable",!0),n.bind("dragover",function(e){r(e);var t=(e=e||window.event).originalEvent.pageX,n=e.originalEvent.pageY-170;return angular.element("#dragtable").show(),angular.element("#dragtable").css({left:t,top:n}),e.originalEvent.dataTransfer.dropEffect="move",e.preventDefault&&e.preventDefault(),!1}),n.bind("drop",function(e){angular.element("#dragtable").hide(),r(e);var t=e.originalEvent.dataTransfer.getData("text"),n=angular.element(e.target).closest("th").data("name"),a=l.dragDrop;i.$apply(function(){i[a](t,n)})}),n.bind("dragstart",function(e){angular.element(e.target).addClass("dragged"),a=angular.element(e.target).closest("th").index()+1,n.closest(".table-container").find("td:nth-child("+a+")").addClass("dragged");var t=angular.element(e.target).data("name");e.originalEvent.dataTransfer.setData("text",t)}),n.bind("dragend",function(e){angular.element(e.target).removeClass("dragged"),a=angular.element(e.target).closest("th").index()+1,n.closest(".table-container").find("td:nth-child("+a+")").removeClass("dragged"),angular.element(".drag-enter").removeClass("drag-enter"),angular.element("#dragtable").hide()}),n.bind("dragenter",function(e){angular.element(e.target).closest("th").addClass("drag-enter"),a=angular.element(e.target).closest("th").index()+1,n.closest(".table-container").find("td:nth-child("+a+")").addClass("drag-enter"),t=e.target,e.preventDefault()}),n.bind("dragleave",function(e){t==e.target&&(angular.element(e.target).closest("th").removeClass("drag-enter"),a=angular.element(e.target).closest("th").index()+1,n.closest(".table-container").find("td:nth-child("+a+")").removeClass("drag-enter"))}))}}}).directive("resize",["$timeout","$window","$filter","Language","mobileMaxWidth",function(r,s,o,c,d){return function(n,a,e){function i(){if(a[0].scrollHeight>a[0].clientHeight&&a[0].clientWidth!==a[0].offsetWidth){var e=a.width()-a[0].scrollWidth+"px";n.headerPadding=c.isRtl()?{"padding-left":e}:{"padding-right":e}}else n.headerPadding={}}r(function(){n.$watch(function(){return a.closest(".table-container").width()},function(e,t){e!==t&&(s.innerWidth>d?(n.header=o("orderBy")(n.header,"position.desktop",!1),n.populateHeaderWidths(a.closest(".table-container")),i()):n.header=o("orderBy")(n.header,"position.mobile",!1))}),n.$watch(function(){return a[0].scrollHeight},function(e,t){s.innerWidth>d&&i()})});var t=angular.element(s),l=_.debounce(function(){n.$apply()},500);t.bind("resize",l)}}]).directive("tabIndex",[function(){return{link:function(e,t,n){t.find("a, :input, [tabindex=0]").each(function(e,t){})}}}]).directive("xeFocus",function(){var _="focus-ring",V="active-row";return{restrict:"A",link:function(U,q,e){q.bind("keydown",function(e){var t=e.keyCode||e.which,n=$(q).closest(".table-container"),a=n.attr("paginate"),i=n.attr("total-row");if(G){if(G)switch(t){case X:if(0<(v=$(q).find("a, :input")).length)return G=!0,$(q).addClass(_),$(v[0]).focus(),!1;break;case Q:return G=!1,$(q).hasClass(_)&&$(q).removeClass(_),$(q).is(":input")||$(q).is("a")?($(q).parent.focus(),$(q).parent().addClass(_)):($(q).focus(),$(q).addClass(_)),e.preventDefault(),!1;case J:if(e.shiftKey){var l=$(q).parent().find("a, :input"),r=$(q).find("a, :input");if(0<(d=$.inArray(r[r.length-1],l))){$(q).hasClass(_)&&$(q).removeClass(_);var s=l[d-1];d--,c=$(s).closest("td"),$(c).addClass(_),s.focus()}else{var o=q.parent().prev();if(0<o.length)if(q.hasClass(_)&&q.removeClass(_),0<(l=o.find("a, :input")).length){s=l[l.length-1];c=$(s).closest("td"),$(c).addClass(_),$(s).focus()}}return!1}var c,d;l=$(q).parent().find("a, :input"),r=$(q).find("a, :input");if((d=$.inArray(r[0],l))<l.length-1){$(q).hasClass(_)&&$(q).removeClass(_);s=l[d+1];c=$(s).closest("td"),$(c).addClass(_),d++,$(s).focus()}else{var u=$(q).parent().next();if(0<u.length){if($(q).hasClass(_)&&$(q).removeClass(_),0<(l=u.find("a, :input")).length){s=l[0];c=$(s).closest("td"),$(c).addClass(_),$(s).focus()}}else{$(q).hasClass(_)&&$(q).removeClass(_);var p=$(q).parent().prevAll();if(0<p.length){var f=p[p.length-1],g=$(f).find(":input, a");0<g.length&&$(g[0]).focus(),c=$(g[0]).closest("td"),$(c).addClass(_)}}}return!1;case Z:case ee:return!1}}else{if("undefined"!==e.target.id&&e.target.classList.contains("search")){switch(t){case J:if(e.shiftKey)return clearFocus(e),!0;clearFocus(e);var m=$(q).closest(".table-container").find(".tbody tbody tr:first"),h=$(q).closest(".table-container").find(".tbody tbody tr:first td:first");return $("tr.active-row").removeClass(V),$(m).addClass(V),$(h).focus(),$(h).addClass(_),e.preventDefault(),!1}return!0}switch(t){case z:return $(this).closest("td").is(":first-child")||$(this).closest("th").is(":first-child")?$(q).addClass(_):($(q).hasClass(_)&&$(q).removeClass(_),$(q).prev().focus(),$(q).prev().addClass(_)),e.preventDefault(),!1;case Y:return $(this).closest("td").is(":last-child")||$(this).closest("th").is(":last-child")?$(q).addClass(_):($(q).hasClass(_)&&$(q).removeClass(_),$(q).next().focus(),$(q).next().addClass(_)),e.preventDefault(),!1;case X:var v;if(0<(v=$(q).find("a, :input")).length)return G=!0,$("tr.active-row").removeClass(V),$(q).parent().addClass(V),$(q).addClass(_),$(v[0]).focus(),!1;break;case Q:return G=!1,$(q).hasClass(_)&&$(q).removeClass(_),$(q).is(":input")||$(q).is("a")?($(q).parent().focus(),$(q).parent().addClass(_)):($(q).focus(),$(q).addClass(_)),e.preventDefault(),!1;case J:if(e.shiftKey)($(e.target).is("th")||$(e.target).is("td"))&&(clearFocus(e),$("tr.active-row").removeClass(V),angular.element("#"+U.searchConfig.id).select().focus());else if(clearFocus(e),$("tr.active-row").removeClass(V),a){var x=$(q).closest(".table-container").children().find("div.pagination-controls"),b=$(x).find("input, button , select").not(":disabled");$(b[0]).focus(),W=e.currentTarget}else{var y=$(q).closest(".table-container").next("*[tabindex != '-1']:visible");$(y[0]).focus()}return e.preventDefault(),!1;case te:clearFocus(e);var C=$(q).index(),w=(m=$(q).closest(".table-container").find(".tbody tbody tr:first"),$(m).children()[C]);return $(w).focus(),$(w).addClass(_),!1;case ne:if(clearFocus(e),i){C=$(q).index();var k=$(q).closest(".table-container").find(".trDesktop thead tr");w=$(k).children()[C];$(w).focus(),$(w).addClass(_)}else{C=$(q).index();var E=$(q).closest(".table-container").find(".tbody tbody tr:last");w=$(E).children()[C];$(w).focus(),$(w).addClass(_)}return!1;case ae:clearFocus(e);var I=$(q).parent().find("td:first");return 0===I.length&&(I=$(q).parent().find("th:first")),$(I).focus(),$(I).addClass(_),!1;case ie:clearFocus(e);var M=$(q).parent().find("td:last");return 0===M.length&&(M=$(q).parent().find("th:last")),$(M).focus(),$(M).addClass(_),!1;case Z:if(void 0===e.target.attributes.role||"columnheader"!==e.target.attributes.role.nodeValue){var F=$(q).parent().find("td");if($(F).hasClass(_)&&$(F).removeClass(_),0<F.length){var A=$(q).index(),D=$(q).parent().next();if(0<D.length){$("tr.active-row").removeClass(V),$(D).addClass(V);var T=$(D).find("td");$(T[A]).is(":input")||q.is("a")?($(T[A]).parent().focus(),$(T[A]).parent().addClass(_)):($(T[A]).focus(),$(T[A]).addClass(_))}else if(i){clearFocus(e),$("tr.active-row").removeClass(V),$(q).removeClass(_);A=$(q).index();var P=$(q).closest(".table-container").find(".trDesktop thead tr:first"),S=$(P).find("th");$(P).addClass(V),$(S[A]).focus(),$(S[A]).addClass(_),W=e.currentTarget}else $(q).addClass(_)}return e.preventDefault(),!1}F=$(q).parent().find("th");if($("th.focus-ring").removeClass(_),0<F.length){$("tr.active-row").removeClass(V);A=$(q).index();var L=$(q).closest(".table-container").find("tbody").find("tr:first td")[A];$(L).parent().addClass(V);var O=$(L).parent().find("td");$(O[A]).addClass(_),$(L).focus()}return!1;case ee:if(0<q.closest("tr").index()){$("tr.active-row").removeClass(V);F=$(q).parent().find("td");if($(F).hasClass(_)&&$(F).removeClass(_),0<F.length){A=$(q).index();var R=$(q).parent().prev(),N=$(R).find("td");$(N[A]).is(":input")||$(q).is("a")?($(N[A]).parent().focus(),$(N[A]).parent().addClass(_)):($(N[A]).focus(),$(N[A]).addClass(_)),$(R).addClass(V),$(R[A]).removeClass(_)}return e.preventDefault(),!1}if(0!==$(q).closest("tr").index())break;var B=0===$(q).closest(".tbody").length&&0===$(q).closest(".thead").length;if(i&&B){if($("td.focus-ring").removeClass(_),-1!==(K=$(q).closest("th").index())){$("th.focus-ring").removeClass(_);var j=$(q).closest(".table-container").find("tbody");$(j[0]).find("tr:last").find("td")[K].focus();O=$(j[0]).find("tr:last").find("td")[K];$(O).addClass(_)}}else{$("tr.active-row").removeClass(V),$("td.focus-ring").removeClass(_);var K;$(q).closest("tr").index();if(-1!==(K=$(q).closest("td").index())){var H=$(q).closest(".table-container").find("thead");$(H[0]).find("tr").find("th")[K].focus();O=$(H[0]).find("tr").find("th")[K];$(O).addClass(_)}}return e.preventDefault(),!1}}})}}}).directive("xeClickGrid",function(){return{restrict:"A",link:function(e,t,n){t.bind("click",function(e){clearFocus(e),$("tr.active-row").removeClass("active-row"),G=!1,$(t).addClass("focus-ring"),$(t).parent().addClass("active-row")})}}}).directive("xeGridPaginationControl",function(){return{restrict:"A",link:function(e,s,t){s.bind("keydown",function(e){clearFocus(e);var t=e.keyCode||e.which,n=$(s).closest(".table-container").children().find("div.pagination-controls"),a=$(n).find("input, button , select").not(":disabled");if(0===$.inArray(e.target,a)){if(!e.shiftKey)return!0;switch(t){case J:if($(W).is(":visible")&&$(s).parent(".table-container").find(W))$(W).focus(),$(W).parent().addClass("active-row"),$(W).addClass("focus-ring");else{var i=$(s).parent(".table-container"),l=$(i).find("tbody tr:first"),r=$(i).find("tbody tr:first td:first");$(l).addClass("active-row"),$(r).focus(),$(r).addClass("focus-ring")}return e.preventDefault(),!1;case Z:case ee:return!0}}})}}})}(),clearFocus=function(e){return $("table td.focus-ring").hasClass("focus-ring")&&$("table td.focus-ring").removeClass("focus-ring"),$("table th.focus-ring").hasClass("focus-ring")&&$("table th.focus-ring").removeClass("focus-ring"),!0},function(){"use strict";angular.module("aboutModal",[]).provider("aboutService",function(){this.method="GET",this.backendUrl="",this.setMethod=function(e){e&&(this.method=e)},this.setBackendUrl=function(e){e&&(this.backendUrl=e)},this.$get=["$http","$templateCache",function(e,t){var n=this;return{aboutInfo:function(){return e({method:n.method,url:n.backendUrl,cache:t})}}}]}).directive("xeAboutModal",["aboutService",function(n){return{restrict:"EA",scope:{show:"=",api:"="},replace:!0,transclude:!0,templateUrl:"templates/dialog_default.html",controller:["$scope",function(t){t.hide=function(){t.show=!1},n.aboutInfo().then(function(e){t.status=e.status,t.about=e.data,t.hidePlatformVersion=!1,void 0===t.about["about.banner.platform.version"]&&(t.hidePlatformVersion=!0)},function(e){500===e.status?n.aboutInfo().then(function(e){t.status=e.status,t.about=e.data},function(e){t.about=e.data||"Request failed",t.status=e.status}):(t.about=e.data||"Request failed",t.status=e.status)})}],link:function(t,e){e.on("keydown",function(e){(27===e.keyCode||"xe-modal-close"===document.activeElement.className&&13===e.keyCode)&&(t.show=!1,t.$apply()),e.shiftKey||9!==e.keyCode||"xe-modal-footer ng-binding"===document.activeElement.className&&(e.preventDefault(),angular.element("#xeModalClose").focus()),e.shiftKey&&9===e.keyCode&&("xe-modal-footer ng-binding"===document.activeElement.className&&(e.preventDefault(),angular.element("#xeModalHeader").focus()),"xe-modal-mask ng-isolate-scope"===document.activeElement.className&&(e.preventDefault(),angular.element("#xeModalFooter").focus()),"xe-modal-close"===document.activeElement.className&&(e.preventDefault(),angular.element("#xeModalFooter").focus()))})}}}])}(),function(){"use strict";angular.module("pieChartModule",[]).factory("d3",["$window","$log",function(e,t){return e.d3||t.error("D3 must be present"),e.d3}]).directive("xePieChart",["d3","$window","$log","$timeout","Language",function(ee,e,t,te,ne){var ae=0;function p(i,e,t,d,n,a,l){var r,s,o,c,u,p,f,g,m,h,v,x,b,y,C,w,k,E,I,M,F,A,D,T,P,S,L,O,R,N,B,j,K,H=[];function U(){return D=window.navigator.userAgent,T=D.indexOf("MSIE "),P=D.indexOf("Trident/"),0<T||0<P?1:void 0}function q(e){n.valueforclick=e,i&&"0"!==ee.select(this).style("opacity")&&(i.select(".xe-pie-tooltip-label").html(e.data.label),i.select(".xe-pie-tooltip-value").html(e.data.value),i.select(".xe-pie-tooltip-percent").html(e.data.percentage),i.style("display","block"))}function _(e){i&&i.style("display","none")}function V(e){if(i){var t=angular.element(l).find(".xe-pie-tooltip")[0],n=t.clientWidth,a=t.clientHeight;ne.isRtl()&&U()?i.style("top",ee.event.layerY-a-10+"px").style("left",(ee.event.layerX-n+10)/2+"px"):i.style("top",ee.event.layerY-a-10+"px").style("left",ee.event.layerX-n/2+"px")}}function W(e){if(i){var t=angular.element(l).find(".xe-pie-tooltip")[0],n=t.clientWidth,a=t.clientHeight;ne.isRtl()&&U()?i.style("top",ee.event.layerY-a-10+"px").style("left",(ee.event.layerX-n+10)/2+"px"):i.style("top",ee.event.layerY-a-10+"px").style("left",ee.event.layerX-n/2+"px")}}function G(e){return e.data.label}function z(e){return e.startAngle+(e.endAngle-e.startAngle)/2}function Y(o){o.each(function(){for(var e=ee.select(this),t=0,n=10,a=e.text(),i=a.substring(t,n),l=e.attr("y"),r=parseFloat(o.attr("dy")),s=e.text(null).append("tspan").attr("x",0).attr("y",l).attr("dy",r+"em");i;)0===t?s.text(i.trim()):s=e.append("tspan").attr("x",0).attr("y",l).attr("dy",r+"em").text(i.trim()),t+=10,n+=10,i=a.substring(t,n)})}function X(){var o,r;o=!1,F&&(F.each(function(l){var r=this,s=this.getBoundingClientRect();F.each(function(e){if(this!==r){var t,n,a,i=this.getBoundingClientRect();2*Math.abs(s.left-i.left)<s.width+i.width&&2*Math.abs(s.top-i.top)<s.height+i.height&&(t=.01*(Math.max(0,s.bottom-i.top)+Math.min(0,s.top-i.bottom)),n=ee.transform(ee.select(this).attr("transform")),a=ee.transform(ee.select(r).attr("transform")),o=!0,a.translate=[.65*d*(z(l)<Math.PI?1:-1),a.translate[1]+t],n.translate=[.65*d*(z(e)<Math.PI?1:-1),n.translate[1]-t],ee.select(this).attr("transform","translate("+n.translate+")"),ee.select(r).attr("transform","translate("+a.translate+")"))}})}),o&&(r=F[0],A&&A.attr("points",function(e,t){var n=ee.select(r[t]),a=ee.transform(n.attr("transform")),i=a.translate[0],l=a.translate[1];return[x.centroid(e),b.centroid(e),i,l]}),te(X)))}function W(e,t){ee.event.preventDefault(),ee.event.stopPropagation(),6===t&&7<H.length?(w.style("opacity",function(e,t){return 6===t?1:.1}),k.style("display","none").attr("aria-hidden",!0),E.style("display","none").attr("aria-hidden",!0),(I||M||F||A)&&(I.style("display","block").attr("aria-hidden",!1),M.style("display","block").attr("aria-hidden",!1),F.style("display","block").attr("aria-hidden",!1),A.style("display","block").attr("aria-hidden",!1),F.selectAll(".xe-pie-light-text").call(Y),X())):((I||M||F||A)&&(I.style("display","none").attr("aria-hidden",!0),M.style("display","none").attr("aria-hidden",!0),F.style("display","none").attr("aria-hidden",!0),A.style("display","none").attr("aria-hidden",!0)),w.style("opacity",1),k.style("display","block").attr("aria-hidden",!1),E.style("display","block").attr("aria-hidden",!1))}function Q(){ee.select(this).classed("xe-pie-touch",!ee.select(this).classed("xe-pie-touch"))}function J(){var c,r;c=!1,k&&(k.selectAll("text").each(function(r){var s=this,o=this.getBoundingClientRect();k.selectAll("text").each(function(e,t){if(this!==s){var n,a,i,l=this.getBoundingClientRect();2*Math.abs(o.left-l.left)<o.width+l.width&&2*Math.abs(o.top-l.top)<o.height+l.height&&(n=.01*(Math.max(0,o.bottom-l.top)+Math.min(0,o.top-l.bottom)),a=ee.transform(ee.select(this).attr("transform")),i=ee.transform(ee.select(s).attr("transform")),c=!0,i.translate=[.55*d*(z(r)<Math.PI?1:-1),i.translate[1]+n],a.translate=[.55*d*(z(e)<Math.PI?1:-1),a.translate[1]-n],ee.select(this).attr("transform","translate("+a.translate+")"),ee.select(s).attr("transform","translate("+i.translate+")"))}})}),c&&(r=k[0],E&&E.attr("points",function(e,t){var n=ee.select(r[t]).select("text"),a=ee.transform(n.attr("transform")),i=a.translate[0],l=a.translate[1];return[m.centroid(e),h.centroid(e),i,l]}),te(J)))}function Z(e){(w=t.select(".xe-pie-slices").selectAll("path.xe-pie-slice").data(p(e),G)).enter().insert("path").style("fill",function(e,t){return 6===t&&(c=e.startAngle,u=e.endAngle),y(t)}).attr("class","xe-pie-slice").on("click",W).on("touchstart",W).on("mouseover",q).on("touchstart",q).on("touchstart",Q).on("mouseout",_).on("touchend",_).on("touchend",Q).on("mousemove",V).on("touchmove",V),w.transition().duration(1e3).attrTween("d",function(e){this.d3current=this.d3current||e;var t=ee.interpolate(this.d3current,e);return this.d3current=t(0),function(e){return g(t(e))}}),w.exit().remove(),(k=t.select(".xe-pie-labels").selectAll("text").data(p(e),G)).enter().append("a").attr({"xlink:href":function(e,t){if(e.data.label===a.pie.otherLabel)return"#other-group-"+ae},tabindex:function(e,t){if(e.data.label===a.pie.otherLabel)return 0},"aria-controls":function(e,t){if(e.data.label===a.pie.otherLabel)return"other-group-"+ae},"aria-label":function(e,t){if(e.data.label===a.pie.otherLabel)return a.pie.group.otherAriaLabel}}).on("click",W).on("touchstart",W).append("text").attr({class:function(e,t){return e.data.label===a.pie.otherLabel?"xe-pie-large-text xe-pie-other-text":"xe-pie-large-text"}}).on("click",W).on("touchstart",W).on("mouseover",q).on("touchstart",q).on("mouseout",_).on("touchend",_).on("mousemove",V).on("touchmove",V),k.selectAll("text").append("tspan").attr("x","0").attr("dy",function(e){return(e.startAngle+e.endAngle)/2>Math.PI/2&&(e.startAngle+e.endAngle)/2<1.5*Math.PI?"1em":"-1em"}).attr("class","xe-pie-bold-text").text(function(e){return e.data.percentage}),k.on("click",function(e){}),k.selectAll("text").append("tspan").attr("x","0").attr("dy","1em").attr("class","xe-pie-light-text").text(function(e){return e.data.label}),k.selectAll("text").transition().duration(1e3).attrTween("transform",function(e){this.d3current=this.d3current||e;var n=ee.interpolate(this.d3current,e);return this.d3current=n(0),function(e){var t=n(e);return"translate("+h.centroid(t)+")"}}).attrTween("text-anchor",function(e){this.d3current=this.d3current||e;var n=ee.interpolate(this.d3current,e);return this.d3current=n(0),function(e){var t=n(e);return ne.isRtl()?U()||0<D.indexOf("Edge/")?z(t)<Math.PI?"start":"end":z(t)<Math.PI?"end":"start":z(t)<Math.PI?"start":"end"}}),k.exit().remove(),k.selectAll(".xe-pie-light-text").call(Y),(E=t.select(".xe-pie-lines").selectAll("polyline").data(p(e),G)).enter().append("polyline").style("stroke",function(e,t){return y(t)}),E.transition().duration(1e3).attrTween("points",function(e){this.d3current=this.d3current||e;var a=ee.interpolate(this.d3current,e);return this.d3current=a(0),function(e){var t=a(e),n=h.centroid(t);return[m.centroid(t),h.centroid(t),n]}}),E.exit().remove(),J()}e&&(e.select("thead").remove(),e.select("tbody").remove(),e.append("thead").attr("class","xe-pie-table-head"),e.append("tbody").attr("class","xe-pie-table-body")),t.selectAll("g").remove(),t.append("text").attr("text-anchor","middle").attr("font-size","4em").attr("y",20).text(110),t.append("g").attr({role:"presentation",class:"xe-pie-slices"}),t.append("g").attr({role:"listitem",class:"xe-pie-labels",id:"main-group-"+ae,"aria-live":"polite","aria-relevant":"additions removals"}),t.append("g").attr({role:"presentation",class:"xe-pie-lines"}),7<n.data.length&&(t.append("g").attr({role:"presentation",class:"xe-pie-bg-sub-slice"}),t.append("g").attr({role:"presentation",class:"xe-pie-sub-slices"}),t.append("g").attr({role:"listitem",class:"xe-pie-sub-labels",id:"other-group-"+ae,"aria-live":"polite","aria-relevant":"additions removals"}),t.append("g").attr({role:"presentation",class:"xe-pie-sub-lines"})),o=0,Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},H=angular.copy(n.data),angular.forEach(H,function(e,t){e.value=Number.isFinite(e.value)?Math.abs(e.value):0}),H.sort(function(e,t){return ee.descending(e.value,t.value)}),s=ee.sum(H,function(e){return e.value}),e&&(S=H,L=[a.table.label,a.table.value,a.table.percentage],N=L[0],B=L[1],j=L[2],O=e.select("thead.xe-pie-table-head"),R=e.select("tbody.xe-pie-table-body"),O.append("tr").selectAll("th").data(L).enter().append("th").text(function(e){return e}),R.selectAll("tr").data(S).enter().append("tr").selectAll("td").data(function(t){return L.map(function(e){return t[N]=t.label,t[B]=t.value,ne.isRtl()||(s||t[B]?t[j]=(Math.round(1e3*t[B]/s)/10).toFixed(2)+"%":t[j]="0.00%"),ne.isRtl()&&(s||t[B]?t[j]="%"+(Math.round(1e3*t[B]/s)/10).toFixed(2):t[j]="%0.00"),{column:e,value:t[e]}})}).enter().append("td").html(function(e){return e.value})),angular.forEach(H,function(e,t){t<6||H.length<8?e.origin="main":(e.origin="sub",o+=+e.value)}),7<H.length&&H.splice(7,0,{label:a.pie.otherLabel,value:o,origin:"main"}),H.forEach(function(e){ne.isRtl()||(s||e.value?e.percentage=(Math.round(1e3*e.value/s)/10).toFixed(2)+"%":e.percentage="0.00%"),ne.isRtl()&&(s||e.value?e.percentage="%"+(Math.round(1e3*e.value/s)/10).toFixed(2):e.percentage="%0.00")}),r=ee.nest().key(function(e){return e.origin}).entries(H),p=ee.layout.pie().sort(function(e,t){return ne.isRtl()&&ne.isRtl()?ee.ascending(e.value,t.value):ee.descending(e.value,t.value)}).value(function(e){return e.value}),f=ee.layout.pie().value(function(e){return e.value}).startAngle(function(e){return c}).endAngle(function(e){return u}),g=ee.svg.arc().innerRadius(.25*d).outerRadius(.5*d),m=ee.svg.arc().innerRadius(.5*d).outerRadius(.5*d),h=ee.svg.arc().innerRadius(.5*d).outerRadius(.6*d),v=ee.svg.arc().innerRadius(.5*d).outerRadius(.6*d),x=ee.svg.arc().innerRadius(.6*d).outerRadius(.6*d),b=ee.svg.arc().innerRadius(.6*d).outerRadius(.7*d),y=ee.scale.ordinal().range(["#783084","#810c33","#8073ce","#c28041","#008241","#f39fba","#6bafa6"]),C=ee.scale.ordinal().range(["#eef6f5","#ddedeb","#bcdbd7","#9ac9c3","#67aea5","#56a59b","#4d948b","#45847d","#3c746d","#33635d","#2b524d","#23423e","#1a312e","#11201f","#07100f"]),7<H.length?(Z(r[0].values),K=r[1].values,I=t.select(".xe-pie-bg-sub-slice").append("a").attr({"xlink:href":function(e,t){return"#main-group-"+ae},tabindex:function(e,t){return 0},"aria-controls":function(e,t){return"main-group-"+ae},"aria-label":a.pie.group.mainAriaLabel}).on("click",W).on("touchstart",W).append("path").attr("aria-hidden",!0).style("display","none").datum({startAngle:0,endAngle:2*Math.PI}).style("fill","#e3e3e3").attr("d",v).on("click",W).on("touchstart",W),(M=t.select(".xe-pie-sub-slices").selectAll("path.xe-pie-sub-slice").data(f(K),G)).enter().insert("path").attr("aria-hidden",!0).style("display","none").style("fill",function(e,t){return C(t)}).attr("class","xe-pie-sub-slice").on("mouseover",q).on("touchstart",q).on("mouseout",_).on("touchend",_).on("mousemove",V).on("touchmove",V),M.transition().duration(1e3).attrTween("d",function(e){this.d3current=this.d3current||e;var t=ee.interpolate(this.d3current,e);return this.d3current=t(0),function(e){return v(t(e))}}),M.exit().remove(),(F=t.select(".xe-pie-sub-labels").selectAll("text").data(f(K),G)).enter().append("text").attr("class",function(e,t){return 7<K.length?"xe-pie-small-text":"xe-pie-large-text"}).attr("aria-hidden",!0).style("display","none").on("mouseover",q).on("touchstart",q).on("mouseout",_).on("touchend",_).on("mousemove",V).on("touchmove",V),F.append("tspan").attr("x","0").attr("dy",".35em").attr("class","xe-pie-bold-text").text(function(e){return e.data.percentage}),F.append("tspan").attr("x","0").attr("dy","1em").attr("class","xe-pie-light-text").text(function(e){return e.data.label}),F.transition().duration(1e3).attrTween("transform",function(e){this.d3current=this.d3current||e;var a=ee.interpolate(this.d3current,e);return this.d3current=a(0),function(e){var t=a(e),n=b.centroid(t);return n[0]=.65*d*(z(t)<Math.PI?1:-1),"translate("+n+")"}}).attrTween("text-anchor",function(e){this.d3current=this.d3current||e;var n=ee.interpolate(this.d3current,e);return this.d3current=n(0),function(e){var t=n(e);return ne.isRtl()?z(t)<Math.PI?"end":"start":z(t)<Math.PI?"start":"end"}}),F.exit().remove(),(A=t.select(".xe-pie-sub-lines").selectAll("polyline").data(f(K),G)).enter().append("polyline").attr("aria-hidden",!0).style("display","none").style("stroke",function(e,t){return C(t)}),A.transition().duration(1e3).attrTween("points",function(e){this.d3current=this.d3current||e;var a=ee.interpolate(this.d3current,e);return this.d3current=a(0),function(e){var t=a(e),n=b.centroid(t);return n[0]=.6*d*(z(t)<Math.PI?1:-1),[x.centroid(t),b.centroid(t),n]}}),A.exit().remove()):Z(r[0].values),$(".xe-pie-slice").click(function(e){n.ngclickfunction({names:n.valueforclick})})}return{restrict:"E",scope:{data:"=xePieData",config:"=xePieConfig",ngclickfunction:"&"},link:function(e,a,t){ae+=1,a.addClass("xe-pie-chart");var n,i,l,r,s,o,c,d=a[0].clientWidth,u=angular.merge({},{tooltip:!1,hiddenTable:!1,svg:{title:"",desc:""},pie:{otherLabel:"Other"},table:{ariaLabel:"",label:"label",value:"value",percentage:"percentage"}},e.config);u.hiddenTable&&(r=ee.select(a[0]).append("table").attr({"aria-label":u.table.ariaLabel,class:"xe-pie-table-hidden"})),i=(n=d-10)+n/2,l=Math.min(n,i)/2,(s=ee.select(a[0]).append("svg").attr({xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:1.1,width:n+"px",height:i+"px",viewBox:"0 0 "+Math.min(n,i)+" "+Math.min(n,i),preserveAspectRatio:"xMinYMid meet",role:"group","aria-labelledby":"title"+ae+" desc"+ae})).append("title").attr("id","title"+ae).text(u.svg.title),s.append("desc").attr("id","desc"+ae).text(u.svg.desc),o=s.append("g").attr({role:"list","aria-label":u.pie.ariaLabel,class:"xe-pie-svg",transform:"translate("+l+", "+l+")"}),u.tooltip&&((c=ee.select(a[0]).append("div").attr("class","xe-pie-tooltip")).append("p").attr("class","xe-pie-tooltip-label"),c.append("p").attr("class","xe-pie-tooltip-value"),c.append("p").attr("class","xe-pie-tooltip-percent xe-pie-bold-text")),window.onresize=function(){return e.$apply()},e.$watch(function(){return angular.element(window)[0].innerWidth},function(){d=a[0].clientWidth,i=(n=d-10)+n/2,l=Math.min(n,i)/2,s.attr({width:n+"px",height:i+"px",viewBox:"0 0 "+Math.min(n,i)+" "+Math.min(n,i)}),o.attr({transform:"translate("+l+", "+l+")"}),p(c,r,o,l,e,u,a)}),e.$watch("data",function(e,t,n){e&&p(c,r,o,l,n,u,a)},!0)}}}])}(),angular.module("pieChartModule",[]).factory("d3",["$window","$log",function(e,t){return e.d3||t.error("D3 must be present"),e.d3}]).directive("xePieChart",["d3","$window","$log","$timeout","Language","$filter","getlocale",function(ne,e,t,ae,ie,le,n){var re=0;function se(e){return ie.isRtl()?e:(+e).toLocaleString(n.getUserLocale().replace("_","-"))}function p(i,e,t,d,n,a,l){var r,s,o,c,u,p,f,g,m,h,v,x,b,y,$,C,w,k,E,I,M,F,A,D,T,P,S,L,O,R,N,B,j,K,H=[];if(e&&(e.select("thead").remove(),e.select("tbody").remove(),e.append("thead").attr("class","xe-pie-table-head"),e.append("tbody").attr("class","xe-pie-table-body")),t.selectAll("g").remove(),t.selectAll("text").remove(),0<a.innerRadiusFactor){c=ne.sum(n.data,function(e){return e.value});var U=t.append("text").attr("text-anchor","middle");U.append("tspan").attr("class","xe-pie-total-value").attr("y",0).attr("x",0).attr("tabindex","0").text(se(c)),U.append("tspan").attr("class","xe-pie-total-label").attr("y",20).attr("x",0).attr("tabindex","0").text(a.pie.totalLabel)}function q(){return D=window.navigator.userAgent,T=D.indexOf("MSIE "),P=D.indexOf("Trident/"),0<T||0<P?1:void 0}function _(e){i&&"0"!==ne.select(this).style("opacity")&&(i.select(".xe-pie-tooltip-label").html(e.data.label),i.select(".xe-pie-tooltip-value").html(se(e.data.value)),ie.isRtl()?i.select(".xe-pie-tooltip-percent").html(le("xei18n")("default.percent")+se(e.data.percentage)):i.select(".xe-pie-tooltip-percent").html(se(e.data.percentage)+le("xei18n")("default.percent")),i.style("display","block"))}function V(e){i&&i.style("display","none")}function W(e){if(i){var t=angular.element(l).find(".xe-pie-tooltip")[0],n=t.clientWidth,a=t.clientHeight;ie.isRtl()&&q()?i.style("top",ne.event.layerY-a-10+"px").style("left",(ne.event.layerX-n+10)/2+"px"):i.style("top",ne.event.layerY-a-10+"px").style("left",ne.event.layerX-n/2+"px")}}function G(e){return e.data.label}function z(e){return e.startAngle+(e.endAngle-e.startAngle)/2}function Y(e){e.each(function(){for(var e,t=ne.select(this),n=t.text().split(/\s+/).reverse(),a=[],i=(t.attr("y"),parseFloat(t.attr("dy"))),l=t.text("").append("tspan").attr("x",0).attr("dy",i+"em");e=n.pop();)a.push(e),l.text(a.join(" ")),45<(0<l.node().getComputedTextLength()?l.node().getComputedTextLength():5*l.text().length)&&(l=1<a.length?(a.pop(),l.text(a.join(" ")),a=[e],t.append("tspan").attr("x",0).attr("dy",i+"em").text(e)):(a=[],t.append("tspan").attr("x",0).attr("dy",i+"em").text("")))})}function X(){var o,r;o=!1,F&&(F.each(function(l){var r=this,s=this.getBoundingClientRect();F.each(function(e){if(this!==r){var t,n,a,i=this.getBoundingClientRect();2*Math.abs(s.left-i.left)<s.width+i.width&&2*Math.abs(s.top-i.top)<s.height+i.height&&(t=.01*(Math.max(0,s.bottom-i.top)+Math.min(0,s.top-i.bottom)),n=ne.transform(ne.select(this).attr("transform")),a=ne.transform(ne.select(r).attr("transform")),o=!0,a.translate=[.65*d*(z(l)<Math.PI?1:-1),a.translate[1]+t],n.translate=[.65*d*(z(e)<Math.PI?1:-1),n.translate[1]-t],ne.select(this).attr("transform","translate("+n.translate+")"),ne.select(r).attr("transform","translate("+a.translate+")"))}})}),o&&(r=F[0],A&&A.attr("points",function(e,t){var n=ne.select(r[t]),a=ne.transform(n.attr("transform")),i=a.translate[0],l=a.translate[1];return[b.centroid(e),y.centroid(e),i,l]}),ae(X)))}function Q(e,t){ne.event.preventDefault(),ne.event.stopPropagation(),6===t&&7<H.length?(w.style("opacity",function(e,t){return 6===t?1:.1}),k.style("display","none").attr("aria-hidden",!0),E.style("display","none").attr("aria-hidden",!0),(I||M||F||A)&&(I.style("display","block").attr("aria-hidden",!1),M.style("display","block").attr("aria-hidden",!1),F.style("display","block").attr("aria-hidden",!1),A.style("display","block").attr("aria-hidden",!1),F.selectAll(".xe-pie-light-text").call(Y),X())):((I||M||F||A)&&(I.style("display","none").attr("aria-hidden",!0),M.style("display","none").attr("aria-hidden",!0),F.style("display","none").attr("aria-hidden",!0),A.style("display","none").attr("aria-hidden",!0)),w.style("opacity",1),k.style("display","block").attr("aria-hidden",!1),E.style("display","block").attr("aria-hidden",!1))}function J(e,t){n.ngclickfunction({pieSliceData:e.data})}function Z(){ne.select(this).classed("xe-pie-touch",!ne.select(this).classed("xe-pie-touch"))}function ee(){var c,r;c=!1,k&&(k.selectAll("text").each(function(r){var s=this,o=this.getBoundingClientRect();k.selectAll("text").each(function(e,t){if(this!==s){var n,a,i,l=this.getBoundingClientRect();2*Math.abs(o.left-l.left)<o.width+l.width&&2*Math.abs(o.top-l.top)<o.height+l.height&&(n=.01*(Math.max(0,o.bottom-l.top)+Math.min(0,o.top-l.bottom)),a=ne.transform(ne.select(this).attr("transform")),i=ne.transform(ne.select(s).attr("transform")),c=!0,i.translate=[.55*d*(z(r)<Math.PI?1:-1),i.translate[1]+n],a.translate=[.55*d*(z(e)<Math.PI?1:-1),a.translate[1]-n],ne.select(this).attr("transform","translate("+a.translate+")"),ne.select(s).attr("transform","translate("+i.translate+")"))}})}),c&&(r=k[0],E&&E.attr("points",function(e,t){var n=ne.select(r[t]).select("text"),a=ne.transform(n.attr("transform")),i=a.translate[0],l=a.translate[1];return[h.centroid(e),v.centroid(e),i,l]}),ae(ee)))}function te(e){(w=t.select(".xe-pie-slices").selectAll("path.xe-pie-slice").data(f(e),G)).enter().insert("path").style("fill",function(e,t){return 6===t&&(u=e.startAngle,p=e.endAngle),$(t)}).attr("class","xe-pie-slice").attr("tabindex","0").attr("aria-label",function(e){var t;return t=ie.isRtl()?le("xei18n")("default.percent")+se(e.data.percentage):se(e.data.percentage)+le("xei18n")("default.percent"),t+=" "+e.data.label+" "+e.data.value}).on("click",Q).on("click",J).on("keydown",function(e,t){13==ne.event.keyCode&&J(e)}).on("touchstart",Q).on("mouseover",_).on("touchstart",_).on("touchstart",Z).on("mouseout",V).on("touchend",V).on("touchend",Z).on("mousemove",W).on("touchmove",W).on("focusin",function(){ne.event.target.classList.add("xe-slice-on")}).on("focusout",function(){ne.event.target.classList.remove("xe-slice-on")}),w.transition().duration(1e3).attrTween("d",function(e){this.d3current=this.d3current||e;var t=ne.interpolate(this.d3current,e);return this.d3current=t(0),function(e){return m(t(e))}}),w.exit().remove(),(k=t.select(".xe-pie-labels").selectAll("text").data(f(e),G)).enter().append("a").attr({"xlink:href":function(e,t){if(e.data.label===a.pie.otherLabel)return"#other-group-"+re},tabindex:function(e,t){if(e.data.label===a.pie.otherLabel)return 0},"aria-controls":function(e,t){if(e.data.label===a.pie.otherLabel)return"other-group-"+re},"aria-label":function(e,t){if(e.data.label===a.pie.otherLabel)return a.pie.group.otherAriaLabel}}).on("click",Q).on("touchstart",Q).append("text").attr({class:function(e,t){return e.data.label===a.pie.otherLabel?"xe-pie-large-text xe-pie-other-text":"xe-pie-large-text"}}).on("click",Q).on("touchstart",Q).on("mouseover",_).on("touchstart",_).on("mouseout",V).on("touchend",V).on("mousemove",W).on("touchmove",W),k.selectAll("text").append("tspan").attr("x","0").attr("dy",function(e){return(e.startAngle+e.endAngle)/2>Math.PI/2&&(e.startAngle+e.endAngle)/2<1.5*Math.PI?"1em":"-1em"}).attr("class","xe-pie-bold-text").text(function(e){return ie.isRtl()?le("xei18n")("default.percent")+se(e.data.percentage):se(e.data.percentage)+le("xei18n")("default.percent")}),k.selectAll("text").append("tspan").attr("x","0").attr("dy","1em").attr("class","xe-pie-light-text").text(function(e){return e.data.label}),k.selectAll("text").transition().duration(1e3).attrTween("transform",function(e){this.d3current=this.d3current||e;var n=ne.interpolate(this.d3current,e);return this.d3current=n(0),function(e){var t=n(e);return"translate("+v.centroid(t)+")"}}).attrTween("text-anchor",function(e){this.d3current=this.d3current||e;var n=ne.interpolate(this.d3current,e);return this.d3current=n(0),function(e){var t=n(e);return ie.isRtl()?q()||0<D.indexOf("Edge/")?z(t)<Math.PI?"start":"end":z(t)<Math.PI?"end":"start":z(t)<Math.PI?"start":"end"}}),k.exit().remove(),k.selectAll(".xe-pie-light-text").call(Y),(E=t.select(".xe-pie-lines").selectAll("polyline").data(f(e),G)).enter().append("polyline").style("stroke",function(e,t){return $(t)}),E.transition().duration(1e3).attrTween("points",function(e){this.d3current=this.d3current||e;var a=ne.interpolate(this.d3current,e);return this.d3current=a(0),function(e){var t=a(e),n=v.centroid(t);return[h.centroid(t),v.centroid(t),n]}}),E.exit().remove(),ee()}t.append("g").attr({role:"presentation",class:"xe-pie-slices"}),t.append("g").attr({role:"listitem",class:"xe-pie-labels",id:"main-group-"+re,"aria-live":"polite","aria-relevant":"additions removals"}),t.append("g").attr({role:"presentation",class:"xe-pie-lines"}),7<n.data.length&&(t.append("g").attr({role:"presentation",class:"xe-pie-bg-sub-slice"}),t.append("g").attr({role:"presentation",class:"xe-pie-sub-slices"}),t.append("g").attr({role:"listitem",class:"xe-pie-sub-labels",id:"other-group-"+re,"aria-live":"polite","aria-relevant":"additions removals"}),t.append("g").attr({role:"presentation",class:"xe-pie-sub-lines"})),o=0,Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},H=angular.copy(n.data),angular.forEach(H,function(e,t){e.value=Number.isFinite(e.value)?Math.abs(e.value):0}),H.sort(function(e,t){return ne.descending(e.value,t.value)}),s=ne.sum(H,function(e){return e.value}),e&&(S=H,L=[a.table.label,a.table.value,a.table.percentage],N=L[0],B=L[1],j=L[2],O=e.select("thead.xe-pie-table-head"),R=e.select("tbody.xe-pie-table-body"),O.append("tr").selectAll("th").data(L).enter().append("th").text(function(e){return e}),R.selectAll("tr").data(S).enter().append("tr").selectAll("td").data(function(t){return L.map(function(e){return t[N]=t.label,t[B]=t.value,s||t[B]?t[j]=(Math.round(1e3*t[B]/s)/10).toFixed(2):t[j]="0.00",{column:e,value:t[e]}})}).enter().append("td").html(function(e){return e.value})),angular.forEach(H,function(e,t){t<6||H.length<8?e.origin="main":(e.origin="sub",o+=+e.value)}),7<H.length&&H.splice(7,0,{label:a.pie.otherLabel,value:o,origin:"main"}),H.forEach(function(e){s||e.value?e.percentage=(Math.round(1e3*e.value/s)/10).toFixed(2):e.percentage="0.00"}),r=ne.nest().key(function(e){return e.origin}).entries(H),f=ne.layout.pie().sort(function(e,t){return ie.isRtl()&&ie.isRtl()?ne.ascending(e.value,t.value):ne.descending(e.value,t.value)}).value(function(e){return e.value}),g=ne.layout.pie().value(function(e){return e.value}).startAngle(function(e){return u}).endAngle(function(e){return p}),m=ne.svg.arc().innerRadius(.5*d*a.innerRadiusFactor).outerRadius(.5*d),h=ne.svg.arc().innerRadius(.5*d).outerRadius(.5*d),v=ne.svg.arc().innerRadius(.5*d).outerRadius(.6*d),x=ne.svg.arc().innerRadius(.5*d).outerRadius(.6*d),b=ne.svg.arc().innerRadius(.6*d).outerRadius(.6*d),y=ne.svg.arc().innerRadius(.6*d).outerRadius(.7*d),$=ne.scale.ordinal().range(["#BA46A6","#5353d1","#51ABFF","#1ABF96","#95D162","#F5DB75","#FFB581"]),C=ne.scale.ordinal().range(["#FFF4EB","#FFDFC8","#FFCAA4","#FFB581","#FFA15D","#FF8C3A","#FF7513","#FE6A00","#EB6200","#C35100"]),7<H.length?(te(r[0].values),K=r[1].values,I=t.select(".xe-pie-bg-sub-slice").append("a").attr({"xlink:href":function(e,t){return"#main-group-"+re},tabindex:function(e,t){return 0},"aria-controls":function(e,t){return"main-group-"+re},"aria-label":a.pie.group.mainAriaLabel}).on("click",Q).on("touchstart",Q).append("path").attr("aria-hidden",!0).style("display","none").datum({startAngle:0,endAngle:2*Math.PI}).style("fill","#DBDBDD").attr("d",x).on("click",Q).on("touchstart",Q),(M=t.select(".xe-pie-sub-slices").selectAll("path.xe-pie-sub-slice").data(g(K),G)).enter().insert("path").attr("aria-hidden",!0).style("display","none").style("fill",function(e,t){return C(t)}).attr("class","xe-pie-sub-slice").on("mouseover",_).on("touchstart",_).on("mouseout",V).on("touchend",V).on("mousemove",W).on("touchmove",W),M.transition().duration(1e3).attrTween("d",function(e){this.d3current=this.d3current||e;var t=ne.interpolate(this.d3current,e);return this.d3current=t(0),function(e){return x(t(e))}}),M.exit().remove(),(F=t.select(".xe-pie-sub-labels").selectAll("text").data(g(K),G)).enter().append("text").attr("class",function(e,t){return 7<K.length?"xe-pie-small-text":"xe-pie-large-text"}).attr("aria-hidden",!0).style("display","none").on("mouseover",_).on("touchstart",_).on("mouseout",V).on("touchend",V).on("mousemove",W).on("touchmove",W),F.append("tspan").attr("x","0").attr("dy",".35em").attr("class","xe-pie-bold-text").text(function(e){return ie.isRtl()?le("xei18n")("default.percent")+se(e.data.percentage):se(e.data.percentage)+le("xei18n")("default.percent")}),F.append("tspan").attr("x","0").attr("dy","1em").attr("class","xe-pie-light-text").text(function(e){return e.data.label}),F.transition().duration(1e3).attrTween("transform",function(e){this.d3current=this.d3current||e;var a=ne.interpolate(this.d3current,e);return this.d3current=a(0),function(e){var t=a(e),n=y.centroid(t);return n[0]=.65*d*(z(t)<Math.PI?1:-1),"translate("+n+")"}}).attrTween("text-anchor",function(e){this.d3current=this.d3current||e;var n=ne.interpolate(this.d3current,e);return this.d3current=n(0),function(e){var t=n(e);return ie.isRtl()?z(t)<Math.PI?"end":"start":z(t)<Math.PI?"start":"end"}}),F.exit().remove(),(A=t.select(".xe-pie-sub-lines").selectAll("polyline").data(g(K),G)).enter().append("polyline").attr("aria-hidden",!0).style("display","none").style("stroke",function(e,t){return C(t)}),A.transition().duration(1e3).attrTween("points",function(e){this.d3current=this.d3current||e;var a=ne.interpolate(this.d3current,e);return this.d3current=a(0),function(e){var t=a(e),n=y.centroid(t);return n[0]=.6*d*(z(t)<Math.PI?1:-1),[b.centroid(t),y.centroid(t),n]}}),A.exit().remove()):te(r[0].values)}return{restrict:"E",scope:{data:"=xePieData",config:"=xePieConfig",ngclickfunction:"&"},link:function(e,a,t){re+=1,a.addClass("xe-pie-chart");var n,i,l,r,s,o,c,d=a[0].clientWidth,u=angular.merge({},{tooltip:!1,hiddenTable:!1,innerRadiusFactor:0,svg:{title:"",desc:""},pie:{otherLabel:"Other",totalLabel:"Units"},table:{ariaLabel:"",label:"label",value:"value",percentage:"percentage"}},e.config);u.hiddenTable&&(r=ne.select(a[0]).append("table").attr({"aria-label":u.table.ariaLabel,class:"xe-pie-table-hidden"})),i=n=d-10,l=Math.min(n,i)/2,(s=ne.select(a[0]).classed("svg-container",!0).append("svg").attr({xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:1.1,width:n,height:i,viewBox:"0 0 "+Math.min(n,i)+" "+Math.min(n,i),preserveAspectRatio:"xMinYMid meet",role:"group","aria-labelledby":"title"+re+" desc"+re}).classed("svg-content-responsive",!0)).append("title").attr("id","title"+re).text(u.svg.title),s.append("desc").attr("id","desc"+re).text(u.svg.desc),o=s.append("g").attr({role:"list","aria-label":u.pie.ariaLabel,class:"xe-pie-svg",transform:"translate("+l+", "+l+")"}),u.tooltip&&((c=ne.select(a[0]).append("div").attr("class","xe-pie-tooltip")).append("p").attr("class","xe-pie-tooltip-label"),c.append("p").attr("class","xe-pie-tooltip-value"),c.append("p").attr("class","xe-pie-tooltip-percent xe-pie-bold-text")),e.$watch("data",function(e,t,n){e!=t&&p(c,r,o,l,n,u,a)},!0),p(c,r,o,l,e,u,a)}}}]),function(){"use strict";angular.module("popupModal",["xe-ui-components"]).directive("xePopupModal",["$timeout",function(a){return{restrict:"EA",scope:{show:"=",pageheader:"@",focusbackelement:"@"},replace:!0,transclude:{popupContent:"?popupContent",popupButtons:"?popupButtons"},templateUrl:"templates/modal.html",controller:["$scope",function(e){e.hide=function(){e.show=!1,e.focusBackElement&&angular.element("#"+e.focusBackElement).focus()},e.popupTitle=e.pageheader,e.focusBackElement=e.focusbackelement}],link:function(t,n,e){n.attr("id",e.id),n.attr("tabindex",0).focus(),e.pageheaderXeField&&n.find(".xe-popup-header .xe-app-title").attr("xe-field",e.pageheaderXeField),e.width&&n.find(".xe-popup-container").css({"max-width":e.width,width:e.width}),n.on("keydown",function(e){27===e.keyCode||"xe-popup-close"===document.activeElement.className&&13===e.keyCode?(t.show=!1,t.$apply(),t.focusBackElement&&angular.element("#"+t.focusBackElement).focus()):9===e.keyCode&&e.shiftKey&&angular.element(document.activeElement).hasClass("xe-popup-mask")&&(n.find("#buttonContainer xe-button:last button:not(:disabled):not(:hidden)").focus(),e.preventDefault(),e.stopImmediatePropagation())}),a(function(){n.on("focus","#tabOrdering",function(){n.find("#xePopupClose").focus()}),n.on("keydown","#xePopupClose",function(e){if(9===e.keyCode&&e.shiftKey)n.find("#buttonContainer xe-button:last button:not(:disabled):not(:hidden)").focus();else if(9===e.keyCode)return!0;27!==e.keyCode&&13!==e.keyCode||(t.show=!1,t.$apply(),t.focusBackElement&&angular.element("#"+t.focusBackElement).focus()),e.preventDefault(),e.stopImmediatePropagation()})},100)}}}])}(),function(){"use strict";angular.module("tabnav",[]).directive("ngRepeatComplete",["$timeout",function(t){return{restrict:"A",link:function(s,o,e){s.keyboardNav=function(){var t,e=angular.element(o[0].parentElement),n=parseInt(e.find("li.active a").attr("id").split("tab")[1],10),a=e[0].firstElementChild,i=e[0].lastElementChild,l=e[0].querySelector("li.active"),r=function(e){l===i&&e?n=s.tabnav.tabs.length:l===a&&e&&(n=1),n===s.tabnav.tabs.length&&"right"===e?(l=a,t=angular.element(l.querySelector("a")),n=1,t.focus()):1===n&&"left"===e?(l=i,t=angular.element(l.querySelector("a")),n=s.tabnav.tabs.length,t.focus()):"right"===e?(l=l.nextElementSibling,t=angular.element(l.querySelector("a")),n=parseInt(t.attr("id").split("tab")[1],10),t.focus()):"left"===e?(l=l.previousElementSibling,t=angular.element(l.querySelector("a")),n=parseInt(t.attr("id").split("tab")[1],10),t.focus()):(s.activeElement=s.activeElement||document.activeElement.parentElement,l=s.activeElement,n=parseInt(angular.element(l).find("a").attr("id").split("tab")[1],10),s.activeElement=null),s.$apply(function(){l.focus(),s.tabnav.activate(s.tabnav.tabs[n-1])})};s.keydownEventHandler=function(e){var t=e.keyCode||e.which||e.originalEvent.keyCode;return 39===t||40===t?(r("right"),!1):37!==t&&38!==t||(r("left"),!1)},s.keyupEventHandler=function(e){var t=!1;if(13===(e.keyCode||e.which||e.originalEvent.keyCode)&&!t)return t=!0,r(),!1},e.on("keydown",s.keydownEventHandler),e.on("keyup",s.keyupEventHandler)},!0===s.$last&&t(s.keyboardNav)}}}]).directive("xeTabNav",function(){return{restrict:"EA",scope:{xeSection:"@?"},transclude:!0,templateUrl:"templates/tabNav.html",controllerAs:"tabnav",controller:["$compile","$sce","$q","$scope","$state",function(e,t,n,l,a){var r=this;r.currentActive=null,r.tabs=[],r.extendTab=function(n,a){var i;if("undefined"!=typeof xe&&xe.extensionsFound){var e=_.find(xe.extensions.sections,function(e){return e.name==l.xeSection});e&&e.fields.forEach(function(e,t){e.name===a.xeField&&(e.label&&(n.heading=xe.i18n(e.label)),e.exclude&&(i=!0))})}i||r.tabs.push(a)},r.loadDynamicContent=function(e,t){"[object Function]"!==Object.prototype.toString.call(e)||t.hasTranscludedContent||t.dynamicContent||e().then(function(e){t.dynamicContent=e,t.dynamic(e)},function(e){console.error(e)})},r.activate=function(e){r.currentActive.active=!1,e.active=!0,(r.currentActive=e).state?a.go(e.state,e.stateParams):r.loadDynamicContent(e.loadDataOnClick,e)}}]}}).directive("xeTabPanel",["$compile",function(r){return{restrict:"EA",transclude:!0,scope:{heading:"@",state:"@",loadDataOnClick:"&",jsLazyLoad:"@",xeField:"@?"},templateUrl:"templates/tabPanel.html",require:"^xeTabNav",link:function(a,i,e,t,n){t.extendTab(e,a),a.element=i,a.tabIndex=t.tabs.indexOf(a)+1,a.lazyLoadJs=function(e){var t=document.createElement("script");t.src=e.jsLazyLoad,document.head.appendChild(t)};n(function(e,t){e.text().trim().length&&(a.hasTranscludedContent=!0,angular.element(i[0].querySelector("[content]")).append(e))});var l="disableDefaultTabActivation"in e;e.hasOwnProperty("active")?(a.active=!0,t.currentActive=a):!i.is(":last-child")||t.currentActive||l||(t.tabs[0].active=!0,t.currentActive=t.tabs[0],t.currentActive.element.attr("active","")),t.currentActive&&t.loadDynamicContent(t.currentActive.loadDataOnClick,t.currentActive),a.dynamic=function(e){var t,n;t=angular.element(e),n=r(t)(a),angular.element(i[0].querySelector("[content]")).append(n),a.jsLazyLoad&&a.active&&a.lazyLoadJs(a)}}}}])}(),function(){"use strict";angular.module("timePicker",["xe-ui-components","ngMessages","dateParser"]).directive("xeTimePicker",["$timeout","$filter","$window","$document","Language","keyCodes","$dateParser","dateFilter",function(e,U,r,t,q,_,s,u){return{restrict:"E",scope:{displayFormat:"@?",xeConfigstep:"@?",xeId:"@",xeName:"@",xePlaceholder:"@?",modelScope:"=?xeModel",returnFormat:"@?",returnTranslatedMeridian:"@?",xeWidth:"@?"},replace:!0,templateUrl:q.isRtl()?"templates/timePicker_rtl.html":"templates/timePicker.html",controller:["$scope",function(d){d.timeObject={},d.toggleContainer=!1,d.hours=[],d.minutes=[],d.displayFormat?d.xeTimePlaceholder=d.xePlaceholder:(d.displayFormat=U("xei18n")("default.timepicker.time.format"),"default.time.watermark.format"!=U("xei18n")("default.time.watermark.format")&&(d.xeTimePlaceholder=U("xei18n")("default.time.watermark.format"))),void 0!==d.modelScope&&null!==d.modelScope||(d.modelScope=""),d.displayModel=d.modelScope,d.minFocusElem="",d.hrsFocusElem="",d.showError=!1,d._12hrFormat="hh:mm a",d._24hrFormat="HH:mm",d.formatNumberTwoDecimal=function(e){return""!=e&&(e=new Intl.NumberFormat("en-US",{minimumIntegerDigits:2}).format(e)),e},d.formatTimeTo12Hours=function(e,t){var n;if(e){var a=e.split(" ")[1];2<e.split(" ").length&&(a=e.split(" ")[1]+e.split(" ")[2]),t?"PM"===a?a=d.meridiansList[1]:"AM"===a&&(a=d.meridiansList[0]):a===d.meridiansList[1]?a="PM":a===d.meridiansList[0]&&(a="AM"),n=e.split(" ")[0]+" "+a}return n},d.formatEnteredTime=function(e,t,n){var a=s(e,t);return u(a,n)};var t=r.navigator.userAgent,n={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer/i};if(d.getBrowser=function(){for(var e in n)if(n[e].test(t))return e},!d.xeConfigstep){var e=new Intl.NumberFormat("en-US",{minimumIntegerDigits:2}).format(1);d.xeConfigstep=e}d.timeObject=new function(){d.timeObject.hours=[],d.timeObject.minutes=[],d.timeObject.configstep,d.timeObject.is24Hrformat,d.timeObject.returnFormat},d.timeObject.displayFormat=d.displayFormat,d.timeObject.returnFormat=d.returnFormat,null!=d.timeObject.displayFormat&&"undefined"!=d.timeObject.displayFormat&&(2===(a=d.timeObject.displayFormat.split(" ").length)?(d.maxHrs=12,d.minHr=1,d.timeObject.is24Hrformat=!1):(d.maxHrs=23,d.minHr=0,d.timeObject.is24Hrformat=!0),d.maxMinutes=59,d.timeObject.configstep=d.xeConfigstep,d.timeObject.hours=l(d.maxHrs,1),d.timeObject.minutes=l(d.maxMinutes,d.timeObject.configstep));if(null!=d.returnFormat&&"undefined"!=d.returnFormat){var a=d.returnFormat.split(" ").length;d.timeObject.returnFormat=2===a?12:24}if(null!=d.displayModel&&"undefined"!=d.displayModel){var i=d.displayModel.split(" ").length;d.timeObject.format12=2===i?"Y":"N"}else d.timeObject.format12=null;function l(e,t){var n=[],a=parseInt(0);for(12===e&&(a=1),(t=parseInt(t))?(60<t||t<0)&&(t=1):t=1;a<=e;){var i=new Intl.NumberFormat("en-US",{minimumIntegerDigits:2}).format(a);n.push(i),a+=t}return n}function o(e,t,n,a){var i=parseInt(e)+1;if(i<n.length){var l=angular.element(t).closest("ul");angular.element(l).find("li").each(function(e,t){$(t).attr("tabindex",-1)}),angular.element(l).find("li").siblings().removeClass("active-timepicker");var r=angular.element(l).find("li")[i];a?d.hrsFocusElem=r:d.minFocusElem=r,angular.element(r).addClass("active-timepicker"),angular.element(r).attr("tabindex",0),angular.element(r).focus()}var s=parseInt(i)+1,o=angular.element(t).closest("div");if(angular.element(o).find("div.nextDiv").text(""),parseInt(e)>n.length-2||parseInt(e)===n.length-2)angular.element(o).find("div.nextDiv").text("");else{l=angular.element(t).closest("ul");if(angular.element(o).find("div.nextDiv").text(""),angular.element(l).find("li")){var c=angular.element(l).find("li")[s].innerText;angular.element(o).find("div.nextDiv").text(c)}}}function c(e,t){var n=parseInt(e),a=angular.element(t).closest("ul"),i=angular.element(t).closest("div");if(void 0!==angular.element(a).find("li")[n]){var l=angular.element(a).find("li")[n].innerText;angular.element(i).find("div.previousDiv").text(l)}else angular.element(i).find("div.previousDiv").text("")}0==d.timeObject.is24Hrformat&&"Y"==d.timeObject.format12?d.timeObject.format12="Y":1==d.timeObject.is24Hrformat&&"N"==d.timeObject.format12&&(d.timeObject.format12="N"),d.meridiansList=[U("xei18n")("default.time.am"),U("xei18n")("default.time.pm")],d.commonIncrement=function(e,t,n){if(n){if(0===parseInt(e)||-1===parseInt(e))o(e,t,d.timeObject.hours,n),c(e,t);else if(0<parseInt(e)&&parseInt(e)<d.timeObject.hours.length-2)o(e,t,d.timeObject.hours,n),c(e,t);else if(parseInt(e)>d.timeObject.hours.length-2||parseInt(e)===d.timeObject.hours.length-2){o(e,t,d.timeObject.hours,n);i=parseInt(e);if(parseInt(e)!==d.timeObject.hours.length-1){var a=angular.element(t).closest("ul");r=angular.element(a).find("li")[i].innerText,s=angular.element(t).closest("div");angular.element(s).find("div.previousDiv").text(""),angular.element(s).find("div.previousDiv").text(r)}}}else if(0===parseInt(e)||-1===parseInt(e))o(e,t,d.timeObject.minutes,n),c(e,t);else if(0<parseInt(e)&&parseInt(e)<d.timeObject.minutes.length-2)o(e,t,d.timeObject.minutes,n),c(e,t);else if(parseInt(e)>d.timeObject.minutes.length-2||parseInt(e)===d.timeObject.minutes.length-2){o(e,t,d.timeObject.minutes,n);var i=parseInt(e);if(parseInt(e)!==d.timeObject.minutes.length-1){var l=angular.element(t).closest("ul"),r=angular.element(l).find("li")[i].innerText,s=angular.element(t).closest("div");angular.element(s).find("div.previousDiv").text(""),angular.element(s).find("div.previousDiv").text(r)}}},d.commonDecrement=function(e,t,n){var a=e-1,i=angular.element(t).closest("div");if(!(parseInt(a)<0)){var l=angular.element(t).closest("ul"),r=angular.element(l).find("li")[a];if(n?d.hrsFocusElem=angular.element(l).find("li")[a]:d.minFocusElem=angular.element(l).find("li")[a],angular.element(l).find("li").each(function(e,t){$(t).attr("tabindex",-1)}),angular.element(l).find("li").siblings().removeClass("active-timepicker"),angular.element(r).addClass("active-timepicker"),angular.element(r).attr("tabindex",0),angular.element(r).focus(),angular.element(i).find("div.nextDiv").text(""),n)var s=d.timeObject.hours[1+a];else s=d.timeObject.minutes[1+a];if(angular.element(i).find("div.nextDiv").text(s),a<1||0==a)angular.element(i).find("div.previousDiv").text("");else{if(angular.element(i).find("div.previousDiv").text(""),n)var o=d.timeObject.hours[a-1];else o=d.timeObject.minutes[a-1];angular.element(i).find("div.previousDiv").text(o)}}},d.disableInput=function(e){e.find("input.input-field").attr("disabled","disabled"),e.find("input.input-field").attr("readonly","readonly"),e.find("input.input-field").attr("tabindex",-1)},d.enableInput=function(e){e.find("input.input-field").removeAttr("readonly"),e.find("input.input-field").removeAttr("disabled"),e.find("input.input-field").attr("tabindex",0)}}],link:function(K,H){t.bind("click",function(e){0<H.find(e.target).length||(K.toggleContainer=!1,H.removeClass("time-picker-position"),K.enableInput(H),K.$digest())}),e(function(){function u(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}H.find(".input-outerContainer").css("width",K.xeWidth),angular.element(H.find("div.timepickerContainer")).on("keydown",function(e){e.keyCode===_.F9&&(K.toggleContainer=!1,H.removeClass("time-picker-position"),K.$digest(),K.enableInput(H),H.find("div.input-container input.input-field").focus(),M())}),K.displayModel&&function(e){var t=K.formatEnteredTime(e,K.returnFormat,K.returnFormat),n=K.formatEnteredTime(e,K.returnFormat,K.displayFormat);12==K.timeObject.returnFormat&&(t=K.timeObject.is24Hrformat?t:(t=K.formatTimeTo12Hours(n,!1),K.formatEnteredTime(t,K._12hrFormat,K.returnFormat)));K.timeObject.is24Hrformat||(n=K.formatTimeTo12Hours(n,!0));K.displayModel=n,K.modelScope=t}(K.displayModel);var e,t=K.getBrowser();e="chrome"==t?"wheel":"firefox"==t?"DOMMouseScroll":"mousewheel",H.find("div.extraDiv").on("focus",function(){angular.element(K.hrsFocusElem).focus(),K.focusPrevElement=H.find(".hrsFocus"),angular.element(K.focusPrevElement).addClass("active-timepickerFocus")});var n=H.find("div.input-container .inputicon");angular.element(n).on("click",function(e){F(),K.focusHrsElement=H.find(".hrsFocus"),angular.element(K.focusHrsElement).addClass("active-timepickerFocus"),K.showError=!1,K.toggleContainer=!K.toggleContainer,K.toggleContainer?(H.addClass("time-picker-position"),K.disableInput(H)):(H.removeClass("time-picker-position"),K.enableInput(H));var t=H.find("input.input-field").val();if(f(t),K.$digest(),K.showError){var n=H.find("ul:last li")[0],a=H.find("ul:first li")[0];K.commonDecrement(1,n,!1),K.commonDecrement(1,a,!0),H.find("ul:first li")[0].focus(),angular.element(H).find("input.input-field").val(""),K.displayModel="",K.modelScope="",K.$apply()}else if(K.timeObject.is24Hrformat){var i=t.split(":")[0],l=t.split(":")[1];p(i=parseInt(i),l=parseInt(l),H)}else{i=t.split(":")[0];if(i=parseInt(i)-1,void 0!==(l=t.split(":")[1])){var r,s;p(i,l.split(" ")[0],H);var o=l.split(" ")[1];o.toLocaleLowerCase()===U("xei18n")("default.time.am").toLocaleLowerCase()?(r=K.meridiansList[0],s=K.meridiansList[1]):o.toLocaleLowerCase()===U("xei18n")("default.time.pm").toLocaleLowerCase()&&(r=K.meridiansList[1],s=K.meridiansList[0]),H.find("div.pushmeBorder").text(r),H.find("div.meridianPm").text(s)}else p(i,0,H)}u(e)});var a=H.find("div.timepickerContainer");angular.element(a).on("keydown",function(e){e.keyCode===_.ESC&&(F(),K.enableInput(H),K.showError=!1,K.toggleContainer=!1,H.removeClass("time-picker-position"),K.$digest(),H.find("div.input-container input.input-field").focus(),u(e))});var i=H.find("div.input-container input.input-field");function p(e,n,t){var a,i,l,r=parseInt(-1);K.timeObject.is24Hrformat?(a=K.timeObject.hours[parseInt(e)],K.timeObject.minutes.map(function(e,t){e==n&&(l=t)}),n=l,i=K.timeObject.minutes[parseInt(n)]):(a=K.timeObject.hours[parseInt(e)-1],K.timeObject.minutes.map(function(e,t){e==n&&(l=t)}),n=l,i=K.timeObject.minutes[parseInt(n)-1]);var s=t.find("ul:last li")[parseInt(n)],o=t.find("ul:first li")[parseInt(e)];i&&a?(t.find("ul:last li")[parseInt(n)].focus(),K.commonIncrement(parseInt(n)-1,s,!1),K.commonIncrement(parseInt(e)-1,o,!0),t.find("ul:first li")[parseInt(e)].focus()):0===e&&void 0===a&&void 0!==i?(t.find("ul:last li")[parseInt(n)].focus(),K.commonIncrement(parseInt(n)-1,s,!1),K.commonIncrement(r,o,!0)):void 0===i&&void 0!==a?(s=t.find("ul:last li")[0],K.commonIncrement(r,s,!1),K.commonIncrement(parseInt(e-1),o,!0)):(s=t.find("ul:last li")[0],o=t.find("ul:first li")[0],K.commonIncrement(r,s,!1),K.commonIncrement(r,o,!0))}function f(e){var t=K.showError=!1;null!=e&&""!=e&&(t=function(e){var t=!1;g(e)||(t=!0);return t}(e)),t&&(K.showError=!0,K.$emit("time-picker-error",U("xei18n")("timepicker.error.format.validation"),K.xeId))}function g(e){var t;if(K.timeObject.is24Hrformat){var n=e.split(":"),a=K.formatNumberTwoDecimal(n[0])+":"+K.formatNumberTwoDecimal(n[1]);t=K.formatEnteredTime(a,K._24hrFormat,K.timeObject.displayFormat)}else if(e){var i=K.formatTimeTo12Hours(e,!1);t=K.formatEnteredTime(i,K._12hrFormat,K._12hrFormat)}return t}angular.element(i).on("focusout",function(e){var t=H.find("input.input-field").val();K.enableInput(H),f(t),u(e),K.showError?(H.find("input.input-field").val(""),K.displayModel="",K.modelScope=""):m(t=g(t)),K.$apply()}),angular.element(i).on("keydown",function(e){if(e.keyCode===_.F9){F();var t=H.find(".hrsFocus");angular.element(t).addClass("active-timepickerFocus"),K.showError=!1;var n=angular.element(H).find("input.input-field").val();if(K.toggleContainer=!0,H.addClass("time-picker-position"),f(n),K.$digest(),K.disableInput(H),M(),A(),K.showError){var a=H.find("ul:last li")[0],i=H.find("ul:first li")[0];K.commonDecrement(1,a,!1),K.commonDecrement(1,i,!0),H.find("ul:first li")[0].focus(),angular.element(H).find("input.input-field").val("")}else{if(K.timeObject.is24Hrformat){var l=n.split(":")[0],r=n.split(":")[1];p(l=parseInt(l),r=parseInt(r),H)}else{l=n.split(":")[0];if(l=parseInt(l)-1,void 0!==(r=n.split(":")[1])){0;var s,o=r.split(" ")[0],c=K.meridiansList[1];p(l,o,H);var d=r.split(" ")[1];void 0!==d&&(d.toLocaleLowerCase()===U("xei18n")("default.time.am").toLocaleLowerCase()?(s=K.meridiansList[0],c=K.meridiansList[1]):d.toLocaleLowerCase()===U("xei18n")("default.time.pm").toLocaleLowerCase()&&(s=K.meridiansList[1],c=K.meridiansList[0]),H.find("div.pushmeBorder").text(s),H.find("div.meridianPm").text(c))}else p(l,0,H)}}u(e)}if(e.keyCode===_.TAB)return f(this.value),m(n=g(this.value)),K.$apply(),!0});H.find("footer.timerFooter .footercancelButton");function l(){var e=angular.element("#"+K.xeId).closest("div").next();K.toggleContainer=!1,H.removeClass("time-picker-position");var t=angular.element(e).find("ul:first li.active-timepicker").text(),n=angular.element(e).find("ul:last li.active-timepicker").text(),a=angular.element(e).find("div.pushmeBorder").text(),i=t+":"+n,l=K.timeObject.is24Hrformat?i:i+" "+a;m(l),K.enableInput(H),H.find("input.input-field").focus(),K.displayModel=l,angular.element(H.find("input.input-field")).controller("ngModel").$setDirty(),K.$apply()}function m(e){var t,n;if("Y"===K.timeObject.format12||"N"===K.timeObject.format12)if(K.timeObject.is24Hrformat)n=K.formatEnteredTime(e,K.displayFormat,K.returnFormat);else{var a=K.formatTimeTo12Hours(e,!1);n=K.formatEnteredTime(a,K.displayFormat,K.returnFormat)}if("Y"===K.timeObject.format12||"N"===K.timeObject.format12)if(K.timeObject.is24Hrformat)t=K.formatEnteredTime(e,K.displayFormat,K.displayFormat);else{var i=K.formatTimeTo12Hours(e,!1);t=K.formatEnteredTime(i,K.displayFormat,K.displayFormat),t=K.formatTimeTo12Hours(t,!0)}K.displayModel=t,K.modelScope=n}function r(e){var n=U("xei18n")("default.time.am"),a=U("xei18n")("default.time.pm");$(e).text(function(e,t){return t===n?a:n}),$(e).next().text(function(e,t){return t===n?a:n})}if(H.find("footer.timerFooter .footercancelButton").on("click",function(e){F(),K.showError=!1,K.enableInput(H),K.toggleContainer=!1,H.removeClass("time-picker-position"),K.$digest(),H.find("div.input-container input.input-field").focus(),u(e)}),H.find("footer.timerFooter .footercancelButton").on("keydown",function(e){e.shiftKey&&e.keyCode===_.TAB&&(M(),K.timeObject.is24Hrformat?(D(),F(),C(H.find("ul.minFocus"))):(F(),C(H.find("div.meridianFocus"))));return!0}),H.find("footer.timerFooter xe-button button.primary").on("keydown, click",function(e){l(),u(e)}),H.find("footer.timerFooter xe-button button.primary").on("keydown",function(e){e.shiftKey||e.keyCode!==_.TAB||(M(),A())}),!K.timeObject.is24Hrformat){var s=H.find("div.timepickerContainer .mainContainer .tickerContainer")[0].classList[1],o=H.find("div.timepickerContainer .mainContainer .pushmeBorder")[0],c=H.find(".meridianFocus");$("."+s).on(e,function(e){F(),C(c),r(o)}),$("."+s).on("click",function(e){F(),C(c)}),$("."+s).on("keydown",function(e){e.keyCode!==_.UP&&e.keyCode!==_.DOWN||r(o),e.shiftKey&&e.keyCode===_.TAB&&(M(),D()),e.shiftKey||e.keyCode!==_.TAB||M()}),$("."+s).on("touchend",function(e){F(),C(c),r(o)})}K.hrsFocusElem=H.find("ul:first li")[0],K.minFocusElem=H.find("ul:last li")[0];var d=H.find("ul:first li"),h=d[0],v=angular.element(h).closest("div"),x=angular.element(h).closest("ul"),b=angular.element(x).find("li")[1].innerText;function y(e,t,n,a){var i=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));i<0?K.commonIncrement(t,n,a):0<i&&K.commonDecrement(t,n,a)}function C(e){angular.element(e).addClass("active-timepickerFocus")}angular.element(v).find("div.nextDiv").text(b),angular.element(h).attr("tabindex",0),$(x).on("click",function(){F(),C(x)}),angular.element(v).find("div.nextDiv").on(e,function(e){var t=e.originalEvent,n=$(this.parentElement).find("ul li.active-timepicker");return F(),C(H.find(".hrsFocus")),y(t,parseInt(n[0].classList[0].split("_")[1]),n,!0),u(e),!1}),angular.element(v).find("div.previousDiv").on(e,function(e){var t=e.originalEvent,n=$(this.parentElement).find("ul li.active-timepicker");return F(),C(H.find(".hrsFocus")),y(t,parseInt(n[0].classList[0].split("_")[1]),n,!0),u(e),!1}),d.on("keydown",function(e){var t=parseInt(this.classList[0].split("_")[1]);if(K.focusPrevElement=H.find(".minFocus"),K.focusCurrentElement=H.find(".hrsFocus"),d.each(function(e,t){$(t).attr("tabindex",-1)}),angular.element("."+this.classList[0]).attr("tabindex",0),e.keyCode===_.DOWN)return K.commonIncrement(t,this,!0),M(),u(e),!1;if(e.keyCode===_.UP)return K.commonDecrement(t,this,!0),M(),u(e),!1;if(e.keyCode===_.RIGHT)return angular.element(K.minFocusElem).focus(),F(),C(K.focusPrevElement),M(),D(),angular.element(K.minFocusElem).focus(),u(e),!1;if(e.keyCode===_.ENTER)return M(),l(),u(e),!1;if(!e.shiftKey&&e.keyCode===_.TAB)return angular.element(K.minFocusElem).focus(),F(),C(K.focusPrevElement),M(),D(),angular.element(K.minFocusElem).focus(),u(e),!1;if(e.shiftKey&&e.keyCode===_.TAB){var n=H.find("footer.timerFooter xe-button button.primary");return angular.element(n).focus(),F(),C(n),M(),u(e),!1}return!0}),d.on(e,function(e){var t=e.originalEvent,n=$(this).closest("ul"),a=$(n).find("li.active-timepicker"),i=parseInt(a[0].classList[0].split("_")[1]);return F(),C(H.find(".hrsFocus")),y(t,i,a,!0),u(e),!1});var w=H.find("ul:last li"),k=w[0],E=angular.element(k).closest("div"),I=angular.element(k).closest("ul");b=angular.element(I).find("li")[1].innerText;function M(){angular.element(K.hrsFocusElem).parent().removeAttr("aria-label"),angular.element(K.minFocusElem).parent().removeAttr("aria-label")}function F(){var e=H.find(".minFocus"),t=H.find(".hrsFocus"),n=H.find(".meridianFocus"),a=H.find(".footercancelButton");angular.element(n).removeClass("active-timepickerFocus"),angular.element(e).removeClass("active-timepickerFocus"),angular.element(t).removeClass("active-timepickerFocus"),angular.element(a).removeClass("active-timepickerFocus")}function A(){angular.element(K.hrsFocusElem).parent().attr("aria-label",U("xei18n")("timepicker.hour.aria.label")+" "+U("xei18n")("timepicker.shortcuts.aria.label"))}function D(){K.timeObject.is24Hrformat?angular.element(K.minFocusElem).parent().attr("aria-label",U("xei18n")("timepicker.min.aria.24hrs.label")+" "+U("xei18n")("timepicker.shortcuts.aria.label")):angular.element(K.minFocusElem).parent().attr("aria-label",U("xei18n")("timepicker.min.aria.label")+" "+U("xei18n")("timepicker.shortcuts.aria.label"))}angular.element(k).attr("tabindex",0),angular.element(E).find("div.nextDiv").text(b),$(I).on("click",function(){F(),C(I)}),angular.element(E).find("div.nextDiv").on(e,function(e){var t=e.originalEvent,n=$(this.parentElement).find("ul li.active-timepicker");return F(),C(H.find(".minFocus")),y(t,parseInt(n[0].classList[0].split("_")[1]),n,!1),u(e),!1}),angular.element(E).find("div.previousDiv").on(e,function(e){var t=e.originalEvent,n=$(this.parentElement).find("ul li.active-timepicker");return F(),C(H.find(".minFocus")),y(t,parseInt(n[0].classList[0].split("_")[1]),n,!1),u(e),!1}),A(),w.on("keydown",function(e){var t=parseInt(this.classList[0].split("_")[1]);if(K.focusPrevElement=H.find(".hrsFocus"),K.focusNextElement=H.find(".meridianFocus"),K.focusCurrentElement=H.find(".minFocus"),w.each(function(e,t){$(t).attr("tabindex",-1)}),angular.element("."+this.classList[0]).attr("tabindex",0),e.keyCode===_.DOWN)return M(),K.commonIncrement(t,this,!1),u(e),!1;if(e.keyCode===_.UP)return M(),K.commonDecrement(t,this,!1),u(e),!1;if(e.keyCode===_.LEFT)return M(),A(),angular.element(K.hrsFocusElem).attr("tabindex",0),angular.element(K.hrsFocusElem).focus(),F(),C(K.focusPrevElement),u(e),!1;if(e.keyCode===_.RIGHT){if(M(),K.ampmEle=H.find("div.pushmeBorder"),angular.element(K.ampmEle).attr("tabindex",0),angular.element(K.ampmEle).focus(),!K.timeObject.is24Hrformat){var n=H.find("div.meridianFocus");H.find(".minFocus");F(),C(n)}return u(e),!1}if(e.keyCode===_.ENTER)return M(),l(),u(e),!1;if(!e.shiftKey&&e.keyCode===_.TAB){var a=H.find(".footercancelButton"),i=H.find(".minFocus");n=H.find(".meridianFocus");q.isRtl()?(angular.element(a).addClass("active-timepickerFocus"),angular.element(i).removeClass("active-timepickerFocus")):K.timeObject.is24Hrformat?F():(F(),C(n)),angular.element(a).removeClass("active-timepickerFocus"),M()}return!e.shiftKey||e.keyCode!==_.TAB||(angular.element(K.hrsFocusElem).attr("tabindex",0),angular.element(K.hrsFocusElem).focus(),F(),C(K.focusPrevElement),M(),A(),angular.element(K.hrsFocusElem).focus(),u(e),!1)}),H.find("div.mainContainer .pushmeBorder").on("keydown",function(e){return K.focusCurrentElement=H.find(".meridianFocus"),K.focusPrevElement=H.find(".minFocus"),e.keyCode===_.LEFT?(angular.element(K.minFocusElem).focus(),F(),C(K.focusPrevElement),M(),D(),angular.element(K.minFocusElem).focus(),u(e),!1):e.keyCode!==_.RIGHT&&(e.keyCode===_.ENTER?(M(),l(),u(e),!1):(e.shiftKey||e.keyCode!==_.TAB||F(),void(e.shiftKey&&e.keyCode===_.TAB&&(F(),C(K.focusPrevElement),$(".meridianFocus").removeClass("active-timepickerFocus")))))}),w.on(e,function(e){var t=e.originalEvent,n=$(this).closest("ul"),a=$(n).find("li.active-timepicker"),i=parseInt(a[0].classList[0].split("_")[1]);return F(),C(H.find(".minFocus")),y(t,i,a,!1),u(e),!1});var T,P,S,L,O={},R={};function N(e){if(O){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;R={time:(new Date).getTime(),coords:[t.pageX,t.pageY]},10<Math.abs(O.coords[1]-R.coords[1])&&u(e)}}function B(e,t){F();var n=H.find("."+t);angular.element(n).addClass("active-timepickerFocus");var a=e.originalEvent.touches?e.originalEvent.touches[0]:e;O={time:(new Date).getTime(),coords:[a.pageX,a.pageY],origin:$(e.target)}}function j(e,t,n,a){return O&&R&&R.time-O.time<1e3&&30<Math.abs(O.coords[1]-R.coords[1])&&Math.abs(O.coords[0]-R.coords[0])<75&&(O.coords[1]>R.coords[1]?K.commonIncrement(parseInt(e),t,n):K.commonDecrement(parseInt(e),t,n),O=R=void 0,void u(a))}angular.element(v).on("mousedown",function(e){T=e.pageY}).on("mouseup",function(e){F();var t=H.find(".hrsFocus");angular.element(t).addClass("active-timepickerFocus");var n=$(this.parentElement).find(".hrsContainer  ul li.active-timepicker"),a=parseInt(n[0].classList[0].split("_")[1]);return P=e.pageY,T<P?K.commonDecrement(a,n,!0):P<T&&K.commonIncrement(a,n,!0),u(e),!1}),angular.element(E).on("mousedown",function(e){S=e.pageY}).on("mouseup",function(e){F();var t=H.find(".minFocus");angular.element(t).addClass("active-timepickerFocus");var n=$(this.parentElement).find(".minContainer  ul li.active-timepicker"),a=parseInt(n[0].classList[0].split("_")[1]);return L=e.pageY,S<L?K.commonDecrement(a,n,!1):L<S&&K.commonIncrement(a,n,!1),u(e),!1}),$(v).find("div.nextDiv").on({touchstart:function(e){B(e,"hrsFocus"),$(this).on("touchmove",N),e.preventDefault()},touchend:function(e){$(this).off("touchmove");var t=this.closest("div"),n=$(t).prev();j($(n).find("li.active-timepicker").val(),n,!0,e)}}),$(v).find("div.previousDiv").on({touchstart:function(e){B(e,"hrsFocus"),$(this).on("touchmove",N),e.preventDefault()},touchend:function(e){$(this).off("touchmove");var t=this.closest("div"),n=$(t).next();j($(n).find("li.active-timepicker").val(),n,!0,e)}}),$(d).on({touchstart:function(e){B(e,"hrsFocus"),$(this).on("touchmove",N),e.preventDefault()},touchend:function(e){$(this).off("touchmove");var t=this.classList[0].split("_")[1];j(t,this,!0,e)}}),$(w).on({touchstart:function(e){B(e,"minFocus"),$(this).on("touchmove",N),u(e)},touchend:function(e){$(this).off("touchmove");j(this.classList[0].split("_")[1],this,!1,e)}}),$(E).find("div.previousDiv").on({touchstart:function(e){B(e,"minFocus"),$(this).on("touchmove",N),e.preventDefault()},touchend:function(e){$(this).off("touchmove");this.closest("div");var t=$(this.closest("div")).next();j($(t).find("li.active-timepicker")[0].classList[0].split("_")[1],t,!1,e)}}),$(E).find("div.nextDiv").on({touchstart:function(e){B(e,"minFocus"),$(this).on("touchmove",N),e.preventDefault()},touchend:function(e){$(this).off("touchmove");this.closest("div");var t=$(this.closest("div")).prev();j($(t).find("li.active-timepicker")[0].classList[0].split("_")[1],t,!1,e)}})},10)}}}])}();
//# sourceMappingURL=xe-ui-components.min.js.map