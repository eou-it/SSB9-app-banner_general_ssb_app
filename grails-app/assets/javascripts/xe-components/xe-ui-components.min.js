angular.module("xe-ui-components",["badge","button","checkbox","dropdown","label","radiobutton","simpleTextbox","statusLabel","switch","textarea","textbox","ui.select","xeUISelect","external-resouces","utils","columnFilter","pagination","search","xebarmodule","dataTableModule","aboutModal","pieChartModule","popupModal","tabnav","timePicker","xe-ui-components-tpls"]),angular.module("xe-ui-components-tpls",["templates/badge.html","templates/button.html","templates/checkbox.html","templates/dropdown.html","templates/label.html","templates/radio-button.html","templates/simple-textbox.html","templates/statusLabel.html","templates/switch.html","templates/text-area-counter.html","templates/text-area.html","templates/text-box-char-limit.html","templates/text-box-password.html","templates/text-box.html","templates/column-filter.html","templates/pagination.html","templates/search.html","templates/dataTable.html","templates/dialog.html","templates/dialog_default.html","templates/modal.html","templates/tabNav.html","templates/tabPanel.html","templates/timePicker.html","templates/timePicker_rtl.html"]),angular.module("templates/badge.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/badge.html",'<span tabindex="0" class="xe-badge {{::xeType}}-badge" aria-label="{{xeLabel}}" ng-bind="xeLabel"></span>')}]),angular.module("templates/button.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/button.html",'<button xe-data id="{{::xeId}}" class="{{xeType +\' \'+ xeBtnClass}}" ng-disabled="xeDisabled" aria-label="{{xeAriaLabel}}" ng-click="xeBtnClick()" ng-bind="xeLabel"></button>')}]),angular.module("templates/checkbox.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/checkbox.html",'<div><label class="xe-container" xe-for="{{::\'ckbox-\' + xeId}}">{{xeLabel}} <input id="{{::\'ckbox-\' + xeId}}" xe-data type="checkbox" aria-checked="{{xeModel}}" aria-label="{{xeAriaLabel}}" ng-click="cbClicked($event)" ng-model="xeModel" value="{{xeValue}}" ng-checked="xeModel" aria-live="assertive" aria-disabled="{{xeDisabled? true:false}}" ng-disabled="xeDisabled == true" name="{{xeName}}" tabindex="{{!xeDisabled ? 0 : -1}}"> <span class="xe-checkmark" tabindex="-1"></span></label></div>')}]),angular.module("templates/dropdown.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/dropdown.html",'<div class="btn-group"><button type="button" ng-disabled="{{disabled}}" ng-class="{disabledDD:disabled}" data-toggle="dropdown" class="btn btn-default dropdown dropdown-toggle" role="listbox" aria-expanded="false" aria-haspopup="true"><span class="placeholder" ng-show="!ngModel">{{::xeLabel}}</span> <span class="placeholder">{{ dropDownLabel }}</span> <span class="glyphicon glyphicon-chevron-down"></span></button><ul class="dropdown-menu" role="listbox" aria-expanded="false" role="listbox"><li ng-hide="!ngModel" ng-click="updateModel(xeLabel)">{{::xeLabel}}</li><li ng-if="!isObject" role="option" ng-repeat="option in xeOptions track by $index" ng-click="updateModel(option)" ng-class="{\'selected\':option===ngModel}">{{::option}}</li><li ng-if="isObject" ng-repeat="option in xeOptions track by $index" ng-click="updateModel(option)">{{::option.label}}</li></ul></div>')}]),angular.module("templates/label.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/label.html",'<label class="xe-label" for="{{xeFor}}" ng-hide="{{xeHidden}}" ng-cloak><span class="xe-label" aria-label="{{xeValue}}" ng-bind="xeValue"></span> <span class="xe-required" ng-if="xeRequired==true" ng-bind="\'*\'"></span></label>')}]),angular.module("templates/radio-button.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/radio-button.html",'<div class="radio-container" tabindex="{{!xeDisabled ? 0 : \'\'}}"><input ng-value="ngValue" ng-model="ngModel" ng-disabled="xeDisabled" ng-class="{disabledRadio:xeDisabled}" ng-click="xeOnClick" type="radio" id="{{xeId}}" name="{{xeName}}"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" aria-checked="{{ngModel===ngValue}}" role="radio"></xe-label></div>')}]),angular.module("templates/simple-textbox.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/simple-textbox.html",'<input id="{{::inputField}}" xe-field="search" name="{{::inputField}}" placeholder="{{placeHolder}}" class="simple-input-field auto-width font-semibold {{xeClass}}" ng-model="value" ng-class="{readOnly: inputDisabled}" ng-disabled="{{disabled}}" ng-keyup="onChange({data: value, id: inputField, event: $event})" ng-keydown="onKeydown({data: value, id: inputField, event: $event})" ng-keypress="onKeypress({data: value, id: inputField, event: $event})" ng-paste="onKeypress({data: $event.originalEvent.clipboardData.getData(\'text/plain\'), id: inputField, event: $event})" ng-focus="onFocus({event: $event})" ng-blur="onBlur(({event: $event}))" autocomplete="off">')}]),angular.module("templates/statusLabel.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/statusLabel.html",'<span class="labels {{xeType}}" aria-label="{{::xeLabel}}">{{::xeLabel}}</span>')}]),angular.module("templates/switch.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/switch.html",'<input id="{{id}}" ng-disabled="disabled" ng-class="{disabledSwitch:disabled}" ng-model="value" class="cmn-toggle cmn-toggle-round" type="checkbox"><label for="{{id}}"></label>')}]),angular.module("templates/text-area-counter.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/text-area-counter.html",'<div class="textarea-container" xe-field="{{::xeId}}"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><div class="xe-labeltext-margin"></div><textarea xe-data ng-model="ngModel" class="comments-field" ng-class="{readonly:xeReadonly}" id="{{xeId}}" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-required="xeRequired" aria-multiline="true" ng-readonly="xeReadonly" maxlength="{{xeCharCounter}}" ng-trim="false">\n\n    </textarea><div id="xe-id-characters-count"><span>{{::\'xe.text.chars.left\' | xei18n}} : {{ charRemaining }}</span></div></div>')}]),angular.module("templates/text-area.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/text-area.html",'<div class="textarea-container"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><div class="xe-labeltext-margin"></div><textarea xe-data ng-model="ngModel" class="comments-field" ng-class="{readonly:xeReadonly}" id="{{xeId}}" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-required="xeRequired" aria-multiline="true" ng-readonly="xeReadonly">\n    </textarea></div>')}]),angular.module("templates/text-box-char-limit.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/text-box-char-limit.html",'<div class="textbox-container" aria-live="assertive"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><span id="xe-id-max-characters">{{ xeMaxlength }} {{::\'xe.text.max.chars\' | xei18n}}</span><div class="xe-labeltext-margin"></div><input xe-data ng-class="{readonly:xeReadonly}" ng-model="ngModel" ng-form="ngForm" class="{{xeType}}-field" id="{{xeId}}" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-pattern="xePattern" ng-required="xeRequired" ng-maxlength="xeMaxlength" ng-minlength="xeMinlength" ng-readonly="xeReadonly" aria-labelledby="{{xeId}}" aria-describedby="xe-id-max-characters" aria-required="{{xeRequired? true : false}}"><br><div class="error-messages" id="{{xeId+\'label\'}}" ng-messages="" ng-show="{{!xeNotification}}"><div ng-message="required">{{::\'textbox.validation.required\' | xei18n}}</div><div ng-message="maxlength">{{::\'textbox.validation.maxlength\' | xei18n}} {{xeMaxlength}}</div></div></div>')}]),angular.module("templates/text-box-password.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/text-box-password.html",'<div class="textbox-container" aria-live="assertive"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><div class="xe-labeltext-margin"></div><input xe-data ng-class="{readonly:xeReadonly}" ng-model="ngModel" ng-form="ngForm" class="{{xeType}}-field" id="{{xeId}}" type="password" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-pattern="xePattern" ng-required="xeRequired" ng-maxlength="xeMaxlength" ng-minlength="xeMinlength" ng-readonly="xeReadonly" aria-describedby="{{xeId}}" aria-required="{{xeRequired? true : false}}"><br><div class="error-messages" id="{{xeId+\'label\'}}" ng-messages="" ng-show="{{!xeNotification}}"><div ng-message="required">{{::\'textbox.validation.required\' | xei18n}}</div><div ng-message="maxlength">{{::\'textbox.validation.maxlength\' | xei18n}} {{xeMaxlength}}</div></div></div>')}]),angular.module("templates/text-box.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/text-box.html",'<div class="textbox-container" aria-live="assertive"><xe-label xe-value="{{xeLabel}}" xe-for="{{xeId}}" xe-required="xeRequired"></xe-label><div class="xe-labeltext-margin"></div><input xe-data ng-class="{readonly:xeReadonly}" ng-model="ngModel" ng-form="ngForm" class="{{xeType}}-field" id="{{xeId}}" name="{{xeName}}" placeholder="{{xePlaceholder}}" ng-pattern="xePattern" ng-required="xeRequired" ng-maxlength="xeMaxlength" ng-minlength="xeMinlength" ng-readonly="xeReadonly" aria-describedby="{{xeId}}" aria-required="{{xeRequired ? true : false}}"><br><div class="error-messages" id="{{xeId+\'label\'}}" ng-messages="" ng-show="{{!xeNotification}}"><div ng-message="required">{{::\'textbox.validation.required\' | xei18n}}</div><div ng-message="maxlength">{{::\'textbox.validation.maxlength\' | xei18n}} {{xeMaxlength}}</div></div></div>')}]),angular.module("templates/column-filter.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/column-filter.html",'<span><div class="column-filter-container" ng-if="::!nocolumnFilterMenu"><button type="button" class="column-filter-button" ng-click="bindClickEvent($event)" aria-haspopup="true" aria-labelledby="columnFilter" xe-field="columnFilterMenu"><span id="columnFilter" class="placeholder" ng-bind="\'dataTable.columnFilter.label\' | xei18n"></span><div class="dropdown-icon">&nbsp;</div></button><ul class="column-setting-menu" ng-hide="hideColumnSettingMenu" role="list" aria-labelledby="columnFilter"><li role="presentation"><xe-checkbox xe-label="{{::\'dataTable.columnFilter.selectAll\' | xei18n}}" xe-model="selectAll.visible" xe-on-click="onSelectAll(header, event)" xe-id="0" data-name="all" aria-role="listitem" aria-live="assertive"></xe-checkbox></li><li ng-repeat="heading in header" ng-class="{\'disabled\': heading.options.disable}" ng-if="heading.options.columnShowHide !== false" data-name="{{heading.name}}" role="presentation"><xe-checkbox xe-id="{{heading.name}}" xe-value="{{$index+1}}" xe-label="{{heading.title}}" xe-model="heading.options.visible" xe-on-click="hideUnhideColumn(heading, event)" xe-disabled="heading.options.disable" aria-role="listitem" aria-live="assertive"></xe-checkbox></li></ul></div></span>')}]),angular.module("templates/pagination.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/pagination.html",'<div class="tfoot pagination-container visible-lg" role="navigation" ng-cloak><div id="resultsFound" class="results-container" ng-bind="(\'pagination.record.found\' | xei18n) + \': \' + resultsFound"></div><div class="pagination-controls"><xe-button xe-type="secondary" xe-btn-class="first" xe-aria-label="{{::\'pagination.first.label\' | xei18n}}" xe-btn-click="first()" xe-disabled="firstPrev" ng-cloak></xe-button><xe-button xe-type="secondary" xe-btn-class="previous" xe-aria-label="{{::\'pagination.previous.label\' | xei18n}}" xe-btn-click="prev()" xe-disabled="firstPrev" ng-cloak></xe-button><xe-label xe-value="{{::\'pagination.page.label\' | xei18n}}" role="presentation" aria-hidden="true"></xe-label><span title="{{::\'pagination.page.shortcut.label\' | xei18n}}" role="presentation"><input id="pageInput" type="number" ng-model="onPage" aria-valuenow="{{onPage}}" aria-valuemax="{{numberOfPages}}" aria-valuemin="{{!numberOfPages ? 0 : 1}}" max="{{numberOfPages}}" min="{{!numberOfPages ? 0 : 1}}" ng-model-options="{ debounce: {\'default\': 200, \'blur\': 0} }" ng-change="paggeNumberChange()" ng-blur="focusOut($event)" aria-label="{{::\'pagination.page.aria.label\' | xei18n}}. {{::\'pagination.page.label\' | xei18n}} {{onPage}} {{::\'pagination.page.of.label\' | xei18n}} {{numberOfPages}}" ng-cloak></span><xe-label xe-value="{{::\'pagination.page.of.label\' | xei18n}} {{numberOfPages}}" role="presentation"></xe-label><xe-button xe-type="secondary" xe-btn-class="next" xe-aria-label="{{::\'pagination.next.label\' | xei18n}}" xe-btn-click="next()" xe-disabled="nextLast" ng-cloak></xe-button><xe-button xe-type="secondary" xe-btn-class="last" xe-aria-label="{{::\'pagination.last.label\' | xei18n}}" xe-btn-click="last()" xe-disabled="nextLast" ng-cloak></xe-button><xe-label id="perPage" xe-value="{{::\'pagination.per.page.label\' | xei18n}}" role="presentation" aria-hidden="true"></xe-label><select class="per-page-select" aria-labelledby="perPage" ng-model="offset" ng-options="pageOffset for pageOffset in ::pageOffsets" ng-change="offsetChanged(true)" ng-disabled="resultsFound === 0"></select></div></div>')}]),angular.module("templates/search.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/search.html",'<form name="form" class="search-container"><xe-simple-text-box input-field="{{searchConfig.id}}" xe-class="search" value="value" place-holder="{{searchConfig.placeholder}}" on-keydown="searchKeydown(data, id, event)" on-keypress="searchKeypress(data, id, event)" on-focus="onFocus(event)" on-blur="onBlur(event)" aria-label="{{::ariaLabel}}"></xe-simple-text-box></form>')}]),angular.module("templates/dataTable.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/dataTable.html",'<div id="{{tableId}}" class="table-container" ng-class="{\'fixed-height\': !!height, \'noToolbar\': noCaptionAndToolbar, \'no-data\': !resultsFound, \'empty\': emptyTableMsg}" browser-detect role="grid" aria-labelledby="gridCaption" ng-cloak><div class="trMobile" ng-if="totalRow && isMobileView  "><div ng-repeat="heading in header" ng-if="heading.options.visible === true"><span class="total-row" total-label="{{heading.totalDisplayName}}" aria-hidden="false" ng-bind="getTotalValue(heading)"></span></div></div><div class="caption" ng-if="::!noCaptionBar" xe-section="{{xeSection + \'CaptionBar\'}}"><table class="data-table datatable_spacing" role="heading" aria-level="1"><caption ng-class="{\'search-opened\': hideContainer}"><span id="gridCaption" class="caption-container font-semibold" ng-if="::!nocaption" ng-bind="::caption" xe-field="caption"></span><div class="toolbar" ng-if="toolbar"><xe-toolbar></xe-toolbar><xe-column-filter header="header"></xe-column-filter><span role="search" title="{{\'search.title\' | xei18n}}" ng-if="::!nosearch"><xe-search value="searchConfig.searchString" place-holder="{{\'search.label\' | xei18n}}" on-change="fetchSpecial(query)" on-focus="onSearchFocus({event: event})" on-blur="onSearchBlur({event: event})" search-config="searchConfig" xe-focus loading-data="loadingData"></xe-search></span></div></caption></table></div><div class="hr-scrollable-content"><div class="thead"><table class="data-table" ng-style="headerPadding" role="presentation"><thead role="rowgroup"><tr role="row"><th class="font-semibold width-animate {{::heading.name}}" ng-repeat="heading in header" ng-class="{\'sortable\': heading.options.sortable, \'ascending\': sortArray[heading.name].ascending, \'decending\': sortArray[heading.name].decending}" ng-if="heading.options.visible === true" ng-style="{\'width\': heading.dynamicWidth + \'px\'}" data-name="{{::heading.name}}" ng-click="onSort({heading: heading}); sortOnHeading(heading, $index);" role="columnheader" aria-sort="{{sortArray[heading.name].ascending ? (\'dataTable.sort.ascending.label\' | xei18n) : (sortArray[heading.name].decending ? (\'dataTable.sort.descending.label\' | xei18n) : \'none\')}}" aria-describedby="{{\'headingAria\' + $index}}" drag-drop="handleDrop" tabindex="0" xe-field="{{::heading.name}}" xe-heading-injector xe-focus xe-click-grid><div class="data" title="{{heading.label}}"><span ng-show="::heading.options.titleVisible !== false" aria-hidden="false" ng-bind="::heading.title"></span><label id="${{\'headingAria\' + $index}}" class="sr-only" ng-bind="heading.ariaLabel + (heading.options.sortable ? (\'dataTable.sortable.label\' | xei18n) : \'\')"></label></div></th></tr></thead></table></div><div class="tbody" ng-style="::{\'height\': height}" continuous-scroll="nextPage()" scroll-parent="{{::continuousScrollParent}}" aria-labelledby="msg" tabindex="{{(!resultsFound || emptyTableMsg) ? 0 : \'\'}}" resize><div id="msg" ng-bind="emptyTableMsg? emptyTableMsg : ((!resultsFound && !loadingData) ? noDataMsg : \'\')"></div><table class="data-table" ng-class="::mobileLayout ? \'mobileLayout\' : \'noMobileLayout\'" role="presentation"><thead role="presentation" aria-hidden="true"><tr><th class="font-semibold {{::heading.name}}" ng-repeat="heading in header" ng-class="{\'sortable\': heading.options.sortable, \'ascending\': sortArray[heading.name].ascending, \'decending\': sortArray[heading.name].decending}" ng-if="heading.options.visible === true" ng-style="{\'width\': heading.dynamicWidth + \'px\'}" data-name="{{::heading.name}}" xe-field="{{::heading.name}}" xe-heading-injector tabindex="0"><div class="data"><span ng-show="::heading.options.titleVisible !== false" ng-bind="::heading.title"></span></div></th></tr></thead><tbody role="rowgroup"><tr ng-repeat="row in content" ng-click="onRowClick({data:row,index:$index})" ng-dblclick="onRowDoubleClick({data:row,index:$index})" xe-row-injector tabindex="-1" role="row"><td class="width-animate" ng-repeat="heading in header" ng-class="{\'align-right\': heading.options.actionOrStatus, \'sortable\': heading.options.sortable}" ng-if="heading.options.visible === true" data-name="{{::heading.name}}" data-title="{{::(heading.title && heading.options.titleVisible !== false) ? heading.title + \':\' : \'\'}}" attain-mobile-layout="{{mobileLayout[heading.name]}}" xe-field="{{::heading.name}}" xe-cell-injector xe-focus xe-click-grid role="gridcell" ng-cloak><div ng-if="!isExtendedField(row, heading.name)"><span ng-bind="getObjectValue(row, heading.name)" tabindex="0"></span></div><div ng-if="isExtendedField(row, heading.name)"><div ng-if="isEditable"><div ng-if="dataType === \'DATE\'"><input date-picker="" value="{{::extensionValue}}" class="datePicker" aria-labelledby=""></div><div ng-if="dataType === \'VARCHAR2\'"><xe-simple-text-box value="::extensionValue"></xe-simple-text-box></div><div ng-if="dataType === \'NUMBER\'"><decimal-input ng-model="::extensionValue" decimals="0"></decimal-input></div></div><div ng-if="!isEditable"><span ng-bind="::extensionValue"></span></div></div></td></tr></tbody></table></div><div class="trDesktop" ng-if="totalRow && !isMobileView" xe-section="totalRow"><table class="data-table" ng-style="headerPadding"><thead><tr><th class="font-semibold width-animate {{::heading.name}}" ng-repeat="heading in header" ng-if="heading.options.visible === true" ng-style="{\'width\': heading.dynamicWidth + \'px\'}" data-name="{{::heading.name}}" drag-drop="handleDrop" tabindex="0" xe-field="{{::heading.name+\'Total\'}}" xe-focus xe-click-grid><div class="aggregateRow data" ng-class="{\'align-right\': heading.options.actionOrStatus}" title="{{heading.label}}"><label ng-if="heading.totalLabel" id="{{::heading.name+\'Total\'}}" for="{{::heading.name+\'Total\'}}">{{getTotalValue(heading)}}</label><span ng-if="!heading.totalLabel" class="total-display" ng-show="::heading.options.titleVisible !== false" aria-hidden="false" ng-bind="getTotalValue(heading)"></span></div></th></tr></thead></table></div></div><div class="tfoot" ng-transclude></div><xe-pagination model="content" results-found="resultsFound" ng-show="showPagination" xe-grid-pagination-control search-string="searchConfig.searchString"></xe-pagination><div ng-show="loadingData" class="load-indicator"><div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></div></div>')}]),angular.module("templates/dialog.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/dialog.html",'<div id="xeModalMask" class="xe-modal-mask" ng-show="show" tabindex="-1" aria-labelledby="xeModalLabel" role="dialog"><div class="xe-modal-wrapper" role="document"><div class="xe-modal-container"><span class="xe-modal-close" ng-click="hide()" tabindex="0" title="{{about[api.close]}"></span><h4 id="xeModalLabel" hidden>{{about[api.title]}}</h4><div class="xe-modal-header" tabindex="0"><h5 class="xe-app-title">{{about[api.name]}}</h5><h6 class="xe-app-version">{{about[api.version]}}</h6><h6 ng-if="!hidePlatformVersion" class="xe-platform-version">{{about[api.platformVersion]}}</h6></div><hr><div class="xe-modal-body" role="list" tabindex="0"><h6 id="xe-modal-gen-sec" class="xe-title">General</h6><ul role="list" aria-labelledby="xe-modal-gen-sec"><li role="listitem" aria-level="{{$index + 1}}" ng-repeat-start="(key, value) in about[api.general]" ng-repeat-end><strong>{{key}}</strong> : <span>{{value}}</span></li></ul></div><hr><div class="xe-modal-body" role="list" tabindex="0"><h6 id="xe-modal-plugin-info" class="xe-title">Plugin information</h6><ul role="list" aria-labelledby="xe-modal-plugin-info"><li role="listitem" aria-level="{{$index + 1}}" ng-repeat-start="(key, value) in about[api.plugin]" ng-repeat-end><strong>{{key}}</strong> : <span>{{value}}</span></li></ul></div><hr><div class="xe-modal-body" role="list" tabindex="0"><h6 id="xe-modal-other-plugin-info" class="xe-title">Other Plugin information</h6><ul role="list" aria-labelledby="xe-modal-other-plugin-info"><li role="listitem" aria-level="{{$index + 1}}" ng-repeat-start="(key, value) in about[api.otherPlugin]" ng-repeat-end><strong>{{key}}</strong> : <span>{{value}}</span></li></ul></div><div class="xe-modal-footer" tabindex="0">{{about[api.copyright]}}</div></div></div></div>')}]),angular.module("templates/dialog_default.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/dialog_default.html",'<div id="xeModalMask" class="xe-modal-mask" ng-show="show" tabindex="-1" aria-labelledby="xeModalMask" role="region"><div class="xe-modal-wrapper" role="dialog" title="{{about[api.title]}}"><div id="xeModalContainer" class="xe-modal-container"><span id="xeModalClose" class="xe-modal-close" ng-click="hide()" tabindex="0" role="button" alt="{{about[api.close]}}" title="{{about[api.close]}}"></span><h4 id="xeModalLabel" hidden>{{about[api.title]}}</h4><div id="xeModalHeader" class="xe-modal-header" tabindex="0"><h5 class="xe-app-title">{{about[api.name]}}</h5><h6 class="xe-app-version">{{about[api.version]}}</h6><h6 ng-if="!hidePlatformVersion" class="xe-platform-version">{{about[api.platformVersion]}}</h6></div><hr><div id="xeModalFooter" class="xe-modal-footer" tabindex="0" role="heading" aria-level="1"><span class="xe-modal-footer-copyright">&copy; {{about[api.copyright]}}</span><br><br><span class="xe-modal-footer-copyright-info">{{about[api.copyrightLegalNotice]}}</span></div></div></div></div>')}]),angular.module("templates/modal.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/modal.html",'<div id="xeModalMask" class="xe-popup-mask" ng-show="show" tabindex="-1" role="dialog" aria-labelledby="xePopTitle"><div class="xe-popup-wrapper"><div class="xe-popup-container"><div id="xeModalHeader" class="xe-popup-header"><h5 id="xePopTitle" class="xe-app-title" role="heading" data-ng-bind="popupTitle"></h5><span id="xePopupClose" class="xe-popup-close" ng-click="hide()" tabindex="0" role="button" aria-label="{{\'userpreference.popup.language.close\' | xei18n}}" alt="{{\'userpreference.popup.language.close\' | xei18n}}" title="{{\'userpreference.popup.language.close\' | xei18n}}"></span></div><div id="xePopupContent" class="xe-pop-content" ng-transclude="popupContent"></div><div id="buttonContainer" class="buttonContainer" ng-transclude="popupButtons"></div><div tabindex="0" id="tabOrdering"></div></div></div></div>')}]),angular.module("templates/tabNav.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/tabNav.html",'<div class="xe-tab-container" role="presentation"><ul class="xe-tab-nav" role="tablist"><li ng-repeat="tab in tabnav.tabs" ng-click="tabnav.activate(tab)" ng-class="{active: tab.active}" ng-repeat-complete role="tab" aria-controls="{{\'xe-tab-panel\'+ ($index+1)}}" aria-selected="{{tab.active}}"><a href="javascript:void(0);" tabindex="0" id="{{\'xe-tab\'+ ($index+1)}}" title="{{tab.heading}}" ng-if="tab.state">{{tab.heading}} <span></span> </a><a href="#" id="{{\'xe-tab\'+ ($index+1)}}" title="{{tab.heading}}" ng-if="!tab.state">{{tab.heading}} <span></span></a></li></ul><div class="xe-tab-content" role="presentation"><ng-transclude></ng-transclude></div></div>')}]),angular.module("templates/tabPanel.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/tabPanel.html",'<div class="xe-tab-container" role="presentation"><div id="{{ \'xe-tab-panel\'+ tabIndex}}" class="xe-tab-panel" ng-show="active" ng-class="{active: active }" role="tabpanel" aria-labelledby="{{\'xe-tab\'+ tabIndex}}" content="" aria-hidden="{{ !active }}"></div></div>')}]),angular.module("templates/timePicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/timePicker.html",'<div class="xe-time-container" role="presentation"><div class="input-outerContainer"><div class="input-container"><input class="input-field xeTimePickerTextField" name="{{xeName}}" ng-model="displayModel" placeholder="{{xeTimePlaceholder}}" id="{{xeId}}" title="{{\'js.input.timepicker.info\' | xei18n}}" aria-label="{{\'timepicker.textbox.aria.label\' | xei18n}} {{\'default.time.format\' | xei18n}}"> <button type="button" class="inputicon" tabindex="-1"></button></div><div class="timepickerContainer" ng-show="toggleContainer"><div id="article" class="mainContainer"><div class="wrappingDiv hrsContainer" ng-class="timeObject.is24Hrformat ? \'LTRpadding24hrs\' : \'LTRpadding12hrs\'"><div class="itemContainer previousDiv"></div><ul role="listbox" class="dropdown ulContainer hrsFocus"><li class="hrs_{{$index}}" role="option" data-ng-repeat="hr in timeObject.hours" value="{{hr}}" data-ng-bind="hr"></li></ul><div class="itemContainer nextDiv"></div></div><div class="wrappingDiv minContainer"><div class="itemContainer previousDiv"></div><ul class="dropdown ulContainer minFocus" role="listbox"><li role="option" class="mins_{{$index}}" tabindex="0" data-ng-repeat="mins in timeObject.minutes" value="{{mins}}" data-ng-bind="mins"></li></ul><div class="itemContainer nextDiv" data-ng-bind="timeObject.configstep"></div></div><div role="listbox" class="wrappingDiv meridianContainer" ng-if="!timeObject.is24Hrformat" aria-label="{{\'timepicker.am.pm.aria.label\' | xei18n}}"><div class="itemContainer"></div><div role="option" aria-live="assertive" class="tickerContainer pushmeBorder meridianFocus" tabindex="0" ng-bind="\'default.time.am\' | xei18n"></div><div aria-label="{{\'default.time.pm\' | xei18n}}" class="tickerContainer meridianPm" ng-bind="\'default.time.pm\' | xei18n"></div></div></div><footer class="timerFooter"><xe-button class="footerButton footercancelButton" xe-type="secondary" xe-label="{{\'js.timepicker.cancel\' | xei18n}}" aria-label="{{\'js.timepicker.cancel\' | xei18n}}"></xe-button><xe-button class="footerButton" xe-type="primary" xe-label="{{\'js.timepicker.set\' | xei18n}}" aria-label="{{\'js.timepicker.set\' | xei18n}}"></xe-button><div class="extraDiv" tabindex="0"></div></footer></div></div></div>')}]),angular.module("templates/timePicker_rtl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("templates/timePicker_rtl.html",'<div class="xe-time-container" role="presentation"><div class="input-outerContainer"><div class="input-container"><input class="input-field xeTimePickerTextField" name="{{xeName}}" ng-model="displayModel" placeholder="{{xeTimePlaceholder}}" id="{{xeId}}" title="{{\'js.input.timepicker.info\' | xei18n}}" aria-label="{{\'timepicker.textbox.aria.label\' | xei18n}} {{\'default.time.format\' | xei18n}}"> <button type="button" class="inputicon" tabindex="-1"></button></div><div class="timepickerContainer" ng-show="toggleContainer"><div id="article" class="mainContainer"><div role="listbox" class="wrappingDiv meridianContainer rtl12hrsPadding" ng-if="!timeObject.is24Hrformat" aria-label="{{\'timepicker.am.pm.aria.label\' | xei18n}}"><div id="prevampmDiv" class="itemContainer"></div><div role="option" aria-live="assertive" class="tickerContainer pushmeBorder meridianFocus" tabindex="0" ng-bind="\'default.time.am\' | xei18n"></div><div aria-label="{{\'default.time.pm\' | xei18n}}" class="tickerContainer meridianPm" ng-bind="\'default.time.pm\' | xei18n"></div></div><div class="wrappingDiv hrsContainer" ng-class="timeObject.is24Hrformat ? \'rtl24hrsPadding\' : \'rtlhrsPadding\'"><div id="prevHrDiv" class="itemContainer previousDiv"></div><ul id="nav" role="listbox" class="dropdown ulContainer hrsFocus"><li class="hrs_{{$index}}" role="option" data-ng-repeat="hr in timeObject.hours" value="{{hr}}" data-ng-bind="hr"></li></ul><div class="itemContainer nextDiv"></div></div><div class="wrappingDiv minContainer"><div class="itemContainer previousDiv"></div><ul class="dropdown ulContainer minFocus"><li class="mins_{{$index}}" tabindex="0" data-ng-repeat="mins in timeObject.minutes" value="{{mins}}" data-ng-bind="mins"></li></ul><div class="itemContainer nextDiv" data-ng-bind="timeObject.configstep"></div></div></div><footer class="timerFooter"><xe-button class="footerButton footercancelButton" xe-type="secondary" xe-label="{{\'js.timepicker.cancel\' | xei18n}}" aria-label="{{\'js.timepicker.cancel\' | xei18n}}"></xe-button><xe-button class="footerButton" xe-type="primary" xe-label="{{\'js.timepicker.set\' | xei18n}}" aria-label="{{\'js.timepicker.set\' | xei18n}}"></xe-button><div class="extraDiv" tabindex="0"></div></footer></div></div></div>')}]),function(){"use strict";angular.module("badge",[]).directive("xeBadge",function(){return{restrict:"E",scope:{xeLabel:"@",xeType:"@"},templateUrl:"templates/badge.html"}})}(),function(){"use strict";angular.module("button",[]).directive("xeButton",function(){return{restrict:"E",scope:{xeId:"@",xeType:"@",xeDisabled:"=",xeLabel:"@",xeBtnClick:"&",xeBtnClass:"@",xeAriaLabel:"@"},templateUrl:"templates/button.html"}})}(),function(){"use strict";angular.module("checkbox",["label"]).directive("xeCheckbox",["keyCodes","$timeout",function(keyCodes,$timeout){return{scope:{xeId:"@",xeValue:"@",xeName:"@",xeLabel:"@",xeAriaLabel:"@",xeLabelHidden:"@",xeModel:"=",xeOnClick:"&",xeDisabled:"=",ariaRole:"@"},restrict:"E",replace:!0,templateUrl:"templates/checkbox.html",link:function(scope,element,attrs){scope.cbClicked=function(event){scope.xeDisabled||(scope.xeModel=!scope.xeModel,$timeout(function(){scope.xeOnClick({checked:scope.xeModel,event:event}),angular.element(element.find("input")).controller("ngModel").$setDirty()}))},element.on("keydown",function(event){event.keyCode!==keyCodes.ENTER&&event.keyCode!==keyCodes.SPACEBAR||(event.preventDefault(),event.stopPropagation(),scope.cbClicked(event))}),element.on("click",function(event){event.preventDefault(),event.stopPropagation(),scope.cbClicked(event)})}}}])}(),function(){"use strict";angular.module("dropdown",[]).directive("xeDropdown",function(){return{restrict:"E",scope:{xeOptions:"=",xeLabel:"=",disabled:"=",ngModel:"="},require:"ngModel",controller:["$scope",function($scope){$scope.isObject=angular.isObject($scope.xeOptions[0]),$scope.dropDownLabel="",$scope.updateModel=function(value){$scope.xeLabel!==value?angular.isObject(value)?($scope.ngModel=value,$scope.dropDownLabel=value.label):($scope.ngModel=value,$scope.dropDownLabel=value):($scope.ngModel=null,$scope.dropDownLabel=null)}}],link:function(scope){angular.isDefined(scope.ngModel)&&scope.updateModel(scope.ngModel)},templateUrl:"templates/dropdown.html"}})}(),function(){"use strict";angular.module("label",[]).directive("xeLabel",function(){return{restrict:"E",scope:{xeId:"@",xeValue:"@",xeHidden:"@?",xeRequired:"=?",xeFor:"@"},replace:!0,templateUrl:"templates/label.html"}})}(),function(){"use strict";angular.module("radiobutton",[]).directive("xeRadioButton",["$window",function($window){return{scope:{xeLabel:"@",ngValue:"=",ngModel:"=",xeOnClick:"&",xeName:"@",xeDisabled:"=",xeId:"@"},restrict:"E",require:"ngModel",templateUrl:"templates/radio-button.html",link:function(scope,element){element.on("keydown",function(event){32!==event.keyCode&&13!==event.keyCode||(event.preventDefault(),scope.ngModel=scope.ngValue,scope.$apply())})}}}])}(),function(){"use strict";angular.module("simpleTextbox",[]).directive("xeSimpleTextBox",function(){return{restrict:"E",scope:{inputField:"@",xeClass:"@",value:"=",placeHolder:"@",disabled:"=",onChange:"&",onKeydown:"&",onKeypress:"&",onFocus:"&",onBlur:"&",required:"="},templateUrl:"templates/simple-textbox.html"}})}(),function(){"use strict";angular.module("statusLabel",[]).directive("xeStatusLabel",function(){return{restrict:"E",scope:{xeLabel:"@",xeType:"@"},templateUrl:"templates/statusLabel.html"}})}(),function(){"use strict";angular.module("switch",[]).directive("xeSwitch",function(){return{scope:{disabled:"=",label:"=",value:"=",id:"="},templateUrl:"templates/switch.html"}})}(),function(){"use strict";angular.module("textarea",[]).directive("xeTextArea",["$filter",function($filter){return{restrict:"E",scope:{ngModel:"=",xeOnChange:"&",xePlaceholder:"@",xeLabel:"=",xeId:"@",xeName:"@?",xeRequired:"=",xeReadonly:"=",xeCharCounter:"@"},templateUrl:function(element,attrs){return attrs.xeCharCounter?"templates/text-area-counter.html":"templates/text-area.html"},controller:["$scope","$element","$attrs",function($scope,$element,$attrs){var CharCounterLiveRegion,remainingCharsMsg;$attrs.xeCharCounter&&0===(CharCounterLiveRegion=$(".textarea-char-accessible")).length&&(CharCounterLiveRegion=$("<span>",{role:"status","aria-live":"assertive","aria-atomic":"true","aria-hidden":"false"}).addClass("textarea-char-accessible screen-reader").appendTo(document.body)),remainingCharsMsg=$filter("xei18n")("xe.text.limit.over",$attrs.xeCharCounter),$attrs.xeCharCounter&&$element.find("textarea").focus(function(){var ariaTextRemainingChars=$filter("xei18n")("xe.text.chars.remaining.aria",$scope.charRemaining);CharCounterLiveRegion.text(ariaTextRemainingChars)}),$scope.$watch("ngModel",function(){if($attrs.xeCharCounter&&($scope.charRemaining<=0?$scope.charRemaining=0:$scope.charRemaining=$attrs.xeCharCounter,$scope.ngModel)){var currentChar=$scope.ngModel;$scope.charRemaining=$attrs.xeCharCounter-currentChar.length,$element.find("textarea").on("keyup change",function(e){$(this).val().length===$attrs.xeCharCounter&&CharCounterLiveRegion.text(remainingCharsMsg)})}})}]}}])}(),function(){"use strict";angular.module("textbox",["ngMessages"]).directive("xeTextBox",["$filter",function($filter){return{restrict:"E",scope:{xePlaceholder:"@",xeId:"@",xeRequired:"=",xeType:"@",xeReadonly:"=",xeValidate:"=",xePattern:"@",xeErrorMessages:"=",xeNotification:"@",xeLabel:"@",xeName:"@",xeMaxlength:"@",xeMinlength:"@",xeFormName:"@",ngModel:"=",ngForm:"=",xeCharMax:"@"},require:["ngModel","?ngForm"],templateUrl:function(element,attrs){return"password"===attrs.xeType?"templates/text-box-password.html":attrs.hasOwnProperty("xeCharMax")?"templates/text-box-char-limit.html":"templates/text-box.html"},controller:["$scope","$element","$attrs",function($scope,$element,$attrs){var CharCounterTextLiveRegion,remainingCharsTextMsg;$attrs.hasOwnProperty("xeCharMax")&&(CharCounterTextLiveRegion=$(".text-box-char-accessible"),remainingCharsTextMsg=$filter("xei18n")("xe.text.limit.over",$attrs.xeMaxlength),0===CharCounterTextLiveRegion.length&&(CharCounterTextLiveRegion=$("<span>",{role:"status","aria-live":"assertive","aria-atomic":"true","aria-hidden":"false"}).addClass("text-box-char-accessible screen-reader").appendTo(document.body)),$element.find("input").on("keyup change focusout",function(e){$(this).val().length>=$attrs.xeMaxlength&&CharCounterTextLiveRegion.text(remainingCharsTextMsg),1==$(this).prop("required")&&(0<$(this).val().length?$(this).attr("aria-invalid",!1):$(this).attr("aria-invalid",!0))}))}],compile:function(elem,attrs){var formStr="ngForm."+attrs.xeName;elem.find("div.error-messages").attr("ng-messages",formStr+".$error"),elem.find("div.error-messages").attr("ng-if",formStr+"."+attrs.xeName+".$touched")}}}])}(),function(){"use strict";var KEY={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){switch(e.which){case KEY.COMMAND:case KEY.SHIFT:case KEY.CTRL:case KEY.ALT:return!0}return!!e.metaKey},isFunctionKey:function(k){return 112<=(k=k.which?k.which:k)&&k<=123},isVerticalMovement:function(k){return~[KEY.UP,KEY.DOWN].indexOf(k)},isHorizontalMovement:function(k){return~[KEY.LEFT,KEY.RIGHT,KEY.BACKSPACE,KEY.DELETE].indexOf(k)},toSeparator:function(k){var sep={ENTER:"\n",TAB:"\t",SPACE:" "}[k];return sep||(KEY[k]?void 0:k)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(selector){return angular.element(this[0].querySelectorAll(selector))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(selector){for(var elem=this[0],matchesSelector=elem.matches||elem.webkitMatchesSelector||elem.mozMatchesSelector||elem.msMatchesSelector;elem;){if(matchesSelector.bind(elem)(selector))return elem;elem=elem.parentElement}return!1});var latestId=0,uis=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:0,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",generateId:function(){return latestId+=1},appendToBody:!1}).service("uiSelectMinErr",function(){var minErr=angular.$$minErr("ui.select");return function(){var message=minErr.apply(this,arguments).message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(message)}}).directive("uisTranscludeAppend",function(){return{link:function(scope,element,attrs,ctrl,transclude){transclude(scope,function(clone){element.append(clone)})}}}).filter("highlight",function(){return function(matchItem,query){return query&&matchItem?(""+matchItem).replace(new RegExp(function(queryToEscape){return(""+queryToEscape).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}(query),"gi"),'<span class="ui-select-highlight">$&</span>'):matchItem}}).factory("uisOffset",["$document","$window",function($document,$window){return function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}}}]);uis.directive("xeUiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window","$timeout",function(uiSelectConfig,RepeatParser,uiSelectMinErr,$compile,$window,$timeout){return{restrict:"EA",require:"^xeUiSelect",replace:!0,transclude:!0,templateUrl:function(tElement){return tElement.addClass("ui-select-choices"),(tElement.parent().attr("theme")||uiSelectConfig.theme)+"/choices.tpl.html"},compile:function(tElement,tAttrs){if(!tAttrs.repeat)throw uiSelectMinErr("repeat","Expected 'repeat' expression.");return function(scope,element,attrs,$select,transcludeFn){var groups,groupByExp=attrs.groupBy,groupFilterExp=attrs.groupFilter,choices=element.querySelectorAll(".ui-select-choices-row"),rowsInner=element.querySelectorAll(".ui-select-choices-row-inner");if($select.parseRepeatAttr(attrs,groupByExp,groupFilterExp,$select),$select.disableChoiceExpression=attrs.uiDisableChoice,$select.onHighlightCallback=attrs.onHighlight,$select.dropdownPosition=attrs.position?attrs.position.toLowerCase():uiSelectConfig.dropdownPosition,groupByExp){if(1!==(groups=element.querySelectorAll(".ui-select-choices-group")).length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-group but got '{0}'.",groups.length);groups.attr("ng-repeat",RepeatParser.getGroupNgRepeatExpression())}if(1!==choices.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row but got '{0}'.",choices.length);if(choices.attr("ng-repeat",$select.parserResult.repeatExpression(groupByExp)).attr("ng-if","$select.open"),$window.document.addEventListener&&choices.attr("ng-mouseenter","$select.setActiveItem("+$select.parserResult.itemName+")").attr("ng-click","$select.select("+$select.parserResult.itemName+",$select.skipFocusser,$event)"),1!==rowsInner.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",rowsInner.length);rowsInner.attr("uis-transclude-append",""),$window.document.addEventListener||rowsInner.attr("ng-mouseenter","$select.setActiveItem("+$select.parserResult.itemName+")").attr("ng-click","$select.select("+$select.parserResult.itemName+",$select.skipFocusser,$event)"),$compile(element,transcludeFn)(scope),scope.$watch("$select.search",function(newValue){newValue&&!$select.open&&$select.multiple&&($select.activate(!1,!0),$select.activeIndex=$select.tagging.isActivated?-1:0),!attrs.minimumInputLength||$select.search.length>=attrs.minimumInputLength?($select.refresh(attrs.refresh),$select.showMinMsg=!1):($select.minimumInputLength=attrs.minimumInputLength,$select.showMinMsg=!0,$select.items=[])}),attrs.$observe("refreshDelay",function(){var refreshDelay=scope.$eval(attrs.refreshDelay);$select.refreshDelay=void 0!==refreshDelay?refreshDelay:uiSelectConfig.refreshDelay}),scope.$watch("$select.items",function(newVal,oldVal){0==$select.items.length?$select.showNoResultsMsg=!0:$select.showNoResultsMsg=!1})}}}}]),uis.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function($scope,$element,$timeout,$filter,RepeatParser,uiSelectMinErr,uiSelectConfig,$parse,$injector,$window){var _refreshDelayPromise,ctrl=this,EMPTY_SEARCH="";if(ctrl.placeholder=uiSelectConfig.placeholder,ctrl.searchEnabled=uiSelectConfig.searchEnabled,ctrl.sortable=uiSelectConfig.sortable,ctrl.refreshDelay=uiSelectConfig.refreshDelay,ctrl.paste=uiSelectConfig.paste,ctrl.removeSelected=!1,ctrl.closeOnSelect=!0,ctrl.skipFocusser=!1,ctrl.search=EMPTY_SEARCH,ctrl.activeIndex=0,ctrl.items=[],ctrl.open=!1,ctrl.focus=!1,ctrl.disabled=!1,ctrl.selected=void 0,ctrl.dropdownPosition="auto",ctrl.focusser=void 0,ctrl.resetSearchInput=!0,ctrl.multiple=void 0,ctrl.disableChoiceExpression=void 0,ctrl.tagging={isActivated:!1,fct:void 0},ctrl.taggingTokens={isActivated:!1,tokens:void 0},ctrl.lockChoiceExpression=void 0,ctrl.clickTriggeredSelect=!1,ctrl.$filter=$filter,ctrl.minimumInputLength,ctrl.$animate=function(){try{return $injector.get("$animate")}catch(err){return null}}(),ctrl.searchInput=$element.querySelectorAll("input.ui-select-search"),1!==ctrl.searchInput.length)throw uiSelectMinErr("searchInput","Expected 1 input.ui-select-search but got '{0}'.",ctrl.searchInput.length);function _resetSearchInput(){(ctrl.resetSearchInput||void 0===ctrl.resetSearchInput&&uiSelectConfig.resetSearchInput)&&(ctrl.search=EMPTY_SEARCH,ctrl.selected&&ctrl.items.length&&!ctrl.multiple&&(ctrl.activeIndex=function(collection,predicate,thisArg){if(collection.findIndex)return collection.findIndex(predicate,thisArg);var value,i,list=Object(collection),length=list.length>>>0;for(i=0;i<length;i+=1)if(value=list[i],predicate.call(thisArg,value,i,list))return i;return-1}(ctrl.items,function(item){return angular.equals(this,item)},ctrl.selected)))}ctrl.isEmpty=function(){return angular.isUndefined(ctrl.selected)||null===ctrl.selected||""===ctrl.selected||ctrl.multiple&&0===ctrl.selected.length},ctrl.activate=function(initSearchValue,avoidReset){if(ctrl.disabled||ctrl.open)ctrl.open&&ctrl.multiple&&(ctrl.open=!1);else{if(avoidReset||_resetSearchInput(),$scope.$broadcast("uis:activate"),ctrl.open=!0,ctrl.liveRegion=$(".uiselect-hidden-accessible"),ctrl.liveChoicestStusRegion=$(".uiselect-choice-status-hidden-accessible"),0==ctrl.liveRegion.length){var regionSpan1=angular.element("<span></span>");regionSpan1.attr("role","status"),regionSpan1.attr("aria-live","assertive"),regionSpan1.attr("class","uiselect-hidden-accessible"),angular.element(document.body).append(regionSpan1)}if(0==ctrl.liveChoicestStusRegion.length){var regionSpan2=angular.element("<span></span>");regionSpan2.attr("role","status"),regionSpan2.attr("aria-live","assertive"),regionSpan2.attr("aria-atomic","true"),regionSpan2.attr("class","uiselect-choice-status-hidden-accessible"),angular.element(document.body).append(regionSpan2)}ctrl.activeIndex=ctrl.activeIndex>=ctrl.items.length?0:ctrl.activeIndex,-1===ctrl.activeIndex&&!1!==ctrl.taggingLabel&&(ctrl.activeIndex=0);var container=$element.querySelectorAll(".ui-select-choices-content");ctrl.$animate&&ctrl.$animate.on&&ctrl.$animate.enabled(container[0])?ctrl.$animate.on("enter",container[0],function(elem,phase){"close"===phase&&$timeout(function(){ctrl.focusSearchInput(initSearchValue)})}):$timeout(function(){var ariaResultFoundMessage;if(ctrl.focusSearchInput(initSearchValue),!ctrl.tagging.isActivated&&1<ctrl.items.length)$(".uiselect-hidden-accessible").text(""),ariaResultFoundMessage=ctrl.searchEnabled?$filter("xei18n")("uiselect.search.results",ctrl.items.length):$filter("xei18n")("uiselect.search.disabled.results"),$(".uiselect-hidden-accessible").text(ariaResultFoundMessage),$(".uiselect-hidden-accessible").innerText=ariaResultFoundMessage;else if(0===ctrl.items.length&&"undefined"!=ctrl.minimumInputLength){var ariaMinMessageLength=$filter("xei18n")("uiselect.minimum.input.text",ctrl.minimumInputLength);$(".uiselect-hidden-accessible").text(""),$(".uiselect-hidden-accessible").text(ariaMinMessageLength),$(".uiselect-hidden-accessible").innerText=ariaMinMessageLength}})}},ctrl.focusSearchInput=function(initSearchValue){ctrl.search=initSearchValue||ctrl.search,setTimeout(function(){ctrl.searchInput[0].focus()},10)},ctrl.findGroupByName=function(name){return ctrl.groups&&ctrl.groups.filter(function(group){return group.name===name})[0]},ctrl.parseRepeatAttr=function(attrs,groupByExp,groupFilterExp,$select){ctrl.setItemsFn=groupByExp?function(items){var groupFn=$scope.$eval(groupByExp);if(ctrl.groups=[],angular.forEach(items,function(item){var groupName=angular.isFunction(groupFn)?groupFn(item):item[groupFn],group=ctrl.findGroupByName(groupName);group?group.items.push(item):ctrl.groups.push({name:groupName,items:[item]})}),groupFilterExp){var groupFilterFn=$scope.$eval(groupFilterExp);angular.isFunction(groupFilterFn)?ctrl.groups=groupFilterFn(ctrl.groups):angular.isArray(groupFilterFn)&&(ctrl.groups=function(groups,groupNames){var i,j,result=[];for(i=0;i<groupNames.length;i+=1)for(j=0;j<groups.length;j+=1)groups[j].name==[groupNames[i]]&&result.push(groups[j]);return result}(ctrl.groups,groupFilterFn))}ctrl.items=[],ctrl.groups.forEach(function(group){ctrl.items=ctrl.items.concat(group.items)})}:function(items){ctrl.items=items},ctrl.parserResult=RepeatParser.parse(attrs.repeat),ctrl.isGrouped=!!groupByExp,ctrl.itemProperty=ctrl.parserResult.itemName;function createArrayFromObject(){var origSrc=originalSource($scope);$scope.$uisSource=Object.keys(origSrc).map(function(v){var result={};return result[ctrl.parserResult.keyName]=v,result.value=origSrc[v],result})}var originalSource=ctrl.parserResult.source;ctrl.parserResult.keyName&&(createArrayFromObject(),ctrl.parserResult.source=$parse("$uisSource"+ctrl.parserResult.filters),$scope.$watch(originalSource,function(newVal,oldVal){newVal!==oldVal&&createArrayFromObject()},!0)),ctrl.refreshItems=function(data){data=data||ctrl.parserResult.source($scope);var selectedItems=ctrl.selected;if(ctrl.isEmpty()||angular.isArray(selectedItems)&&!selectedItems.length||!ctrl.removeSelected)ctrl.setItemsFn(data);else if(void 0!==data){var filteredItems=data.filter(function(i){return selectedItems.every(function(selectedItem){return!angular.equals(i,selectedItem)})});ctrl.setItemsFn(filteredItems)}if(null!==ctrl.items&&void 0!==ctrl.items&&void 0!==ctrl.items.length&&0<ctrl.items.length){if(""!=ctrl.search){var ariaSearchResult=$filter("xei18n")("uiselect.search.results",ctrl.items.length);$(".uiselect-hidden-accessible").text(""),$(".uiselect-hidden-accessible").text(ariaSearchResult),$(".uiselect-hidden-accessible").innerText=ariaSearchResult}}else if(null!==ctrl.items&&void 0!==ctrl.items&&void 0!==ctrl.items.length&&0===ctrl.items.length){var ariaNoSearchResult=$filter("xei18n")("uiselect.no.results.found.text");$(".uiselect-hidden-accessible").text(""),$(".uiselect-hidden-accessible").text(ariaNoSearchResult),$(".uiselect-hidden-accessible").innerText=ariaNoSearchResult}"auto"!==ctrl.dropdownPosition&&"up"!==ctrl.dropdownPosition||$scope.calculateDropdownPos()},$scope.$watchCollection(ctrl.parserResult.source,function(items){if(null==items)ctrl.items=[];else{if(!angular.isArray(items))throw uiSelectMinErr("items","Expected an array but got '{0}'.",items);!attrs.minimumInputLength||$select.search.length>=attrs.minimumInputLength?ctrl.refreshItems(items):(ctrl.groups=[],ctrl.items=[]),ctrl.ngModel.$modelValue=null}})},ctrl.refresh=function(refreshAttr){void 0!==refreshAttr&&(_refreshDelayPromise&&$timeout.cancel(_refreshDelayPromise),_refreshDelayPromise=$timeout(function(){$scope.$eval(refreshAttr)},ctrl.refreshDelay))},ctrl.isActive=function(itemScope){if(!ctrl.open)return!1;var itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]),isActive=itemIndex==ctrl.activeIndex;return!(!isActive||itemIndex<0&&!1!==ctrl.taggingLabel||itemIndex<0&&!1===ctrl.taggingLabel)&&(isActive&&!angular.isUndefined(ctrl.onHighlightCallback)&&itemScope.$eval(ctrl.onHighlightCallback),isActive)},ctrl.isDisabled=function(itemScope){if(ctrl.open){var item,itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]),isDisabled=!1;return 0<=itemIndex&&!angular.isUndefined(ctrl.disableChoiceExpression)&&(item=ctrl.items[itemIndex],isDisabled=!!itemScope.$eval(ctrl.disableChoiceExpression),item._uiSelectChoiceDisabled=isDisabled),isDisabled}},ctrl.select=function(item,skipFocusser,$event){if(void 0===item||!item._uiSelectChoiceDisabled){if(!ctrl.items&&!ctrl.search&&!ctrl.tagging.isActivated)return;if(!item||!item._uiSelectChoiceDisabled){if(ctrl.tagging.isActivated){if(!1===ctrl.taggingLabel)if(ctrl.activeIndex<0){if(!(item=void 0!==ctrl.tagging.fct?ctrl.tagging.fct(ctrl.search):ctrl.search)||angular.equals(ctrl.items[0],item))return}else item=ctrl.items[ctrl.activeIndex];else if(0===ctrl.activeIndex){if(void 0===item)return;if(void 0!==ctrl.tagging.fct&&"string"==typeof item){if(!(item=ctrl.tagging.fct(item)))return}else"string"==typeof item&&(item=item.replace(ctrl.taggingLabel,"").trim())}if(ctrl.selected&&angular.isArray(ctrl.selected)&&0<ctrl.selected.filter(function(selection){return angular.equals(selection,item)}).length)return void ctrl.close(skipFocusser)}var ariaOptionSelected;ctrl.search="",$(".uiselect-choice-status-hidden-accessible").text(""),ariaOptionSelected=null!=ctrl.selectedValue?$filter("xei18n")("uiselect.option.selected",item[ctrl.selectedValue]):$filter("xei18n")("uiselect.option.selected",item.name),$(".uiselect-choice-status-hidden-accessible").text(ariaOptionSelected),$(".uiselect-choice-status-hidden-accessible").innerText=ariaOptionSelected,$scope.$broadcast("uis:select",item);var locals={};locals[ctrl.parserResult.itemName]=item,$timeout(function(){ctrl.onSelectCallback($scope,{$item:item,$model:ctrl.parserResult.modelMapper($scope,locals)})}),ctrl.focusSearchInput(""),ctrl.closeOnSelect&&ctrl.close(skipFocusser),$event&&"click"===$event.type&&(ctrl.clickTriggeredSelect=!0)}}},ctrl.close=function(skipFocusser){ctrl.open&&(ctrl.ngModel&&ctrl.ngModel.$setTouched&&ctrl.ngModel.$setTouched(),_resetSearchInput(),ctrl.open=!1,$scope.$broadcast("uis:close",skipFocusser))},ctrl.setFocus=function(){ctrl.focus||ctrl.focusInput[0].focus()},ctrl.clear=function($event){ctrl.select(void 0),$event.stopPropagation(),$timeout(function(){ctrl.focusser[0].focus()},0,!1)},ctrl.toggle=function(e){ctrl.open?(ctrl.close(),e.preventDefault(),e.stopPropagation()):ctrl.activate()},ctrl.toggleMultiDropdown=function(e){},ctrl.isLocked=function(itemScope,itemIndex){var isLocked,item=ctrl.selected[itemIndex];return item&&!angular.isUndefined(ctrl.lockChoiceExpression)&&(isLocked=!!itemScope.$eval(ctrl.lockChoiceExpression),item._uiSelectChoiceLocked=isLocked),isLocked};var sizeWatch=null;function _handleDropDownSelection(key){var processed=!0;switch(key){case KEY.DOWN:!ctrl.open&&ctrl.multiple?ctrl.activate(!1,!0):ctrl.activeIndex<ctrl.items.length-1&&ctrl.activeIndex++;break;case KEY.UP:!ctrl.open&&ctrl.multiple?ctrl.activate(!1,!0):(0<ctrl.activeIndex||0===ctrl.search.length&&ctrl.tagging.isActivated&&-1<ctrl.activeIndex)&&ctrl.activeIndex--;break;case KEY.TAB:ctrl.multiple&&!ctrl.open||ctrl.select(ctrl.items[ctrl.activeIndex],!0);break;case KEY.ENTER:1==ctrl.items.length?ctrl.select(ctrl.items[0],ctrl.skipFocusser):ctrl.open&&(ctrl.tagging.isActivated||0<=ctrl.activeIndex)?ctrl.select(ctrl.items[ctrl.activeIndex],ctrl.skipFocusser):ctrl.activate(!1,!0);break;case KEY.ESC:ctrl.close();break;default:processed=!1}return processed}ctrl.sizeSearchInput=function(){function calculateContainerWidth(){return container.clientWidth*!!input.offsetParent}function updateIfVisible(containerWidth){if(0===containerWidth)return!1;var inputWidth=containerWidth-input.offsetLeft-10;return inputWidth<50&&(inputWidth=containerWidth),ctrl.searchInput.css("width",inputWidth+"px"),!0}var input=ctrl.searchInput[0],container=ctrl.searchInput.parent().parent()[0];ctrl.searchInput.css("width","10px"),$timeout(function(){null!==sizeWatch||updateIfVisible(calculateContainerWidth())||(sizeWatch=$scope.$watch(calculateContainerWidth,function(containerWidth){updateIfVisible(containerWidth)&&(sizeWatch(),sizeWatch=null)}))})},ctrl.searchInput.on("keydown",function(e){var key=e.which;if(~[KEY.ENTER,KEY.ESC].indexOf(key)&&(e.preventDefault(),e.stopPropagation()),~[KEY.ESC,KEY.TAB].indexOf(key)&&ctrl.close(),!~[KEY.ENTER,KEY.ESC].indexOf(key)&&!KEY.isVerticalMovement(key)&&!1===ctrl.searchEnabled)return e.preventDefault(),e.stopPropagation(),!1;$scope.$apply(function(){var tagged=!1;if(0<ctrl.items.length||ctrl.tagging.isActivated){if(_handleDropDownSelection(key),ctrl.taggingTokens.isActivated){for(var i=0;i<ctrl.taggingTokens.tokens.length;i++)ctrl.taggingTokens.tokens[i]===KEY.MAP[e.keyCode]&&0<ctrl.search.length&&(tagged=!0);tagged&&$timeout(function(){ctrl.searchInput.triggerHandler("tagged");var newItem=ctrl.search.replace(KEY.MAP[e.keyCode],"").trim();ctrl.tagging.fct&&(newItem=ctrl.tagging.fct(newItem)),newItem&&ctrl.select(newItem,!0)})}}else!ctrl.open&&ctrl.multiple&&_handleDropDownSelection(key)}),KEY.isVerticalMovement(key)&&0<ctrl.items.length&&function(){var container=$element.querySelectorAll(".ui-select-choices-content"),choices=container.querySelectorAll(".ui-select-choices-row");if(choices.length<1)throw uiSelectMinErr("choices","Expected multiple .ui-select-choices-row but got '{0}'.",choices.length);if(ctrl.activeIndex<0)return;var highlighted=choices[ctrl.activeIndex];$(".uiselect-choice-status-hidden-accessible").text("");var optionHighlighted=$(highlighted).find("div:last").text(),ariaOptionSelected=$filter("xei18n")("uiselect.option.selected",optionHighlighted);$(".uiselect-choice-status-hidden-accessible").text(ariaOptionSelected),$(".uiselect-choice-status-hidden-accessible").attr("aria-selected",!0),$(".uiselect-choice-status-hidden-accessible").innerText=ariaOptionSelected;var posY=highlighted.offsetTop+highlighted.clientHeight-container[0].scrollTop,height=container[0].offsetHeight;height<posY?container[0].scrollTop+=posY-height:posY<highlighted.clientHeight&&(ctrl.isGrouped&&0===ctrl.activeIndex?container[0].scrollTop=0:container[0].scrollTop-=highlighted.clientHeight-posY)}(),0==$scope.$select.search.length&&key===KEY.SPACE&&(e.preventDefault(),e.stopPropagation()),key!==KEY.ENTER&&key!==KEY.ESC&&key!==KEY.UP&&KEY!==KEY.DOWN||(e.preventDefault(),e.stopPropagation()),-1!==ctrl.activeIndex&&(!1===ctrl.taggingLabel||KEY.isVerticalMovement(key))||(ctrl.activeIndex=0)}),ctrl.searchInput.on("paste",function(e){var data;if(data=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(e.originalEvent||e).clipboardData.getData("text/plain"),(data=ctrl.search+data)&&0<data.length)if(ctrl.taggingTokens.isActivated){var separator=KEY.toSeparator(ctrl.taggingTokens.tokens[0]),items=data.split(separator||ctrl.taggingTokens.tokens[0]);if(items&&0<items.length){var oldsearch=ctrl.search;angular.forEach(items,function(item){var newItem=ctrl.tagging.fct?ctrl.tagging.fct(item):item;newItem&&ctrl.select(newItem,!0)}),ctrl.search=oldsearch||EMPTY_SEARCH,e.preventDefault(),e.stopPropagation()}}else ctrl.paste&&(ctrl.paste(data),ctrl.search=EMPTY_SEARCH,e.preventDefault(),e.stopPropagation())}),ctrl.searchInput.on("tagged",function(){$timeout(function(){_resetSearchInput()})}),$scope.$on("$destroy",function(){ctrl.searchInput.off("keyup keydown tagged blur paste")}),angular.element($window).bind("resize",function(){ctrl.sizeSearchInput()})}]),uis.directive("xeUiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function($document,uiSelectConfig,uiSelectMinErr,uisOffset,$compile,$parse,$timeout){return{restrict:"EA",templateUrl:function(tElement,tAttrs){return(tAttrs.theme||uiSelectConfig.theme)+(angular.isDefined(tAttrs.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["xeUiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(tElement,tAttrs){var match=/{(.*)}\s*{(.*)}/.exec(tAttrs.ngClass);if(match){var combined="{"+match[1]+", "+match[2]+"}";tAttrs.ngClass=combined,tElement.attr("ng-class",combined)}return angular.isDefined(tAttrs.multiple)?tElement.append("<ui-select-multiple/>").removeAttr("multiple"):tElement.append("<ui-select-single/>"),tAttrs.inputId&&(tElement.querySelectorAll("input.ui-select-search")[0].id=tAttrs.inputId),function(scope,element,attrs,ctrls,transcludeFn){var $select=ctrls[0],ngModel=ctrls[1];function onDocumentClick(e){if($select.open){if(!(window.jQuery?window.jQuery.contains(element[0],e.target):element[0].contains(e.target))&&!$select.clickTriggeredSelect){var skipFocusser;if($select.skipFocusser)skipFocusser=!0;else{var targetController=angular.element(e.target).controller("xeUiSelect");skipFocusser=(skipFocusser=targetController&&targetController!==$select)||~["input","button","textarea","select"].indexOf(e.target.tagName.toLowerCase())}$select.close(skipFocusser),scope.$digest()}$select.clickTriggeredSelect=!1}}$select.selectedValue=attrs.textSelected,$select.generatedId=uiSelectConfig.generateId(),$select.baseTitle=attrs.title||"Select box",$select.focusserId="focusser-"+$select.generatedId,"false"==attrs.searchEnabled?$select.focusserTitle=$select.baseTitle+" focus, Single Select Search Unavailable.":$select.focusserTitle=$select.baseTitle+" focus",$select.closeOnSelect=angular.isDefined(attrs.closeOnSelect)?$parse(attrs.closeOnSelect)():uiSelectConfig.closeOnSelect,scope.$watch("skipFocusser",function(){var skipFocusser=scope.$eval(attrs.skipFocusser);$select.skipFocusser=void 0!==skipFocusser?skipFocusser:uiSelectConfig.skipFocusser}),$select.onSelectCallback=$parse(attrs.onSelect),$select.onRemoveCallback=$parse(attrs.onRemove),$select.limit=angular.isDefined(attrs.limit)?parseInt(attrs.limit,10):void 0,$select.ngModel=ngModel,$select.choiceGrouped=function(group){return $select.isGrouped&&group&&group.name},attrs.tabindex&&attrs.$observe("tabindex",function(value){$select.focusInput.attr("tabindex",value),element.removeAttr("tabindex")}),scope.$watch("searchEnabled",function(){var searchEnabled=scope.$eval(attrs.searchEnabled);$select.searchEnabled=void 0!==searchEnabled?searchEnabled:uiSelectConfig.searchEnabled}),scope.$watch("sortable",function(){var sortable=scope.$eval(attrs.sortable);$select.sortable=void 0!==sortable?sortable:uiSelectConfig.sortable}),attrs.$observe("disabled",function(){$select.disabled=void 0!==attrs.disabled&&attrs.disabled}),attrs.$observe("resetSearchInput",function(){var resetSearchInput=scope.$eval(attrs.resetSearchInput);$select.resetSearchInput=void 0===resetSearchInput||resetSearchInput}),attrs.$observe("paste",function(){$select.paste=scope.$eval(attrs.paste)}),attrs.$observe("tagging",function(){if(void 0!==attrs.tagging){var taggingEval=scope.$eval(attrs.tagging);$select.tagging={isActivated:!0,fct:!0!==taggingEval?taggingEval:void 0}}else $select.tagging={isActivated:!1,fct:void 0}}),attrs.$observe("taggingLabel",function(){void 0!==attrs.tagging&&("false"===attrs.taggingLabel?$select.taggingLabel=!1:$select.taggingLabel=void 0!==attrs.taggingLabel?attrs.taggingLabel:"(new)")}),attrs.$observe("taggingTokens",function(){if(void 0!==attrs.tagging){var tokens=void 0!==attrs.taggingTokens?attrs.taggingTokens.split("|"):[",","ENTER"];$select.taggingTokens={isActivated:!0,tokens:tokens}}}),angular.isDefined(attrs.autofocus)&&$timeout(function(){$select.setFocus()}),angular.isDefined(attrs.focusOn)&&scope.$on(attrs.focusOn,function(){$timeout(function(){$select.setFocus()})}),$document.on("click",onDocumentClick),scope.$on("$destroy",function(){$document.off("click",onDocumentClick)}),transcludeFn(scope,function(clone){var transcluded=angular.element("<div>").append(clone),transcludedMatch=transcluded.querySelectorAll(".ui-select-match");if(transcludedMatch.removeAttr("ui-select-match"),transcludedMatch.removeAttr("data-ui-select-match"),1!==transcludedMatch.length)throw uiSelectMinErr("transcluded","Expected 1 .ui-select-match but got '{0}'.",transcludedMatch.length);element.querySelectorAll(".ui-select-match").replaceWith(transcludedMatch);var transcludedChoices=transcluded.querySelectorAll(".ui-select-choices");if(transcludedChoices.removeAttr("ui-select-choices"),transcludedChoices.removeAttr("data-ui-select-choices"),1!==transcludedChoices.length)throw uiSelectMinErr("transcluded","Expected 1 .ui-select-choices but got '{0}'.",transcludedChoices.length);element.querySelectorAll(".ui-select-choices").replaceWith(transcludedChoices)});var appendToBody=scope.$eval(attrs.appendToBody);(void 0!==appendToBody?appendToBody:uiSelectConfig.appendToBody)&&(scope.$watch("$select.open",function(isOpen){isOpen?function(){var offset=uisOffset(element);(placeholder=angular.element('<div class="ui-select-placeholder"></div>'))[0].style.width=offset.width+"px",placeholder[0].style.height=offset.height+"px",element.after(placeholder),originalWidth=element[0].style.width,$document.find("body").append(element),element[0].style.position="absolute",element[0].style.left=offset.left+"px",element[0].style.top=offset.top+"px",element[0].style.width=offset.width+"px"}():resetDropdown()}),scope.$on("$destroy",function(){resetDropdown()}));var placeholder=null,originalWidth="";function resetDropdown(){null!==placeholder&&(placeholder.replaceWith(element),placeholder=null,element[0].style.position="",element[0].style.left="",element[0].style.top="",element[0].style.width=originalWidth,$select.setFocus())}var dropdown=null;scope.$watch("$select.open",function(){"auto"!==$select.dropdownPosition&&"up"!==$select.dropdownPosition||scope.calculateDropdownPos()});function setDropdownPosUp(offset,offsetDropdown){offset=offset||uisOffset(element),offsetDropdown=offsetDropdown||uisOffset(dropdown),dropdown[0].style.position="absolute",dropdown[0].style.top=-1*offsetDropdown.height+"px",element.addClass("direction-up")}scope.calculateDropdownPos=function(){if($select.open){if(0===(dropdown=angular.element(element).querySelectorAll(".ui-select-dropdown")).length)return;dropdown[0].style.opacity=0,$timeout(function(){if("up"===$select.dropdownPosition)setDropdownPosUp();else{element.removeClass("direction-up");var offset=uisOffset(element),offsetDropdown=uisOffset(dropdown),scrollTop=$document[0].documentElement.scrollTop||$document[0].body.scrollTop;offset.top+offset.height+offsetDropdown.height>scrollTop+$document[0].documentElement.clientHeight?setDropdownPosUp(offset,offsetDropdown):function(offset,offsetDropdown){element.removeClass("direction-up"),offset=offset||uisOffset(element),offsetDropdown=offsetDropdown||uisOffset(dropdown),dropdown[0].style.position="",dropdown[0].style.top=""}(offset,offsetDropdown)}dropdown[0].style.opacity=1})}else{if(null===dropdown||0===dropdown.length)return;dropdown[0].style.position="",dropdown[0].style.top="",element.removeClass("direction-up")}}}}}}]),uis.directive("xeUiSelectMatch",["uiSelectConfig",function(uiSelectConfig){return{restrict:"EA",require:"^xeUiSelect",replace:!0,transclude:!0,templateUrl:function(tElement){return tElement.addClass("ui-select-match"),(tElement.parent().attr("theme")||uiSelectConfig.theme)+(tElement.parent().attr("multiple")?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(scope,element,attrs,$select){function setAllowClear(allow){$select.allowClear=!!angular.isDefined(allow)&&(""===allow||"true"===allow.toLowerCase())}$select.lockChoiceExpression=attrs.uiLockChoice,attrs.$observe("placeholder",function(placeholder){$select.placeholder=void 0!==placeholder?placeholder:uiSelectConfig.placeholder}),attrs.$observe("allowClear",setAllowClear),setAllowClear(attrs.allowClear),$select.multiple&&$select.sizeSearchInput()}}}]),uis.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(uiSelectMinErr,$timeout){return{restrict:"EA",require:["^xeUiSelect","^ngModel"],controller:["$scope","$timeout",function($scope,$timeout){var ngModel,ctrl=this,$select=$scope.$select;angular.isUndefined($select.selected)&&($select.selected=[]),$scope.$evalAsync(function(){ngModel=$scope.ngModel}),ctrl.activeMatchIndex=-1,ctrl.updateModel=function(){ngModel.$setViewValue(Date.now()),ctrl.refreshComponent()},ctrl.refreshComponent=function(){$select.refreshItems(),$select.sizeSearchInput()},ctrl.removeChoice=function(index){var removedChoice=$select.selected[index];if(!removedChoice._uiSelectChoiceLocked){var locals={};locals[$select.parserResult.itemName]=removedChoice,$select.selected.splice(index,1),ctrl.activeMatchIndex=-1,$select.sizeSearchInput(),$timeout(function(){$select.onRemoveCallback($scope,{$item:removedChoice,$model:$select.parserResult.modelMapper($scope,locals)})}),ctrl.updateModel(),$select.setFocus()}},ctrl.getPlaceholder=function(){if(!$select.selected||!$select.selected.length)return $select.placeholder}}],controllerAs:"$selectMultiple",link:function(scope,element,attrs,ctrls){var $select=ctrls[0],ngModel=scope.ngModel=ctrls[1],$selectMultiple=scope.$selectMultiple;function _findCaseInsensitiveDupe(arr){return void 0!==arr&&void 0!==$select.search&&0<arr.filter(function(origItem){return void 0!==$select.search.toUpperCase()&&void 0!==origItem&&origItem.toUpperCase()===$select.search.toUpperCase()}).length}function _findApproxDupe(haystack,needle){var dupeIndex=-1;if(angular.isArray(haystack))for(var tempArr=angular.copy(haystack),i=0;i<tempArr.length;i++)if(void 0===$select.tagging.fct)tempArr[i]+" "+$select.taggingLabel===needle&&(dupeIndex=i);else{var mockObj=tempArr[i];angular.isObject(mockObj)&&(mockObj.isTag=!0),angular.equals(mockObj,needle)&&(dupeIndex=i)}return dupeIndex}$select.multiple=!0,$select.removeSelected=!0,$select.focusInput=$select.searchInput,ngModel.$isEmpty=function(value){return!value||0===value.length},ngModel.$parsers.unshift(function(){for(var result,locals={},resultMultiple=[],j=$select.selected.length-1;0<=j;j--)(locals={})[$select.parserResult.itemName]=$select.selected[j],result=$select.parserResult.modelMapper(scope,locals),resultMultiple.unshift(result);return resultMultiple}),ngModel.$formatters.unshift(function(inputValue){var result,data=$select.parserResult.source(scope,{$select:{search:""}}),locals={};if(!data)return inputValue;function checkFnMultiple(list,value){if(list&&list.length){for(var p=list.length-1;0<=p;p--){if(locals[$select.parserResult.itemName]=list[p],result=$select.parserResult.modelMapper(scope,locals),$select.parserResult.trackByExp){var propsItemNameMatches=/(\w*)\./.exec($select.parserResult.trackByExp),matches=/\.([^\s]+)/.exec($select.parserResult.trackByExp);if(propsItemNameMatches&&0<propsItemNameMatches.length&&propsItemNameMatches[1]==$select.parserResult.itemName&&matches&&0<matches.length&&result[matches[1]]==value[matches[1]])return resultMultiple.unshift(list[p]),!0}if(angular.equals(result,value))return resultMultiple.unshift(list[p]),!0}return!1}}var resultMultiple=[];if(!inputValue)return resultMultiple;for(var k=inputValue.length-1;0<=k;k--)checkFnMultiple($select.selected,inputValue[k])||checkFnMultiple(data,inputValue[k])||resultMultiple.unshift(inputValue[k]);return resultMultiple}),scope.$watchCollection(function(){return ngModel.$modelValue},function(newValue,oldValue){oldValue!=newValue&&(ngModel.$modelValue=null,$selectMultiple.refreshComponent())}),ngModel.$render=function(){if(!angular.isArray(ngModel.$viewValue)){if(!angular.isUndefined(ngModel.$viewValue)&&null!==ngModel.$viewValue)throw uiSelectMinErr("multiarr","Expected model value to be array but got '{0}'",ngModel.$viewValue);$select.selected=[]}$select.selected=ngModel.$viewValue,$selectMultiple.refreshComponent(),scope.$evalAsync()},scope.$on("uis:select",function(event,item){$select.selected.length>=$select.limit||($select.selected.push(item),$selectMultiple.updateModel())}),scope.$on("uis:activate",function(){$selectMultiple.activeMatchIndex=-1}),scope.$watch("$select.disabled",function(newValue,oldValue){oldValue&&!newValue&&$select.sizeSearchInput()}),$select.searchInput.on("keydown",function(e){var key=e.which;scope.$apply(function(){var processed=!1;KEY.isHorizontalMovement(key)&&(processed=function(key){var newIndex,caretPosition=function(el){return angular.isNumber(el.selectionStart)?el.selectionStart:el.value.length}($select.searchInput[0]),length=$select.selected.length,last=length-1,curr=$selectMultiple.activeMatchIndex,next=$selectMultiple.activeMatchIndex+1,prev=$selectMultiple.activeMatchIndex-1;if(0<caretPosition||$select.search.length&&key==KEY.RIGHT)return!1;$select.close(),newIndex=function(){switch(key){case KEY.LEFT:if(~$selectMultiple.activeMatchIndex){var precedingItem=$select.selected[prev].name;return $(".uiselect-choice-status-hidden-accessible").text(precedingItem),prev}precedingItem=$select.selected[last].name;return $(".uiselect-choice-status-hidden-accessible").text(precedingItem),last;case KEY.RIGHT:if(~$selectMultiple.activeMatchIndex&&curr!==last){var succedingItem=$select.selected[next].name;return $(".uiselect-choice-status-hidden-accessible").text(succedingItem),next}return $select.activate(),!1;case KEY.BACKSPACE:return~$selectMultiple.activeMatchIndex?($selectMultiple.removeChoice(curr),prev):last;case KEY.DELETE:return!!~$selectMultiple.activeMatchIndex&&($selectMultiple.removeChoice($selectMultiple.activeMatchIndex),curr)}}(),$select.selected.length&&!1!==newIndex?$selectMultiple.activeMatchIndex=Math.min(last,Math.max(0,newIndex)):$selectMultiple.activeMatchIndex=-1;return!0}(key)),processed&&key!=KEY.TAB&&(e.preventDefault(),e.stopPropagation())})}),$select.searchInput.on("keyup",function(e){if(KEY.isVerticalMovement(e.which)||scope.$evalAsync(function(){$select.activeIndex=!1===$select.taggingLabel?-1:0}),$select.tagging.isActivated&&0<$select.search.length){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||KEY.isVerticalMovement(e.which))return;if($select.activeIndex=!1===$select.taggingLabel?-1:0,!1===$select.taggingLabel)return;var newItem,tagItems,tagItem,items=angular.copy($select.items),stashArr=angular.copy($select.items),hasTag=!1,dupeIndex=-1;if(void 0!==$select.tagging.fct){if(0<(tagItems=$select.$filter("filter")(items,{isTag:!0})).length&&(tagItem=tagItems[0]),0<items.length&&tagItem&&(hasTag=!0,items=items.slice(1,items.length),stashArr=stashArr.slice(1,stashArr.length)),newItem=$select.tagging.fct($select.search),stashArr.some(function(origItem){return angular.equals(origItem,$select.tagging.fct($select.search))})||$select.selected.some(function(origItem){return angular.equals(origItem,newItem)}))return void scope.$evalAsync(function(){$select.activeIndex=0,$select.items=items});newItem.isTag=!0}else{if(0<(tagItems=$select.$filter("filter")(items,function(item){return item.match($select.taggingLabel)})).length&&(tagItem=tagItems[0]),void 0!==items[0]&&0<items.length&&tagItem&&(hasTag=!0,items=items.slice(1,items.length),stashArr=stashArr.slice(1,stashArr.length)),newItem=$select.search+" "+$select.taggingLabel,-1<_findApproxDupe($select.selected,$select.search))return;if(_findCaseInsensitiveDupe(stashArr.concat($select.selected)))return void(hasTag&&(items=stashArr,scope.$evalAsync(function(){$select.activeIndex=0,$select.items=items})));if(_findCaseInsensitiveDupe(stashArr))return void(hasTag&&($select.items=stashArr.slice(1,stashArr.length)))}hasTag&&(dupeIndex=_findApproxDupe($select.selected,newItem)),items=-1<dupeIndex?items.slice(dupeIndex+1,items.length-1):((items=[]).push(newItem),items.concat(stashArr)),scope.$evalAsync(function(){$select.activeIndex=0,$select.items=items})}}),$select.searchInput.on("blur",function(){$timeout(function(){$selectMultiple.activeMatchIndex=-1})})}}}]),uis.directive("uiSelectSingle",["$timeout","$compile",function($timeout,$compile){return{restrict:"EA",require:["^xeUiSelect","^ngModel"],link:function(scope,element,attrs,ctrls){var $select=ctrls[0],ngModel=ctrls[1];ngModel.$parsers.unshift(function(inputValue){var locals={};return locals[$select.parserResult.itemName]=inputValue,$select.parserResult.modelMapper(scope,locals)}),ngModel.$formatters.unshift(function(inputValue){var data=$select.parserResult.source(scope,{$select:{search:""}}),locals={};if(data){var checkFnSingle=function(d){return locals[$select.parserResult.itemName]=d,$select.parserResult.modelMapper(scope,locals)==inputValue};if($select.selected&&checkFnSingle($select.selected))return $select.selected;for(var i=data.length-1;0<=i;i--)if(checkFnSingle(data[i]))return data[i]}return inputValue}),scope.$watch("$select.selected",function(newValue){ngModel.$viewValue!==newValue&&ngModel.$setViewValue(newValue)}),ngModel.$render=function(){$select.selected=ngModel.$viewValue},scope.$on("uis:select",function(event,item){$select.selected=item}),scope.$on("uis:close",function(event,skipFocusser){$timeout(function(){$select.focusser.prop("disabled",!1),skipFocusser||$select.focusser[0].focus()},0,!1)}),scope.$on("uis:activate",function(){focusser.prop("disabled",!0)});var focusser=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button'/>");$compile(focusser)(scope),$select.focusser=focusser,$select.focusInput=focusser,element.parent().append(focusser),focusser.bind("focus",function(){scope.$evalAsync(function(){$select.focus=!0})}),focusser.bind("blur",function(){scope.$evalAsync(function(){$select.focus=!1})}),focusser.bind("keydown",function(e){return e.which===KEY.BACKSPACE?(e.preventDefault(),e.stopPropagation(),$select.select(void 0),void scope.$apply()):e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC?void 0:e.which==KEY.DOWN||e.which==KEY.UP||e.which==KEY.ENTER||e.which==KEY.SPACE?(e.preventDefault(),e.stopPropagation(),$select.activate(),!1):void scope.$digest()}),focusser.bind("keyup input",function(e){e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||e.which==KEY.ENTER||e.which===KEY.BACKSPACE||($select.activate(focusser.val()),focusser.val(""),scope.$digest())})}}}]),uis.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function($timeout,uiSelectConfig,uiSelectMinErr){return{require:"^xeUiSelect",link:function(scope,element,attrs,$select){if(null===scope[attrs.uiSelectSort])throw uiSelectMinErr("sort","Expected a list to sort");var axis=angular.extend({axis:"horizontal"},scope.$eval(attrs.uiSelectSortOptions)).axis;scope.$watch(function(){return $select.sortable},function(newValue){newValue?element.attr("draggable",!0):element.removeAttr("draggable")}),element.on("dragstart",function(event){element.addClass("dragging"),(event.dataTransfer||event.originalEvent.dataTransfer).setData("text",scope.$index.toString())}),element.on("dragend",function(){element.removeClass("dragging")});function dragOverHandler(event){event.preventDefault(),("vertical"===axis?event.offsetY||event.layerY||(event.originalEvent?event.originalEvent.offsetY:0):event.offsetX||event.layerX||(event.originalEvent?event.originalEvent.offsetX:0))<this["vertical"===axis?"offsetHeight":"offsetWidth"]/2?(element.removeClass("dropping-after"),element.addClass("dropping-before")):(element.removeClass("dropping-before"),element.addClass("dropping-after"))}function dropHandler(event){event.preventDefault();var droppedItemIndex=parseInt((event.dataTransfer||event.originalEvent.dataTransfer).getData("text"),10);$timeout.cancel(dropTimeout),dropTimeout=$timeout(function(){_dropHandler(droppedItemIndex)},20)}var dropTimeout,_dropHandler=function(droppedItemIndex){var theList=scope.$eval(attrs.uiSelectSort),itemToMove=theList[droppedItemIndex],newIndex=null;newIndex=element.hasClass("dropping-before")?droppedItemIndex<scope.$index?scope.$index-1:scope.$index:droppedItemIndex<scope.$index?scope.$index:scope.$index+1,function(from,to){this.splice(to,0,this.splice(from,1)[0])}.apply(theList,[droppedItemIndex,newIndex]),scope.$apply(function(){scope.$emit("uiSelectSort:change",{array:theList,item:itemToMove,from:droppedItemIndex,to:newIndex})}),element.removeClass("dropping"),element.removeClass("dropping-before"),element.removeClass("dropping-after"),element.off("drop",dropHandler)};element.on("dragenter",function(){element.hasClass("dragging")||(element.addClass("dropping"),element.on("dragover",dragOverHandler),element.on("drop",dropHandler))}),element.on("dragleave",function(event){event.target==element&&(element.removeClass("dropping"),element.removeClass("dropping-before"),element.removeClass("dropping-after"),element.off("dragover",dragOverHandler),element.off("drop",dropHandler))})}}}]),uis.service("uisRepeatParser",["uiSelectMinErr","$parse",function(uiSelectMinErr,$parse){this.parse=function(expression){var match;if(!(match=expression.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw uiSelectMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);var source=match[5],filters="";if(match[3]){source=match[5].replace(/(^\()|(\)$)/g,"");var filterMatch=match[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);filterMatch&&filterMatch[1].trim()&&(filters=filterMatch[1],source=source.replace(filters,""))}return{itemName:match[4]||match[2],keyName:match[3],source:$parse(source),filters:filters,trackByExp:match[6],modelMapper:$parse(match[1]||match[4]||match[2]),repeatExpression:function(grouped){var expression=this.itemName+" in "+(grouped?"$group.items":"$select.items");return this.trackByExp&&(expression+=" track by "+this.trackByExp),expression}}},this.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])}(),angular.module("ui.select").run(["$templateCache",function($templateCache){$templateCache.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="" class="ui-select-choices-row-inner"></a></div></li></ul>'),$templateCache.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),$templateCache.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),$templateCache.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="application" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),$templateCache.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),$templateCache.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results" ><li ng-show="$select.showMinMsg" class="select2-no-results" role="listbox" ng-bind="\'uiselect.minimum.input.text\' | xei18n: $select.minimumInputLength" aria-live="polite" ></li><li ng-show="$select.showNoResultsMsg && !$select.showMinMsg" role="listbox"  class="select2-no-results "  ng-bind="\'uiselect.no.results.found.text\' | xei18n" > <li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }" role="listbox"  ><div ng-show="$select.choiceGrouped($group) && !$select.showNoResultsMsg && !$select.showMinMsg" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul ng-show="!$select.showNoResultsMsg && !$select.showMinMsg" role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="listbox" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row"  ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}" ><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),$templateCache.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),$templateCache.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),$templateCache.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices" ng-click="$select.activate()"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="application" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search"  style="width: 34px;" ondrop="return false;"/></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),$templateCache.put("select2/select.tpl.html","<div class=\"ui-select-container select2 select2-container\" ng-class=\"{'select2-container-active select2-dropdown-open open': $select.open, 'select2-container-disabled': $select.disabled, 'select2-container-active': $select.focus, 'select2-allowclear': $select.allowClear && !$select.isEmpty()}\"><div class=\"ui-select-match\"></div><div class=\"ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active\" ng-class=\"{'select2-display-none': !$select.open}\"><div ng-class=\" {'ui-select-search-hidden' : !$select.searchEnabled , 'select2-search' : $select.searchEnabled , 'search-container' : $select.searchEnabled }\">"+'<input type="text" autocomplete="off" aria-autocomplete="list" autocorrect="false" autocapitalize="off" spellcheck="false" role="application" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),$templateCache.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),$templateCache.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),$templateCache.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}]),function(){"use strict";angular.module("xeUISelect",["ui.select","ngSanitize"]).filter("propsFilter",function(){return function(items,props){var out=[];return angular.isArray(items)?items.forEach(function(item){for(var itemMatches=!1,keys=Object.keys(props),i=0;i<keys.length;i++){var prop=keys[i],text=props[prop].toLowerCase();if(-1!==item[prop].toString().toLowerCase().indexOf(text)){itemMatches=!0;break}}itemMatches&&out.push(item)}):out=items,out}}).directive("reachInfinity",["$parse","$timeout","$q",function($parse,$timeout,$q){function height(elem){return elem=elem[0]||elem,isNaN(elem.offsetHeight)?elem.document.documentElement.clientHeight:elem.offsetHeight}function offsetTop(elem){if(elem[0].getBoundingClientRect&&!elem.css("none"))return elem[0].getBoundingClientRect().top+function(elem){return elem=elem[0]||elem,isNaN(window.pageYOffset)?elem.document.documentElement.scrollTop:elem.ownerDocument.defaultView.pageYOffset}(elem)}return{link:function(scope,elem,attrs){var removeThrottle,container=elem,scrollDistance=angular.isDefined(attrs.scrollDistance)?parseInt(attrs.scrollDistance):.3;function tryToSetupInfinityScroll(){var rows=elem.querySelectorAll(".ui-select-choices-row");if(0===rows.length)return!1;var lastChoice=angular.element(rows[rows.length-1]);container=angular.element(elem.querySelectorAll(".ui-select-choices-content"));function handler(){var containerBottom=height(container),containerTopOffset=0;void 0!==offsetTop(container)&&(containerTopOffset=offsetTop(container)),offsetTop(lastChoice)-containerTopOffset+height(lastChoice)-containerBottom<=height(container)*(scrollDistance+1)&&$q.when($parse(attrs.reachInfinity)(scope)).then(function(){setTimeout(function(){rows=elem.querySelectorAll(".ui-select-choices-row"),lastChoice=angular.element(rows[rows.length-1])},0)})}return removeThrottle=function(type,name,obj){var running=!1;function func(){running||(running=!0,requestAnimationFrame(function(){obj.dispatchEvent(new CustomEvent(name)),running=!1}))}return(obj=obj||window).addEventListener(type,func),function(){obj.removeEventListener(type,func)}}("scroll","optimizedScroll",container[0]),container.on("optimizedScroll",handler),scope.$on("$destroy",function(){removeThrottle(),container.off("optimizedScroll",handler)}),!0}var unbindWatcher=scope.$watch("$select.open",function(newItems){newItems&&$timeout(function(){tryToSetupInfinityScroll()&&unbindWatcher()})})}}}])}(),angular.module("external-resouces",["pascalprecht.translate","ngSanitize"]),function(){"use strict";angular.module("xe-ui-components").constant("keyCodes",{A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_ENTER:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,COLON:186,EQUALS:187,UNDERSCORE:189,QUESTION_MARK:191,TILDE:192,OPEN_BRACKET:219,BACKWARD_SLASH:220,CLOSED_BRACKET:221,QUOTES:222,BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,RETURN:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACEBAR:32,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,HELP:47,NUM_LOCK:144}).run(["$rootScope","$window","getlocale","Language","$translate",function($rootScope,$window,getlocale,Language,$translate){$rootScope.isMAC=-1!==$window.navigator.userAgent.indexOf("Mac"),$rootScope.isRtl=Language.isRtl(),$translate.use(getlocale.getUserLocale())}])}(),function(){"use strict";angular.module("utils",["ngResource"]).directive("numbersOnly",function(){return{require:"ngModel",link:function(scope,element,attrs,modelCtrl){modelCtrl.$parsers.push(function(inputValue){if(void 0===inputValue)return"";var transformedInput=inputValue.replace(/[^0-9]/g,"");return transformedInput!==inputValue&&(modelCtrl.$setViewValue(transformedInput),modelCtrl.$render()),transformedInput})}}}).directive("browserDetect",function(){return{link:function(scope,element){var browser=angular||{},ua=navigator.userAgent;browser.ISFF=-1!==ua.indexOf("Firefox"),browser.ISOPERA=-1!==ua.indexOf("Opera"),browser.ISCHROME=-1!==ua.indexOf("Chrome"),browser.ISSAFARI=-1!==ua.indexOf("Safari")&&!browser.ISCHROME,browser.ISWEBKIT=-1!==ua.indexOf("WebKit"),browser.ISIE=0<ua.indexOf("Trident")||0<navigator.userAgent.indexOf("MSIE"),browser.ISIE9=0<ua.indexOf("MSIE 9"),browser.ISIE10=0<ua.indexOf("MSIE 10"),browser.ISIE11UP=-1===ua.indexOf("MSIE")&&0<ua.indexOf("Trident"),browser.ISIE10UP=browser.ISIE10||browser.ISIE11UP,browser.ISIE9UP=browser.ISIE9||browser.ISIE10UP,browser.ISIE9?element.addClass("ie ie9"):browser.ISCHROME?element.addClass("modern chrome"):element.addClass("modern")}}}).directive("continuousScroll",["$window",function($window){return{restrict:"A",scope:{continuousScroll:"&",scrollParent:"@"},link:function(scope,element){var scrollableElement;scrollableElement="body"===scope.scrollParent?angular.element($window):""!==scope.scrollParent?angular.element("#"+scope.scrollParent):element;var checkIfBottomTooClose=_.throttle(function(elm){("body"===scope.scrollParent?angular.element(document).height():elm[0].scrollHeight)-elm.scrollTop()-elm.height()<=500&&scope.continuousScroll()},500);scrollableElement.bind("scroll",function(){checkIfBottomTooClose(scrollableElement)}),scope.$on("$destroy",function(){scrollableElement.off("scroll")})}}}]).directive("xeKeypress",["keyCodes",function(keyCodes){return{restrict:"A",link:function(scope,element,attrs){element.bind("keypress",function(event){!function(keyPress,codes){var index,keys=codes.split(",");for(index=0;index<keys.length;index+=1)if(keyPress===keyCodes[keys[index]])return!0;return!1}(event.which||event.keyCode,attrs.codes)||scope.$apply(function(){scope.$eval(attrs.xeKeypress,{$event:event})})})}}}]).factory("accessibility",["$rootScope","keyCodes","$document",function($rootScope,keyCodes,$document){var accessibility={provideAccessibilityForTable:function(component,scrollableParent){(function(table){var searchShortcutKey;searchShortcutKey=$rootScope.isMAC?"CTRL+META+Y":"ALT+Y";table.find("input.search:first").attr("shortcut-key",searchShortcutKey).attr("global-key",!0)})(component),function(table,scrollableParent){$document.off("keydown",globalKeydownHandler).on("keydown",{table:table,parent:scrollableParent},globalKeydownHandler),table.on("keydown",function(event){var targetToFocusChildren,targetToClick,element=angular.element(event.target),isFromSearch=(element.closest(".column-filter-container").length,element.is("input.search")),isFromHeader=!!element.closest(".thead").length,isFromBody=!!element.closest(".tbody").length;table.find(".tbody tbody").is(":empty"),element.closest(".tfoot").length;if(!element.is("[xe-keypress]")){switch(event.which){case keyCodes.ENTER:isFromSearch?(targetToFocusChildren=table.find(".tbody tbody tr:first-child"),function(table){table.find(".active-row").removeClass("active-row"),table.find(".active").removeClass("active")}(table)):(isFromBody||isFromHeader)&&(targetToClick=element);break;case keyCodes.SPACEBAR:if(!isFromHeader)return!0;targetToClick=element;break;default:targetToFocusChildren=checkKeyTarget(event,table.find(":not([global-key])[shortcut-key]")),scrollToTarget(targetToFocusChildren,scrollableParent)}targetToFocusChildren&&targetToFocusChildren.length?(function(element,targetIndex){var actionableElement;element.select().focus(),element.is("tr")&&element.addClass("active-row");actionableElement=getFirstActionableItem(targetIndex?element.children().eq(targetIndex):element);actionableElement.length&&function(element){element.select().focus().on("focusout",function(event){var element=angular.element(event.target);element.closest("th").removeClass("focus-ring"),element.closest("td").removeClass("active focus-ring"),element.off("focusout")}),element.closest("tr th").addClass("focus-ring"),element.closest("tr td").addClass("active focus-ring")}(actionableElement)}(targetToFocusChildren,void 0),event.preventDefault()):targetToClick&&targetToClick.length&&(targetToClick.is("a")?(targetToClick=targetToClick.get(0)).click():targetToClick.select().focus().click(),event.preventDefault())}})}(component,scrollableParent)}},globalKeydownHandler=function(event){var targetToClick=checkKeyTarget(event,event.data.table.find("[global-key][shortcut-key]"));targetToClick&&targetToClick.length&&(scrollToTarget(targetToClick,event.data.parent),targetToClick.select().focus().click(),event.preventDefault())},scrollToTarget=function(element,scrollableParent){scrollableParent.prop("nodeName")||(scrollableParent=angular.element("#content")),scrollableParent.length&&element&&scrollableParent.animate({scrollTop:element.offset().top-scrollableParent.offset().top+scrollableParent.scrollTop()})};function getFirstActionableItem(element){return element.find("a, :input, [tabindex=0], .xe-checkbox").first().not(":hidden, .disabled, :disabled, [readonly]")}function checkKeyTarget(event,targetElements){if(!angular.isUndefined(targetElements)&&targetElements.length){for(var target,i=0;i<targetElements.length;i++){var comboKeys=["ctrl","alt","shift","meta"],keyStrokes=targetElements.eq(i).attr("shortcut-key").split("+");if(1===keyStrokes.length){if(keyCodes[keyStrokes[0]]===event.which){target=targetElements.eq(i);break}}else if(2===keyStrokes.length&&-1!==comboKeys.indexOf(keyStrokes[0].toLowerCase())){if(event[keyStrokes[0].toLowerCase()+"Key"]&&keyCodes[keyStrokes[1]]===event.which){target=targetElements.eq(i);break}}else if(3===keyStrokes.length&&-1!==comboKeys.indexOf(keyStrokes[0].toLowerCase())&&-1!==comboKeys.indexOf(keyStrokes[1].toLowerCase())&&event[keyStrokes[0].toLowerCase()+"Key"]&&event[keyStrokes[1].toLowerCase()+"Key"]&&keyCodes[keyStrokes[2]]===event.which){target=targetElements.eq(i);break}}return target}}return accessibility}]).factory("getlocale",["$translate",function($translate){return{getUserLocale:function(){var locale=jQuery("meta[name=userLocale]").attr("content");return locale=locale||$translate.use()}}}]).factory("Language",["$translate",function($translate){return{isRtl:function(){var dir=jQuery("meta[name=dir]").attr("content");if(dir)return"rtl"===dir;for(var rtlLanguages=["ar"],languageKey=$translate.proposedLanguage()||$translate.use(),i=0;i<rtlLanguages.length;i+=1)if(-1<languageKey.indexOf(rtlLanguages[i]))return!0;return!1}}}]).filter("xei18n",["$filter",function($filter){return function(key,arg1){var value="";return angular.isDefined(key)&&angular.isDefined(jQuery.i18n)&&(value=jQuery.i18n.prop(key,[arg1])),(!value||0<=value.indexOf(key))&&(value=$filter("translate")(key,{arg1:arg1})),value}}])}(),function(){"use strict";angular.module("columnFilter",[]).directive("xeColumnFilter",["$document","$timeout","keyCodes",function($document,$timeout,keyCodes){return{restrict:"E",scope:{header:"="},replace:!0,templateUrl:"templates/column-filter.html",controller:["$scope",function($scope){$scope.selectAll={visible:!0},$scope.hideColumnSettingMenu=!0,$scope.hideUnhideColumn=function(heading,e){heading.options.visible?$scope.header.filter(function(heading){return!1===heading.options.visible&&!1!==heading.options.columnShowHide}).length||($scope.selectAll.visible=!0):$scope.selectAll.visible=!1},$scope.onSelectAll=function(header,e){$scope.selectAll.visible=!0,angular.forEach(header,function(heading){!1===heading.options.visible&&!1!==heading.options.columnShowHide&&(heading.options.visible=!0)})}}],link:function(scope,element,attrs){function postMenuClose(){$document.off("click"),$timeout(function(){element.find("button").attr("tabindex",0)},10)}element.on("close",function(event,actualTarget){0<element.find(actualTarget).length||(scope.hideColumnSettingMenu=!0,postMenuClose(),(angular.isUndefined(actualTarget)||angular.element(actualTarget).is(":not(:focus)"))&&element.find(".column-filter-button").focus(),scope.$apply())}),scope.bindClickEvent=function(event){scope.hideColumnSettingMenu=!scope.hideColumnSettingMenu,scope.hideColumnSettingMenu?postMenuClose():(element.find("button").attr("tabindex",-1),$document.on("click",function(event){element.trigger("close",event.target)}),$timeout(function(){element.find("ul.column-setting-menu li:first input").focus()},10))},$timeout(function(){element.find("ul.column-setting-menu li").bind("keydown",function(event){if(event.keyCode===keyCodes.ESC&&(scope.hideColumnSettingMenu=!0,postMenuClose(),element.find(".column-filter-button").focus(),event.preventDefault(),event.stopPropagation()),event.keyCode===keyCodes.DOWN||event.keyCode===keyCodes.TAB){if(0<$(event.currentTarget).next().length){var next=$(event.currentTarget).next();$(next).find("input").focus()}else element.find("ul.column-setting-menu li:first input").focus();event.preventDefault(),event.stopPropagation()}if(event.keyCode===keyCodes.UP||event.shiftKey&&event.keyCode===keyCodes.TAB){if(0<$(event.currentTarget).prev().length){var previous=$(event.currentTarget).prev();$(previous).find("input").focus()}else element.find("ul.column-setting-menu li:last input").focus();event.preventDefault(),event.stopPropagation()}})},10)}}}])}(),angular.module("pagination",[]).directive("xePagination",["$http","$q",function($http,$q){return{restrict:"EA",replace:!0,require:"?^xeTableGrid",scope:{model:"=",endPoint:"=?",paginationConfig:"=?",resultsFound:"=",searchString:"=",fetch:"&?",postFetch:"&",totalValue:"=?"},templateUrl:"templates/pagination.html",controller:["$scope","$attrs","$timeout",function($scope,$attrs,$timeout){var oldPageValue=1;$scope.firstPrev=!1,$scope.nextLast=!1,$scope.onPage=1,angular.isObject($scope.paginationConfig)&&!$scope.paginationConfig.pageLengths?$scope.pageOffsets=[10,20,50,100]:$scope.pageOffsets=$scope.paginationConfig.pageLengths,angular.isObject($scope.paginationConfig)&&$scope.paginationConfig.offset?$scope.offset=$scope.paginationConfig.offset:$scope.offset=$scope.pageOffsets[0],$scope.pageOffsets.indexOf($scope.offset)<0&&($scope.pageOffsets.push($scope.offset),$scope.pageOffsets.sort(function(a,b){return a-b})),$scope.offsetChanged=function(doFetch){calculateNumberOfPages(),disableButtons($scope.onPage,$scope.numberOfPages),doFetch&&$scope.fetchData($scope.onPage,$scope.offset)},$scope.first=function(){$scope.firstPrev||(setPageValue(1),$scope.fetchData($scope.onPage,$scope.offset),disableButtons($scope.onPage,$scope.numberOfPages),focusPageInput())},$scope.prev=function(append){if(!$scope.firstPrev){var onPage=parseInt($scope.onPage);setPageValue(--onPage),$scope.fetchData($scope.onPage,$scope.offset,append),disableButtons($scope.onPage,$scope.numberOfPages),$scope.firstPrev&&focusPageInput()}},$scope.next=function(append){if(!$scope.nextLast){var onPage=parseInt($scope.onPage);setPageValue(++onPage),$scope.fetchData($scope.onPage,$scope.offset,append),disableButtons($scope.onPage,$scope.numberOfPages),$scope.nextLast&&focusPageInput()}},$scope.last=function(){$scope.nextLast||(setPageValue($scope.numberOfPages),$scope.fetchData($scope.onPage,$scope.offset),disableButtons($scope.onPage,$scope.numberOfPages),focusPageInput())},$scope.paggeNumberChange=function(){$scope.onPage&&focusPageInput(),null!==$scope.onPage&&oldPageValue!=$scope.onPage&&(angular.isUndefined($scope.onPage)||$scope.onPage<=0||$scope.onPage>$scope.numberOfPages?$scope.onPage=oldPageValue:(setPageValue($scope.onPage),$scope.fetchData($scope.onPage,$scope.offset),disableButtons($scope.onPage,$scope.numberOfPages)))},$scope.focusOut=function(event){angular.element(event.target).val(oldPageValue)},$scope.$watch("resultsFound",function(newValue,oldValue){$timeout(function(){0===newValue?setPageValue(0):0===$scope.onPage&&setPageValue(1),calculateNumberOfPages(),disableButtons($scope.onPage,$scope.numberOfPages)})});var setPageValue=function(onPage){$scope.onPage=onPage,oldPageValue=onPage,calculateNumberOfPages(),disableButtons($scope.onPage,$scope.numberOfPages)},focusPageInput=function(){$timeout(function(){angular.element("#pageInput").select().focus()},50)},calculateNumberOfPages=function(){$scope.numberOfPages=Math.ceil($scope.resultsFound/$scope.offset),$scope.numberOfPages=$scope.numberOfPages<1?0:$scope.numberOfPages,$scope.onPage>$scope.numberOfPages&&setPageValue($scope.numberOfPages)},disableButtons=function(pageNumber,numberOfPages){pageNumber=parseInt(pageNumber);var reminder=(numberOfPages=parseInt(numberOfPages))/pageNumber;1===numberOfPages?($scope.firstPrev=!0,$scope.nextLast=!0):1==reminder?($scope.nextLast=!0,$scope.firstPrev=!1):reminder===numberOfPages?($scope.firstPrev=!0,$scope.nextLast=!1):pageNumber<=0||numberOfPages<pageNumber?($scope.firstPrev=!0,$scope.nextLast=!0):($scope.nextLast=!1,$scope.firstPrev=!1)};$scope.fetchData=function(onPage,offset,append){angular.isNumber(onPage)||(onPage=parseInt(onPage)),setPageValue(onPage);var range=function(pageNumber,offset){var pageEnd=offset*pageNumber;return{max:pageEnd,offset:0==pageEnd?0:pageEnd-offset}}(onPage,offset),query={searchString:$scope.searchString,sortColumnName:$scope.sortColumnName,ascending:$scope.ascending,offset:range.offset,max:range.max,endPoint:$scope.endPoint,onPage:onPage,pageSize:offset};$scope.loading(!0),angular.isDefined($attrs.fetch)?$scope.fetch({query:query}).then(function(data){$scope.postFetch({response:data,oldResult:$scope.model}),$scope.model=append?$scope.model.concat(data.result):data.result,$scope.resultsFound=data.length,angular.isDefined(data.totals)&&0!==Object.keys(data.totals).length&&($scope.totalValue=data.totals),$scope.loading(!1),$scope.addExtensionColumns($scope.header,data)}).catch(function(data){data&&console.error(data),$scope.postFetch({response:data,oldResult:$scope.model}),$scope.loading(!1)}):function(query){var deferred=$q.defer();return url=query.endPoint+"?searchString="+(query.searchString?query.searchString:"")+"&sortColumnName="+(query.sortColumnName?query.sortColumnName:"")+"&ascending="+query.ascending+"&offset="+(query.offset?query.offset:"")+"&max="+(query.max?query.max:""),$http.get(url).then(function(data){deferred.resolve(data)}).catch(function(){deferred.reject(data)}),deferred.promise}(query).then(function(data){$scope.postFetch({response:data,oldResult:$scope.model}),$scope.model=append?$scope.model.concat(data.result):data.result,$scope.resultsFound=data.length,angular.isDefined(data.totals)&&0!==Object.keys(data.totals).length&&($scope.totalValue=data.totals),$scope.loading(!1),$scope.addExtensionColumns($scope.header,data)}).catch(function(data){data&&console.error(data),$scope.postFetch({response:data,oldResult:$scope.model}),$scope.loading(!1)})},$scope.offsetChanged(!1)}],link:function(scope,elem,attributes,parentController){scope.loading=parentController.loadingDataIndicator,scope.emptyTableMsg=parentController.emptyTableMsg,scope.sortColumnName=parentController.sortColumnName,scope.ascending=parentController.ascending,scope.header=parentController.header,scope.addExtensionColumns=parentController.addExtensionColumns,scope.emptyTableMsg||scope.fetchData(1,scope.offset),parentController.hidePaginationIfContinuousScroll&&parentController.hidePaginationIfContinuousScroll(),parentController.next=function(append){scope.next(append)},parentController.previous=function(append){scope.prev(append)},parentController.fetchData=function(onPage,offset){onPage=angular.isDefined(onPage)?onPage:scope.onPage,offset=angular.isDefined(offset)?offset:scope.offset,scope.fetchData(onPage,offset)},parentController.sort=function(sortColumnName,order){scope.sortColumnName=sortColumnName,scope.ascending=order,scope.fetchData(scope.onPage,scope.offset)}}}}]),function(){"use strict";angular.module("search",[]).directive("xeSearch",["keyCodes","$filter",function(keyCodes,$filter){return{restrict:"E",scope:{value:"=",placeholder:"@",onChange:"&",onFocus:"&",onBlur:"&",onKeydown:"&",searchConfig:"=",loadingData:"="},replace:!0,templateUrl:"templates/search.html",link:function(scope,element,attrs){var onDataChange,transformedInput,minCharactersToStartSearch=0,maxlength=1/0;angular.isObject(scope.searchConfig)&&(angular.isDefined(scope.searchConfig.minimumCharacters)&&(minCharactersToStartSearch=scope.searchConfig.minimumCharacters),angular.isDefined(scope.searchConfig.maxlength)&&(maxlength=scope.searchConfig.maxlength),angular.isUndefined(scope.searchConfig.searchString)&&(scope.searchConfig.searchString=""),angular.isUndefined(scope.searchConfig.id)&&(scope.searchConfig.id="search"),maxlength<=minCharactersToStartSearch&&console.error("Wrong searchConfig: maxlength value should be more than the minimumCharacters value inside searchConfig to enable searching."),scope.ariaLabel=$filter("xei18n")("search.aria.label"),angular.isDefined(scope.searchConfig.ariaLabel)&&(scope.ariaLabel=scope.ariaLabel+" "+scope.searchConfig.ariaLabel)),onDataChange=_.debounce(function(data){angular.isUndefined(data)||scope.onChange({query:data})},scope.searchConfig.delay||0),scope.$watch("searchConfig.searchString",function(newValue,oldValue){if(angular.isDefined(newValue)){var searchString=newValue.toString();searchString.length>maxlength&&(searchString=searchString.substring(0,maxlength),scope.searchConfig.searchString=searchString),searchString!==(oldValue=angular.isDefined(oldValue)?oldValue.toString():"")&&(searchString.length>maxlength&&(searchString=searchString.substring(0,maxlength),scope.searchConfig.searchString=searchString),searchString.length>=minCharactersToStartSearch?onDataChange(searchString):searchString.length<oldValue.length&&oldValue.length>=minCharactersToStartSearch&&searchString.length<minCharactersToStartSearch?onDataChange(""):""===searchString&&0===searchString.length&&1===oldValue.length&&onDataChange(""))}}),scope.searchKeypress=function(data,id,e){maxlength?angular.isDefined(data)&&data.length>=maxlength&&(e.preventDefault(),transformedInput=data.substring(0,maxlength),scope.form[id].$setViewValue(transformedInput),scope.form[id].$render()):e.preventDefault()},scope.searchKeydown=function(data,id,e){e&&e.which===keyCodes.ESC?(e.preventDefault(),scope.form[id].$rollbackViewValue(),scope.form[id].$render(),scope.value=""):e&&e.which===keyCodes.ENTER&&(scope.loadingData||!scope.searchConfig.searchString.length||scope.searchConfig.searchString.length<minCharactersToStartSearch)&&(e.preventDefault(),e.stopPropagation()),scope.onKeydown({$event:e})}}}}])}(),angular.module("xebarmodule",[]).factory("d3",["$window","$log",function($window,$log){return $window.d3||$log.error("D3 must be present"),$window.d3}]).directive("xeBarModule",["d3","Language","$filter","getlocale",function(d3,Language,$filter,getlocale){return{restrict:"E",scope:{data:"=xebardata",ngclickfunction:"&",barChartWidth:"@xeChartWidth",barChartHeight:"@xeChartHeight",barWidth:"@xeBarWidth",gapWidth:"@xeGapWidth",xTitleValue:"@xeXaxisTitle",yTitleValue:"@xeYaxisTitle",yAxisFormat:"@xeYaxisFormat"},template:'<div><div class="xe-bar-tooltip"></div></div>',link:function(scope,element){var xAxis,yAxis,svg,x,y,svgChild,xSvgChild,ySvgChild,allBars,bar,zoom,yTitle,chartWidth,chartHeight,barWidth,gapWidth,xTitleValue,yTitleValue,yAxisFormat,divTooltip,gapFactor,numberOfBars,width,height,chartData,multipleBarChartMetaData,margin={top:20,right:50,bottom:50,left:40},color=d3.scale.ordinal().range(["#9191E1","#90C9FF","#6DD6BC","#BBE19B","#F4DB76","#FFB581","#D389C6","#B2B3B7","#DD5C5F"]),indexG=-1,isMultipleBarChart=!1,numberOfSG=0,indexSG=0;function detectIE(){return ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),trident=ua.indexOf("Trident/"),0<msie||0<trident}function localizedNumber(input){return Language.isRtl()?input:input.toLocaleString(getlocale.getUserLocale().replace("_","-"))}function wrap(text,width){width*=2,text.each(function(){for(var word,text=d3.select(this),words=text.text().split(/\s+/).reverse(),line=[],lineNumber=0,y=text.attr("y"),dy=parseFloat(text.attr("dy")),tspan=text.text("").append("tspan").attr("x",0).attr("y",y).attr("dy",dy+"em");word=words.pop();)line.push(word),tspan.text(line.join(" ")),(0<tspan.node().getComputedTextLength()?tspan.node().getComputedTextLength():5*tspan.text().length)>width&&(tspan=1<line.length?(line.pop(),tspan.text(line.join(" ")),line=[word],text.append("tspan").attr("x",0).attr("y",y).attr("dy",1.1*++lineNumber+dy+"em").text(word)):(line=[],text.append("tspan").attr("x",0).attr("y",y).attr("dy",1.1*++lineNumber+dy+"em").text("")))})}function DisplayChart(){null!=scope.data&&0!=scope.data.length?(element[0].style="",barWidth=null==scope.barWidth?44:+scope.barWidth,gapWidth=null==scope.gapWidth?55:+scope.gapWidth,chartWidth=null==scope.barChartWidth?400:+scope.barChartWidth,chartHeight=null==scope.barChartHeight?450:+scope.barChartHeight,xTitleValue=null==scope.xTitleValue?"":scope.xTitleValue,yTitleValue=null==scope.yTitleValue?"":scope.yTitleValue,yAxisFormat=null==scope.yAxisFormat?"d":scope.yAxisFormat,width=chartWidth-margin.right-margin.left,height=chartHeight-margin.top-margin.bottom,numberOfBars=width/(barWidth+gapWidth),gapFactor=gapWidth/(barWidth+gapWidth),scope.dataKeys=[],angular.forEach(scope.data[0],function(value,key){scope.dataKeys.push(key)}),1==scope.dataKeys.length?(isMultipleBarChart=!0,scope.dataKeys=[],angular.forEach(scope.data,function(value,key){angular.forEach(value,function(value1,key1){scope.dataKeys.push(key1)})}),scope.displayGroupsKey=scope.dataKeys[0],scope.displayValuesKey=scope.dataKeys[1],multipleBarChartMetaData=scope.data[0][scope.displayGroupsKey],chartData=scope.data[1][scope.displayValuesKey],numberOfSG=multipleBarChartMetaData.length,Language.isRtl()&&(multipleBarChartMetaData=multipleBarChartMetaData.reverse()),scope.dataKeys=[],angular.forEach(multipleBarChartMetaData[0],function(value,key){scope.dataKeys.push(key)}),angular.forEach(chartData[0],function(value,key){scope.dataKeys.push(key)}),scope.subLabelKey=scope.dataKeys[0],scope.colorKey=scope.dataKeys[1],scope.labelKey=scope.dataKeys[2],scope.valueKey=scope.dataKeys[3]):(scope.labelKey=scope.dataKeys[0],scope.valueKey=scope.dataKeys[1],scope.colorKey=scope.dataKeys[2],chartData=scope.data),function(){divTooltip=element[0].getElementsByClassName("xe-bar-tooltip"),x=d3.scale.ordinal(),y=d3.scale.linear(),xAxis=d3.svg.axis().scale(x).orient("bottom").innerTickSize(0).outerTickSize(0),zoom=d3.behavior.zoom().on("zoom",scope.zoom),d3.select(element[0]).selectAll("svg").remove(),svg=d3.select(element[0]).classed("svg-container",!0).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 "+margin.top+" "+chartWidth+" "+chartHeight).classed("svg-content-responsive",!0),detectIE()&&svg.attr("width",width).attr("height",height),chartData.length>numberOfBars&&svg.append("text").attr("text-anchor","middle").attr("class","xe-bar-title").attr("tabindex","0").attr("focusable","true").attr("transform","translate("+chartWidth/2+","+1.5*margin.top+")").attr("aria-label",$filter("xei18n")("barchart.viewmore.help.label")).text($filter("xei18n")("barchart.viewmore.help.label")),""!=yTitleValue&&(yTitle=svg.append("text").attr("text-anchor","middle").attr("class","xe-bar-title").attr("tabindex","0").attr("focusable","true").attr("aria-label",yTitleValue).text(yTitleValue),Language.isRtl()?yTitle.attr("transform","translate("+(chartWidth-margin.right/4)+","+chartHeight/2+")rotate(-90)"):yTitle.attr("transform","translate("+margin.left/3+","+chartHeight/2+")rotate(-90)")),""!=xTitleValue&&svg.append("text").attr("text-anchor","middle").attr("class","xe-bar-title").attr("tabindex","0").attr("focusable","true").attr("transform","translate("+chartWidth/2+","+(chartHeight+margin.bottom/3)+")").attr("aria-label",xTitleValue).text(xTitleValue),svgChild=svg.append("g").attr("transform","translate("+margin.left+","+margin.bottom+")"),yAxis=d3.svg.axis().scale(y).orient(Language.isRtl()?"right":"left").innerTickSize(-width).tickFormat(d3.format(yAxisFormat)),ySvgChild=svgChild.append("g").attr("class","y xe-bar-axis");var chartArea=svgChild.append("g").attr("clip-path","url(#chartAreaClip"+scope.$id+")");chartArea.append("clipPath").attr("id","chartAreaClip"+scope.$id).append("rect").attr({width:width,height:height+margin.bottom}),xSvgChild=chartArea.append("g").attr("class","x xe-bar-axis"),allBars=chartArea.append("g").attr("class","allBars")}(),chartData.length>numberOfBars&&svg.call(zoom),x.domain(chartData.map(function(d){return d[scope.labelKey]})),Language.isRtl()?x.rangeRoundBands([width,(barWidth+gapWidth)*(numberOfBars-chartData.length)],gapFactor):x.rangeRoundBands([0,(barWidth+gapWidth)*chartData.length],gapFactor),isMultipleBarChart?y.domain([0,d3.max(chartData,function(d){return d3.max(d[scope.valueKey])})]).nice().range([height,0]):y.domain([0,d3.max(chartData,function(d){return d[scope.valueKey]})]).nice().range([height,0]),y.domain([0,d3.max(y.ticks())+y.ticks()[1]]),svg.on("keydown",function(){switch(d3.event.keyCode){case 37:zoom.translate([zoom.translate()[0]+(barWidth+gapWidth),zoom.translate()[1]]).event(svg);break;case 39:zoom.translate([zoom.translate()[0]-(barWidth+gapWidth),zoom.translate()[1]]).event(svg)}}),Language.isRtl()?(ySvgChild.call(yAxis).attr("transform","translate("+width+" ,0)"),ySvgChild.selectAll("text").style("text-anchor","end")):ySvgChild.call(yAxis),xSvgChild.attr("transform","translate(0,"+height+")").call(xAxis).selectAll(".tick text").call(wrap,x.rangeBand()),allBars.selectAll(".bar").remove(),(bar=allBars.selectAll(".bar").data(chartData).enter().append("g")).attr("class","bar").attr("transform",function(d){return"translate("+x(d[scope.labelKey])+",0)"}),bar.selectAll("rect").data(function(d){return isMultipleBarChart?Language.isRtl()?d[scope.valueKey].reverse():d[scope.valueKey]:[d]}).enter().append("rect").attr("width",function(d){return isMultipleBarChart?barWidth/numberOfSG:barWidth}).attr("x",function(d){return isMultipleBarChart?(indexSG==numberOfSG&&(indexSG=0),indexSG++*barWidth/numberOfSG):0}).attr("y",function(d){return isMultipleBarChart?isNaN(y(d))?0:y(d):isNaN(y(d[scope.valueKey]))?0:y(d[scope.valueKey])}).attr("height",function(d){return isMultipleBarChart?isNaN(y(d))?0:height-y(d):isNaN(y(d[scope.valueKey]))?0:height-y(d[scope.valueKey])}).style("fill",function(d){return isMultipleBarChart?(indexSG==numberOfSG&&(indexSG=0),null==multipleBarChartMetaData[indexSG][scope.colorKey]||""==multipleBarChartMetaData[indexSG][scope.colorKey]?color(indexSG++):multipleBarChartMetaData[indexSG++][scope.colorKey]):(indexG++,null==d[scope.colorKey]||""==d[scope.colorKey]?color(indexG%color.range().length):d[scope.colorKey])}).attr("tabindex",function(d){return isMultipleBarChart&&0==d||!isMultipleBarChart&&0==d[scope.valueKey]?-1:0}).attr("focusable",function(d){return isMultipleBarChart&&0==d||!isMultipleBarChart&&0==d[scope.valueKey]?"false":"true"}).attr("aria-label",function(d){return isMultipleBarChart?(indexSG==numberOfSG&&(indexSG=0),multipleBarChartMetaData[indexSG++][scope.subLabelKey]+" "+localizedNumber(d)):d[scope.labelKey]+" "+localizedNumber(d[scope.valueKey])}).on("mousemove",function(d){if(divTooltip[0].style.left=d3.event.layerX+10+"px",divTooltip[0].style.top=d3.event.layerY-25+"px",divTooltip[0].style.display="block",isMultipleBarChart){var tooltip=d3.event.currentTarget.attributes["aria-label"].value;divTooltip[0].innerHTML=tooltip.substring(0,tooltip.lastIndexOf(" "))+"<br>"+tooltip.substring(tooltip.lastIndexOf(" ")+1)}else divTooltip[0].innerHTML=d[scope.labelKey]+" <br> "+localizedNumber(d[scope.valueKey])}).on("mouseout",function(d){divTooltip[0].style.display="none"}).on("focusin",function(){d3.event.target.classList.add("xe-rect-on")}).on("focusout",function(){d3.event.target.classList.remove("xe-rect-on")}),bar.on("click",function(d){scope.ngclickfunction({barData:d})}),bar.on("keydown",function(d){13==d3.event.keyCode&&scope.ngclickfunction({barData:d})}),bar.selectAll("text").data(function(d){return isMultipleBarChart?Language.isRtl()?d[scope.valueKey].reverse():d[scope.valueKey]:[d]}).enter().append("text").attr("class","xe-bar-label").attr("text-anchor","middle").attr("x",function(d){return isMultipleBarChart?(indexSG==numberOfSG&&(indexSG=0),Language.isRtl()?(numberOfSG-indexSG++)*barWidth/numberOfSG-barWidth/(2*numberOfSG):indexSG++*barWidth/numberOfSG+barWidth/(2*numberOfSG)):barWidth/2}).attr("y",function(d){return isMultipleBarChart?isNaN(y(d))?0:y(d)-3:isNaN(y(d[scope.valueKey]))?0:y(d[scope.valueKey])-3}).text(function(d){return localizedNumber(isMultipleBarChart?d:d[scope.valueKey])})):element[0].style="display:none"}element.addClass("xe-bar-chart"),detectIE()&&(Object.getOwnPropertyDescriptor(Element.prototype,"classList")||HTMLElement&&Object.getOwnPropertyDescriptor(HTMLElement.prototype,"classList")&&Object.defineProperty(Element.prototype,"classList",Object.getOwnPropertyDescriptor(HTMLElement.prototype,"classList"))),scope.$watch("data",function(newVal,oldVal,scope){newVal!=oldVal&&DisplayChart()},!0),scope.zoom=function(){1==d3.event.scale&&(svg.select(".allBars").attr("transform","translate("+d3.event.translate[0]+",0)"),svg.select(".x.xe-bar-axis").attr("transform","translate("+d3.event.translate[0]+","+height+")").call(xAxis).selectAll(".tick text").call(wrap,x.rangeBand()))},DisplayChart()}}}]),function(){"use strict";var paginationPreviousGridCell,editableMode=!1,keys_left=37,keys_right=39,keys_enter=13,keys_escape=27,keys_tab=9,keys_downArrow=40,keys_upArrow=38,keys_PAGE_UP=33,keys_PAGE_DOWN=34,keys_HOME=36,keys_END=35;angular.module("dataTableModule",["utils"]).constant("mobileMaxWidth",768).directive("xeTableGrid",["$timeout","accessibility","$window","mobileMaxWidth",function($timeout,accessibility,$window,mobileMaxWidth){return{restrict:"E",transclude:!0,replace:!0,scope:{tableId:"@",caption:"@?",header:"=",endPoint:"=?",fetch:"&",postFetch:"&",content:"=",resultsFound:"=?",toolbar:"=",paginate:"=?",continuousScrolling:"=?",continuousScrollParent:"@?",onRowClick:"&",onRowDoubleClick:"&",noDataMsg:"@?",emptyTableMsg:"=?",searchConfig:"=",paginationConfig:"=",draggableColumnNames:"=?",mobileLayout:"=?",height:"@?",refreshContent:"=?refreshGrid",xeSection:"@?",totalRow:"@?"},controller:["$scope","$filter","$attrs","$http","$sce","$timeout",function($scope,$filter,$attrs,$http,$sce,$timeout){var content,previousSortColumn,device,orderBy=$filter("orderBy"),filter=$filter("filter"),_this=this;if($scope.hideColumnSettingMenu=!0,$scope.transcludes={},$scope.headingTranscludes={},$scope.hideContainer=!1,$scope.sortArray=[],$scope.pagination=$scope.paginate,$scope.showPagination=!0,$scope.totalValue={},$scope.isMobileView=$window.innerWidth<=mobileMaxWidth,$scope.tableId){$scope.pagination||($scope.pagination=$scope.continuousScrolling),$scope.toolbar||$scope.caption||($scope.noCaptionBar=!0),device=$window.innerWidth>mobileMaxWidth?($scope.header=$filter("orderBy")($scope.header,"position.desktop",!1),"desktop"):($scope.header=$filter("orderBy")($scope.header,"position.mobile",!1),"mobile"),applyExtensions("captionBar"),applyExtensions("header"),angular.isObject($scope.searchConfig)&&angular.isUndefined($scope.searchConfig.searchString)&&($scope.searchConfig.searchString=""),this.emptyTableMsg=$scope.emptyTableMsg,this.header=$scope.header,this.loadingDataIndicator=function(loading){$scope.loadingData=loading},this.hidePaginationIfContinuousScroll=function(){$scope.showPagination=!$scope.continuousScrolling},$scope.onSort=function(params){_this.sortColumnName=params.heading.name,_this.ascending=!_this.ascending,$scope.pagination?params.heading.options.sortable&&_this.sort(_this.sortColumnName,_this.ascending):params.heading.options.sortable&&(angular.isDefined($attrs.fetch)?(_this.loadingDataIndicator(!0),$scope.fetch({query:{searchString:$scope.searchConfig.searchString,sortColumnName:_this.sortColumnName,ascending:_this.ascending}}).then(function(data){$scope.postFetch({response:data,oldResult:$scope.content}),$scope.content=data.result,_this.loadingDataIndicator(!1)}).catch(function(data){console.error(data),$scope.postFetch({response:data,oldResult:$scope.content}),_this.loadingDataIndicator(!1)})):$scope.content=orderBy($scope.content,_this.sortColumnName,!_this.ascending))},$scope.handleDrop=function(draggedFrom,draggedTo){$scope.header=orderColumns($scope.header,draggedFrom,draggedTo)};var defaultOptions={visible:!0,sortable:!(this.addExtensionColumns=function(columnHeaders,response){if(response&&0<response.length&&response.result&&response.result[0].extensions){_.find(columnHeaders,function(heading){return-1<heading.name.indexOf("extension.")})||angular.forEach(response.result[0].extensions,function(extension){var displayColumn;if("undefined"!=typeof xe&&xe.extensionsFound){var gridSectionExtns=_.find(xe.extensions.sections,function(section){return section.name==$scope.xeSection});if(gridSectionExtns)var gridField=_.find(gridSectionExtns.fields,function(field){return field.name=="extension."+extension.name});gridField&&(displayColumn=!gridField.exclude&&void 0!==gridField.exclude)}if(displayColumn){var column={position:{desktop:_.max(columnHeaders,function(columnHeader){return columnHeader.position.desktop}).position.desktop+1,mobile:_.max(columnHeaders,function(columnHeader){return columnHeader.position.mobile}).position.mobile+1},name:"extension."+extension.name,title:extension.prompt,options:{visible:!0,sortable:!1},width:"10%"};columnHeaders.push(column)}}),$scope.populateHeaderWidths(angular.element("#"+$scope.tableId));var maxTableWidth=_.reduce(_.pluck(columnHeaders,"dynamicWidth"),function(memo,num){return memo+num},0);angular.element("#"+$scope.tableId).find(".thead, .tbody").width(maxTableWidth)}return columnHeaders})};angular.forEach($scope.header,function(value,index){angular.isUndefined(value.width)&&(value.width=""),$scope.$watch(function(){return $scope.header[index].options.visible},function(newValue,oldValue){newValue!==oldValue&&$timeout(function(){$scope.populateHeaderWidths(angular.element("#"+$scope.tableId))},0)}),angular.isDefined(value.options)?(angular.isDefined(value.options.ascending)?($scope.sortArray[value.name]={ascending:value.options.ascending,decending:!value.options.ascending},previousSortColumn=value.name,_this.ascending=value.options.ascending,_this.sortColumnName=value.name):$scope.sortArray[value.name]={ascending:!1,decending:!1},angular.isDefined(value.options.visible)||(value.options.visible=!0),angular.isDefined(value.options.sortable)||(value.options.sortable=!1)):value.options=defaultOptions}),$scope.populateHeaderWidths=function(table){table.find(".thead, .tbody").width("");var dynamicWidthColumnCount=0,undefinedWidthCount=0,headerWidth=table.find(".tbody thead").width(),headerFontSize=parseFloat(table.find(".tbody thead").css("font-size"))||16,availableWidth=headerWidth,invisibleColumnWidths=0,scrollableContainerWidth=table.find(".hr-scrollable-content")[0]?table.find(".hr-scrollable-content")[0].scrollWidth:0;if((table.find(".tbody")[0]?table.find(".tbody").width():0)<scrollableContainerWidth&&table.find(".thead, .tbody").width(scrollableContainerWidth-1),angular.forEach($scope.header,function(heading){var width=heading.width;$window.innerWidth<mobileMaxWidth?(heading.dynamicWidth="",availableWidth=0):heading.options.visible?((width=calculateWidth(width,headerWidth,headerFontSize))?(heading.dynamicWidth=width,availableWidth-=heading.dynamicWidth):undefinedWidthCount++,endsWith(heading.width,"%")&&dynamicWidthColumnCount++):(width=calculateWidth(width,headerWidth,headerFontSize))&&(invisibleColumnWidths+=width)}),undefinedWidthCount||invisibleColumnWidths){var undefinedWidth=Math.floor(availableWidth/undefinedWidthCount),availableWidthPerColumn=Math.floor(invisibleColumnWidths/dynamicWidthColumnCount);angular.forEach($scope.header,function(heading){heading.options.visible&&(undefinedWidth&&""===heading.width.trim()?heading.dynamicWidth=undefinedWidth:endsWith(heading.width,"%")&&(heading.dynamicWidth+=availableWidthPerColumn))})}},loadData(),$scope.fetchSpecial=function(searchString){if($scope.pagination)_this.fetchData(1);else{var promise=$scope.fetch({query:{searchString:searchString,sortColumnName:_this.sortColumnName,ascending:_this.ascending}});_this.loadingDataIndicator(!0),_this.addExtensionColumns($scope.header,data),promise&&promise.then(function(data){$scope.postFetch({response:data,oldResult:$scope.content}),$scope.content=data.result,angular.isDefined($scope.content.totals)&&0!==Object.keys($scope.content.totals).length&&($scope.totalValue=$scope.content.totals),_this.loadingDataIndicator(!1)}).catch(function(data){console.error(data),$scope.postFetch({response:data,oldResult:$scope.content}),_this.loadingDataIndicator(!1)})}},this.registerTransclude=function(directiveTransclude){var id=directiveTransclude.id;$scope.transcludes[id]=directiveTransclude},this.registerHeadingTransclude=function(directiveTransclude){var id=directiveTransclude.id;$scope.headingTranscludes[id]=directiveTransclude},$scope.onSearchfocus=function(event){$scope.hideContainer=!$scope.hideContainer},$scope.onSearchBlur=function(event){$scope.hideContainer=!$scope.hideContainer,angular.element(event.target).val($scope.searchConfig.searchString)},$scope.sortOnHeading=function(heading,headerIndex){if(heading.options.sortable){var columnName=heading.name;if(previousSortColumn==columnName)$scope.sortArray[columnName]={ascending:!$scope.sortArray[columnName].ascending,decending:!$scope.sortArray[columnName].decending};else for(var obj in previousSortColumn=columnName,$scope.sortArray)$scope.sortArray[obj]=obj==columnName?{ascending:!0,decending:!1}:{ascending:!1,decending:!1}}},document.doctype&&-1<navigator.appVersion.indexOf("MSIE 9")&&document.addEventListener("selectstart",function(e){for(var el=e.target;el;el=el.parentNode)if(el.attributes&&el.attributes.draggable)return e.preventDefault(),e.stopImmediatePropagation(),el.dragDrop(),!1}),$scope.getObjectValue=function(object,key){var value;return"object"==typeof object&&"string"==typeof key&&(value=object[key]),value},$scope.getTotalValue=function(obj){return angular.isDefined(obj.totalLabel)&&$window.innerWidth>mobileMaxWidth?obj.totalLabel:"object"==typeof $scope.totalValue&&null!==$scope.totalValue?angular.isDefined($scope.totalValue["total"+obj.name])?$scope.totalValue["total"+obj.name]:"":void 0},$scope.isExtendedField=function(row,fieldName){if(-1<fieldName.indexOf("extension."))return $scope.extensionValue=$scope.getObjectValueForExtendedField(row,fieldName),$scope.isEditable=$scope.isEditableField(fieldName),$scope.isEditable&&($scope.dataType=$scope.getDataType(row,fieldName)),!0},$scope.isEditableField=function(fieldName){var isEditable;if("undefined"!=typeof xe&&xe.extensionsFound){var gridSectionExtns=_.find(xe.extensions.sections,function(section){return section.name==$scope.xeSection});gridSectionExtns&&gridSectionExtns.fields.forEach(function(field,key){field.name!==fieldName||field.exclude||field.editable&&(isEditable=!0)})}return isEditable},$scope.getDataType=function(row,fieldName){var ret;return"undefined"!=typeof xe&&xe.extensionsFound&&row.extensions.forEach(function(extension){"extension."+extension.name===fieldName&&(ret=extension.datatype)}),ret},$scope.getObjectValueForExtendedField=function(object,key){var value,key_array=key.split("."),extensionArray=object.extensions;return extensionArray&&extensionArray.forEach(function(extension){if(extension.name===key_array[1]&&(value=extension.value,"undefined"!=typeof xe&&xe.extensionsFound)){var gridSectionExtns=_.find(xe.extensions.sections,function(section){return section.name==$scope.xeSection});if(gridSectionExtns)_.find(gridSectionExtns.fields,function(field){return field.name==key})}}),value},$scope.refreshContent=function(refresh){refresh&&($attrs.fetch&&$scope.pagination?_this.fetchData&&_this.fetchData(1):loadData(),$scope.populateHeaderWidths(angular.element("#"+$scope.tableId)))}}else console.error("Provide a unique id for table");function applyExtensions(sectionName){var gridXESection,gridSectionExtns;if("undefined"!=typeof xe&&xe.extensionsFound)switch(sectionName){case"captionBar":(gridXESection=$scope.xeSection+"CaptionBar")&&(gridSectionExtns=_.find(xe.extensions.sections,function(section){return section.name==gridXESection}))&&function(sectionExtns){if(sectionExtns.exclude)return $scope.noCaptionBar=!0;_.each(sectionExtns.fields,function(extensibleField){extensibleField.exclude&&($scope["no"+extensibleField.name]=!0)})}(gridSectionExtns);break;case"header":(gridXESection=$scope.xeSection)&&(gridSectionExtns=_.find(xe.extensions.sections,function(section){return section.name==gridXESection}))&&($scope.header=function(sectionExtns,columnHeaders){var updatedOption,columnToHide;return _.each(sectionExtns.fields,function(extensibleField){columnToHide=_.findWhere(columnHeaders,{name:extensibleField.name}),angular.isDefined(columnToHide)&&(updatedOption=extensibleField.exclude?{visible:!extensibleField.exclude,columnShowHide:!extensibleField.exclude}:{},_.extend(_.findWhere(columnHeaders,{name:extensibleField.name}).options,updatedOption),extensibleField.exclude||function(extensibleField,columnToChange){extensibleField.attributes&&extensibleField.attributes.label&&angular.isString(extensibleField.attributes.label)&&(columnToChange.title=extensibleField.attributes.label);extensibleField.attributes&&extensibleField.attributes.label&&angular.isObject(extensibleField.attributes.label)&&extensibleField.attributes.label.key&&(columnToChange.title=xe.i18n(extensibleField.attributes.label.key))}(extensibleField,columnToHide))}),columnHeaders}(gridSectionExtns,$scope.header),$scope.header=function(sectionExtns,columnHeaders){return _.each(sectionExtns.fields,function(extension){if(_.has(extension,"nextSibling")){var current_field_idx=_.indexOf(_.pluck(columnHeaders,"name"),extension.name),nextSibling_idx=_.indexOf(_.pluck(columnHeaders,"name"),extension.nextSibling);if(_.isNull(extension.nextSibling)&&0<=current_field_idx){var lastSibling=_.last(columnHeaders).name;columnHeaders=orderColumns(columnHeaders,extension.name,lastSibling)}else if(0<=current_field_idx&&0<=nextSibling_idx){var prev_of_nextSibling=current_field_idx<nextSibling_idx&&columnHeaders[nextSibling_idx-1]?columnHeaders[nextSibling_idx-1].name:columnHeaders[nextSibling_idx].name;columnHeaders=orderColumns(columnHeaders,extension.name,prev_of_nextSibling)}}}),columnHeaders}(gridSectionExtns,$scope.header))}}function orderColumns(columnHeaders,draggedFrom,draggedTo){var srcIdx=_.indexOf(_.pluck(columnHeaders,"name"),draggedFrom),destIdx=_.indexOf(_.pluck(columnHeaders,"name"),draggedTo);if(0<=srcIdx&&0<=destIdx){var element=columnHeaders[srcIdx];columnHeaders.splice(srcIdx,1),columnHeaders.splice(destIdx,0,element),_.each(columnHeaders,function(item,index){item.position[device]=index+1})}return columnHeaders}function endsWith(str,suffix){return-1!==str.indexOf(suffix,str.length-suffix.length)}function calculateWidth(width,parentWidth,headerFontSize){return width=endsWith(width,"%")?Math.floor(parentWidth*width.substr(0,width.indexOf("%"))/100):endsWith(width,"em")?Math.floor(headerFontSize*width.substr(0,width.indexOf("em"))):endsWith(width,"px")?Math.floor(width.substr(0,width.indexOf("px"))):0}function loadData(){$attrs.fetch||$scope.emptyTableMsg?$scope.pagination||$scope.emptyTableMsg||(_this.loadingDataIndicator(!0),$scope.fetch({query:{searchString:$scope.searchConfig.searchString,sortColumnName:_this.sortColumnName,ascending:_this.ascending}}).then(function(data){$scope.postFetch({response:data,oldResult:$scope.content}),$scope.content=data.result,angular.isDefined($scope.content.totals)&&0!==Object.keys($scope.content.totals).length&&($scope.totalValue=$scope.content.totals),_this.loadingDataIndicator(!1)}).catch(function(data){console.error(data),$scope.postFetch({response:data,oldResult:$scope.content}),_this.loadingDataIndicator(!1)})):($scope.fetch=function(data){content=content||$scope.content,$scope.content=orderBy(filter(content,data.query.searchString,!1),_this.sortColumnName,_this.ascending),$scope.resultsFound=$scope.content.length,angular.isDefined($scope.content.totals)&&0!==Object.keys($scope.content.totals).length&&($scope.totalValue=$scope.content.totals),_this.loadingDataIndicator(!1),_this.addExtensionColumns($scope.header,data)},$scope.pagination||$attrs.endPoint?$scope.pagination||(_this.loadingDataIndicator(!0),$http.get($scope.endPoint+"?searchString="+$scope.searchConfig.searchString+"&sortColumnName="+(_this.sortColumnName||"")+"&ascending="+(_this.ascending||"")).then(function(data){$scope.postFetch({response:data,oldResult:$scope.content}),$scope.content=data.result,$scope.resultsFound=$scope.content.length,angular.isDefined($scope.content.totals)&&0!==Object.keys($scope.content.totals).length&&($scope.totalValue=$scope.content.totals),_this.loadingDataIndicator(!1),_this.addExtensionColumns($scope.header,data)}).catch(function(data){console.error(data),$scope.postFetch({response:data,oldResult:$scope.content}),_this.loadingDataIndicator(!1),_this.addExtensionColumns($scope.header,data)})):console.error("Provide either end-point or fetch attribute"))}}],templateUrl:function(element,attr){return"templates/dataTable.html"},compile:function(tElement,tAttrs){if(tElement.css("opacity",0),"true"===tAttrs.paginate||"true"===tAttrs.continuousScrolling){var paginationObject=tElement.find("xe-pagination");angular.isDefined(tAttrs.fetch)&&paginationObject.attr("fetch","fetch({query: query})"),angular.isDefined(tAttrs.postFetch)&&paginationObject.attr("post-fetch","postFetch({response: response, oldResult: oldResult})"),angular.isDefined(tAttrs.paginationConfig)&&paginationObject.attr("pagination-config","paginationConfig"),tAttrs.endPoint&&paginationObject.attr("end-point","endPoint"),paginationObject.attr("total-value","totalValue")}else tElement.find("xe-pagination").remove();return function(scope,element,attrs,controller){"false"!==tAttrs.paginate&&"true"!==tAttrs.continuousScrolling||angular.element(".tfoot").remove(),$timeout(function(){element.css("opacity",1),scope.populateHeaderWidths(element),accessibility.provideAccessibilityForTable(element,angular.element("#"+scope.continuousScrollParent)),scope.nextPage=function(){scope.continuousScrolling?scope.pagination&&!scope.showPagination&&controller.next&&controller.next(!0):scope.pagination&&element.find(".pagination-container").is(":hidden")&&controller.next&&controller.next(!0)}})}}}}]).directive("xeCellInjector",[function(){return{require:"^xeTableGrid",restrict:"A",replace:!0,scope:!0,link:function(scope,element,attrs,controllerInstance,$transclude){var id=attrs.name;element.attr("tabindex",0);var transclude=scope.transcludes[id];if(transclude){var scopeRowValue=scope.row[attrs.name];if(angular.isUndefined(scopeRowValue)){var newScopeObj=transclude.scope.$new();transclude.transclude(newScopeObj,function(transcludeEl,transcludeScope){transcludeScope.row=scope.row,element.append(transcludeEl)})}else transclude.transclude(scope,function(clone,scope){element.html(clone)})}}}}]).directive("xeRowInjector",[function(){var previousElement;return{restrict:"A",replace:!0,require:"^xeTableGrid",scope:!0,link:function(scope,element,attrs,controllerInstance,$transclude){element.on("click",function(event){previousElement&&previousElement.removeClass("active-row"),element.addClass("active-row"),previousElement=element})}}}]).directive("xeHeadingInjector",[function(){return{restrict:"A",replace:!0,require:"^xeTableGrid",scope:!0,link:function(scope,element,attrs,controllerInstance,$transclude){var id=attrs.name,transclude=scope.headingTranscludes[id];if(transclude){var newScopeObj=transclude.scope.$new();transclude.transclude(newScopeObj,function(transcludeEl,transcludeScope){element.find(".data").length?element.find(".data").append(transcludeEl):element.append(transcludeEl)})}}}}]).directive("xeCellMarkup",[function(){return{restrict:"EA",transclude:"element",replace:!0,scope:!0,require:"^xeTableGrid",link:function(scope,element,attrs,controllerInstance,$transclude){var directiveTransclude;attrs.columnName&&controllerInstance.registerTransclude?(directiveTransclude={id:attrs.columnName,transclude:$transclude,element:element,scope:scope},controllerInstance.registerTransclude(directiveTransclude)):attrs.headingName&&controllerInstance.registerHeadingTransclude&&(directiveTransclude={id:attrs.headingName,transclude:$transclude,element:element,scope:scope},controllerInstance.registerHeadingTransclude(directiveTransclude))}}}]).directive("attainMobileLayout",function(){var columnClasses={1:"single-column",2:"two-columns",3:"all-columns"};return{restrict:"A",scope:!0,link:function(scope,element,attrs){element.addClass(columnClasses[parseInt(attrs.attainMobileLayout)])}}}).directive("droppable",["$parse",function($parse){return{link:function(scope,element,attr){}}}]).directive("dragDrop",function(){return{link:function(scope,element,attr){var enterTarget=null,index=element.index();function processEvent(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()}-1!==scope.draggableColumnNames.indexOf(scope.header[index].name)&&(element.attr("draggable",!0),element.bind("dragover",function(event){processEvent(event);var dragX=(event=event||window.event).originalEvent.pageX,dragY=event.originalEvent.pageY-170;return angular.element("#dragtable").show(),angular.element("#dragtable").css({left:dragX,top:dragY}),event.originalEvent.dataTransfer.dropEffect="move",event.preventDefault&&event.preventDefault(),!1}),element.bind("drop",function(event){angular.element("#dragtable").hide(),processEvent(event);var fromHeader=event.originalEvent.dataTransfer.getData("text"),toHeader=angular.element(event.target).closest("th").data("name"),dropfn=attr.dragDrop;scope.$apply(function(){scope[dropfn](fromHeader,toHeader)})}),element.bind("dragstart",function(event){angular.element(event.target).addClass("dragged"),index=angular.element(event.target).closest("th").index()+1,element.closest(".table-container").find("td:nth-child("+index+")").addClass("dragged");var sendData=angular.element(event.target).data("name");event.originalEvent.dataTransfer.setData("text",sendData)}),element.bind("dragend",function(event){angular.element(event.target).removeClass("dragged"),index=angular.element(event.target).closest("th").index()+1,element.closest(".table-container").find("td:nth-child("+index+")").removeClass("dragged"),angular.element(".drag-enter").removeClass("drag-enter"),angular.element("#dragtable").hide()}),element.bind("dragenter",function(event){angular.element(event.target).closest("th").addClass("drag-enter"),index=angular.element(event.target).closest("th").index()+1,element.closest(".table-container").find("td:nth-child("+index+")").addClass("drag-enter"),enterTarget=event.target,event.preventDefault()}),element.bind("dragleave",function(event){enterTarget==event.target&&(angular.element(event.target).closest("th").removeClass("drag-enter"),index=angular.element(event.target).closest("th").index()+1,element.closest(".table-container").find("td:nth-child("+index+")").removeClass("drag-enter"))}))}}}).directive("resize",["$timeout","$window","$filter","Language","mobileMaxWidth",function($timeout,$window,$filter,Language,mobileMaxWidth){return function($scope,element,attr){function adjustHeader(){if(element[0].scrollHeight>element[0].clientHeight&&element[0].clientWidth!==element[0].offsetWidth){var headerPadding=element.width()-element[0].scrollWidth+"px";$scope.headerPadding=Language.isRtl()?{"padding-left":headerPadding}:{"padding-right":headerPadding}}else $scope.headerPadding={}}$timeout(function(){$scope.$watch(function(){return element.closest(".table-container").width()},function(newValue,oldValue){newValue!==oldValue&&($window.innerWidth>mobileMaxWidth?($scope.header=$filter("orderBy")($scope.header,"position.desktop",!1),$scope.populateHeaderWidths(element.closest(".table-container")),adjustHeader()):$scope.header=$filter("orderBy")($scope.header,"position.mobile",!1))}),$scope.$watch(function(){return element[0].scrollHeight},function(newValue,oldValue){$window.innerWidth>mobileMaxWidth&&adjustHeader()})});var w=angular.element($window),applyScope=_.debounce(function(){$scope.$apply()},500);w.bind("resize",applyScope)}}]).directive("tabIndex",[function(){return{link:function(scope,element,attrs){element.find("a, :input, [tabindex=0]").each(function(index,elem){})}}}]).directive("xeFocus",function(){var FOCUSRING="focus-ring",ACTIVEROW="active-row";return{restrict:"A",link:function($scope,elem,attrs){elem.bind("keydown",function(e){var code=e.keyCode||e.which,parent=$(elem).closest(".table-container"),isPaginate=parent.attr("paginate"),isTotalEnabled=parent.attr("total-row");if(editableMode){if(editableMode)switch(code){case keys_enter:if(0<(inputElem=$(elem).find("a, :input")).length)return editableMode=!0,$(elem).addClass(FOCUSRING),$(inputElem[0]).focus(),!1;break;case keys_escape:return editableMode=!1,$(elem).hasClass(FOCUSRING)&&$(elem).removeClass(FOCUSRING),$(elem).is(":input")||$(elem).is("a")?($(elem).parent.focus(),$(elem).parent().addClass(FOCUSRING)):($(elem).focus(),$(elem).addClass(FOCUSRING)),e.preventDefault(),!1;case keys_tab:if(e.shiftKey){var allActionableElementInRow=$(elem).parent().find("a, :input"),currentFocussedElement=$(elem).find("a, :input");if(0<(inputElementIndex=$.inArray(currentFocussedElement[currentFocussedElement.length-1],allActionableElementInRow))){$(elem).hasClass(FOCUSRING)&&$(elem).removeClass(FOCUSRING);var moveFocus=allActionableElementInRow[inputElementIndex-1];inputElementIndex--,closestColumn=$(moveFocus).closest("td"),$(closestColumn).addClass(FOCUSRING),moveFocus.focus()}else{var prevParent=elem.parent().prev();if(0<prevParent.length)if(elem.hasClass(FOCUSRING)&&elem.removeClass(FOCUSRING),0<(allActionableElementInRow=prevParent.find("a, :input")).length){moveFocus=allActionableElementInRow[allActionableElementInRow.length-1];closestColumn=$(moveFocus).closest("td"),$(closestColumn).addClass(FOCUSRING),$(moveFocus).focus()}}return!1}var closestColumn,inputElementIndex;allActionableElementInRow=$(elem).parent().find("a, :input"),currentFocussedElement=$(elem).find("a, :input");if((inputElementIndex=$.inArray(currentFocussedElement[0],allActionableElementInRow))<allActionableElementInRow.length-1){$(elem).hasClass(FOCUSRING)&&$(elem).removeClass(FOCUSRING);moveFocus=allActionableElementInRow[inputElementIndex+1];closestColumn=$(moveFocus).closest("td"),$(closestColumn).addClass(FOCUSRING),inputElementIndex++,$(moveFocus).focus()}else{var nextParent=$(elem).parent().next();if(0<nextParent.length){if($(elem).hasClass(FOCUSRING)&&$(elem).removeClass(FOCUSRING),0<(allActionableElementInRow=nextParent.find("a, :input")).length){moveFocus=allActionableElementInRow[0];closestColumn=$(moveFocus).closest("td"),$(closestColumn).addClass(FOCUSRING),$(moveFocus).focus()}}else{$(elem).hasClass(FOCUSRING)&&$(elem).removeClass(FOCUSRING);var allPreviousRows=$(elem).parent().prevAll();if(0<allPreviousRows.length){var firstRow=allPreviousRows[allPreviousRows.length-1],allActionableElements=$(firstRow).find(":input, a");0<allActionableElements.length&&$(allActionableElements[0]).focus(),closestColumn=$(allActionableElements[0]).closest("td"),$(closestColumn).addClass(FOCUSRING)}}}return!1;case keys_downArrow:case keys_upArrow:return!1}}else{if("undefined"!==e.target.id&&e.target.classList.contains("search")){switch(code){case keys_tab:if(e.shiftKey)return clearFocus(e),!0;clearFocus(e);var gridFirstRow=$(elem).closest(".table-container").find(".tbody tbody tr:first"),gridFirstRowFirstCell=$(elem).closest(".table-container").find(".tbody tbody tr:first td:first");return $("tr.active-row").removeClass(ACTIVEROW),$(gridFirstRow).addClass(ACTIVEROW),$(gridFirstRowFirstCell).focus(),$(gridFirstRowFirstCell).addClass(FOCUSRING),e.preventDefault(),!1}return!0}switch(code){case keys_left:return $(this).closest("td").is(":first-child")?$(elem).addClass(FOCUSRING):$(this).closest("th").is(":first-child")?$(elem).addClass(FOCUSRING):($(elem).hasClass(FOCUSRING)&&$(elem).removeClass(FOCUSRING),$(elem).prev().focus(),$(elem).prev().addClass(FOCUSRING)),e.preventDefault(),!1;case keys_right:return $(this).closest("td").is(":last-child")?$(elem).addClass(FOCUSRING):$(this).closest("th").is(":last-child")?$(elem).addClass(FOCUSRING):($(elem).hasClass(FOCUSRING)&&$(elem).removeClass(FOCUSRING),$(elem).next().focus(),$(elem).next().addClass(FOCUSRING)),e.preventDefault(),!1;case keys_enter:var inputElem;if(0<(inputElem=$(elem).find("a, :input")).length)return editableMode=!0,$("tr.active-row").removeClass(ACTIVEROW),$(elem).parent().addClass(ACTIVEROW),$(elem).addClass(FOCUSRING),$(inputElem[0]).focus(),!1;break;case keys_escape:return editableMode=!1,$(elem).hasClass(FOCUSRING)&&$(elem).removeClass(FOCUSRING),$(elem).is(":input")||$(elem).is("a")?($(elem).parent().focus(),$(elem).parent().addClass(FOCUSRING)):($(elem).focus(),$(elem).addClass(FOCUSRING)),e.preventDefault(),!1;case keys_tab:if(e.shiftKey)($(e.target).is("th")||$(e.target).is("td"))&&(clearFocus(e),$("tr.active-row").removeClass(ACTIVEROW),angular.element("#"+$scope.searchConfig.id).select().focus());else if(clearFocus(e),$("tr.active-row").removeClass(ACTIVEROW),isPaginate){var paginationControlDiv=$(elem).closest(".table-container").children().find("div.pagination-controls"),moveFocusToFirstElement=$(paginationControlDiv).find("input, button , select").not(":disabled");$(moveFocusToFirstElement[0]).focus(),paginationPreviousGridCell=e.currentTarget}else{var moveFocusToNextElement=$(elem).closest(".table-container").next("*[tabindex != '-1']:visible");$(moveFocusToNextElement[0]).focus()}return e.preventDefault(),!1;case keys_PAGE_UP:clearFocus(e);var currentIndex=$(elem).index(),selectedCell=(gridFirstRow=$(elem).closest(".table-container").find(".tbody tbody tr:first"),$(gridFirstRow).children()[currentIndex]);return $(selectedCell).focus(),$(selectedCell).addClass(FOCUSRING),!1;case keys_PAGE_DOWN:if(clearFocus(e),isTotalEnabled){currentIndex=$(elem).index();var lastRow=$(elem).closest(".table-container").find(".trDesktop thead tr");selectedCell=$(lastRow).children()[currentIndex];$(selectedCell).focus(),$(selectedCell).addClass(FOCUSRING)}else{currentIndex=$(elem).index();var gridLasttRow=$(elem).closest(".table-container").find(".tbody tbody tr:last");selectedCell=$(gridLasttRow).children()[currentIndex];$(selectedCell).focus(),$(selectedCell).addClass(FOCUSRING)}return!1;case keys_HOME:clearFocus(e);var firstColumnCell=$(elem).parent().find("td:first");return 0===firstColumnCell.length&&(firstColumnCell=$(elem).parent().find("th:first")),$(firstColumnCell).focus(),$(firstColumnCell).addClass(FOCUSRING),!1;case keys_END:clearFocus(e);var lastColumnCell=$(elem).parent().find("td:last");return 0===lastColumnCell.length&&(lastColumnCell=$(elem).parent().find("th:last")),$(lastColumnCell).focus(),$(lastColumnCell).addClass(FOCUSRING),!1;case keys_downArrow:if(void 0===e.target.attributes.role||"columnheader"!==e.target.attributes.role.nodeValue){var allElements=$(elem).parent().find("td");if($(allElements).hasClass(FOCUSRING)&&$(allElements).removeClass(FOCUSRING),0<allElements.length){var colIndex=$(elem).index(),nextRow=$(elem).parent().next();if(0<nextRow.length){$("tr.active-row").removeClass(ACTIVEROW),$(nextRow).addClass(ACTIVEROW);var nextColums=$(nextRow).find("td");$(nextColums[colIndex]).is(":input")||elem.is("a")?($(nextColums[colIndex]).parent().focus(),$(nextColums[colIndex]).parent().addClass(FOCUSRING)):($(nextColums[colIndex]).focus(),$(nextColums[colIndex]).addClass(FOCUSRING))}else if(isTotalEnabled){clearFocus(e),$("tr.active-row").removeClass(ACTIVEROW),$(elem).removeClass(FOCUSRING);colIndex=$(elem).index();var totalRowFirstRow=$(elem).closest(".table-container").find(".trDesktop thead tr:first"),totalRowCols=$(totalRowFirstRow).find("th");$(totalRowFirstRow).addClass(ACTIVEROW),$(totalRowCols[colIndex]).focus(),$(totalRowCols[colIndex]).addClass(FOCUSRING),paginationPreviousGridCell=e.currentTarget}else $(elem).addClass(FOCUSRING)}return e.preventDefault(),!1}allElements=$(elem).parent().find("th");if($("th.focus-ring").removeClass(FOCUSRING),0<allElements.length){$("tr.active-row").removeClass(ACTIVEROW);colIndex=$(elem).index();var focusGridCell=$(elem).closest(".table-container").find("tbody").find("tr:first td")[colIndex];$(focusGridCell).parent().addClass(ACTIVEROW);var newtd=$(focusGridCell).parent().find("td");$(newtd[colIndex]).addClass(FOCUSRING),$(focusGridCell).focus()}return!1;case keys_upArrow:if(0<elem.closest("tr").index()){$("tr.active-row").removeClass(ACTIVEROW);allElements=$(elem).parent().find("td");if($(allElements).hasClass(FOCUSRING)&&$(allElements).removeClass(FOCUSRING),0<allElements.length){colIndex=$(elem).index();var prevRow=$(elem).parent().prev(),prevColums=$(prevRow).find("td");$(prevColums[colIndex]).is(":input")||$(elem).is("a")?($(prevColums[colIndex]).parent().focus(),$(prevColums[colIndex]).parent().addClass(FOCUSRING)):($(prevColums[colIndex]).focus(),$(prevColums[colIndex]).addClass(FOCUSRING)),$(prevRow).addClass(ACTIVEROW),$(prevRow[colIndex]).removeClass(FOCUSRING)}return e.preventDefault(),!1}if(0!==$(elem).closest("tr").index())break;var isTotal=0===$(elem).closest(".tbody").length&&0===$(elem).closest(".thead").length;if(isTotalEnabled&&isTotal){if($("td.focus-ring").removeClass(FOCUSRING),-1!==(tdPosition=$(elem).closest("th").index())){$("th.focus-ring").removeClass(FOCUSRING);var bodyArr=$(elem).closest(".table-container").find("tbody");$(bodyArr[0]).find("tr:last").find("td")[tdPosition].focus();newtd=$(bodyArr[0]).find("tr:last").find("td")[tdPosition];$(newtd).addClass(FOCUSRING)}}else{$("tr.active-row").removeClass(ACTIVEROW),$("td.focus-ring").removeClass(FOCUSRING);var tdPosition;$(elem).closest("tr").index();if(-1!==(tdPosition=$(elem).closest("td").index())){var headArr=$(elem).closest(".table-container").find("thead");$(headArr[0]).find("tr").find("th")[tdPosition].focus();newtd=$(headArr[0]).find("tr").find("th")[tdPosition];$(newtd).addClass(FOCUSRING)}}return e.preventDefault(),!1}}})}}}).directive("xeClickGrid",function(){return{restrict:"A",link:function($scope,elem,attrs){elem.bind("click",function(e){clearFocus(e),$("tr.active-row").removeClass("active-row"),editableMode=!1,$(elem).addClass("focus-ring"),$(elem).parent().addClass("active-row")})}}}).directive("xeGridPaginationControl",function(){return{restrict:"A",link:function($scope,elem,attrs){elem.bind("keydown",function(e){clearFocus(e);var code=e.keyCode||e.which,paginationControlDiv=$(elem).closest(".table-container").children().find("div.pagination-controls"),moveFocusToFirstElement=$(paginationControlDiv).find("input, button , select").not(":disabled");if(0===$.inArray(e.target,moveFocusToFirstElement)){if(!e.shiftKey)return!0;switch(code){case keys_tab:if($(paginationPreviousGridCell).is(":visible")&&$(elem).parent(".table-container").find(paginationPreviousGridCell))$(paginationPreviousGridCell).focus(),$(paginationPreviousGridCell).parent().addClass("active-row"),$(paginationPreviousGridCell).addClass("focus-ring");else{var associatedTable=$(elem).parent(".table-container"),gridFirstRow=$(associatedTable).find("tbody tr:first"),gridFirstRowFirstCell=$(associatedTable).find("tbody tr:first td:first");$(gridFirstRow).addClass("active-row"),$(gridFirstRowFirstCell).focus(),$(gridFirstRowFirstCell).addClass("focus-ring")}return e.preventDefault(),!1;case keys_downArrow:case keys_upArrow:return!0}}})}}})}(),clearFocus=function(e){return $("table td.focus-ring").hasClass("focus-ring")&&$("table td.focus-ring").removeClass("focus-ring"),$("table th.focus-ring").hasClass("focus-ring")&&$("table th.focus-ring").removeClass("focus-ring"),!0},function(){"use strict";angular.module("aboutModal",[]).provider("aboutService",function(){this.method="GET",this.backendUrl="",this.setMethod=function(method){method&&(this.method=method)},this.setBackendUrl=function(newUrl){newUrl&&(this.backendUrl=newUrl)},this.$get=["$http","$templateCache",function($http,$templateCache){var self=this;return{aboutInfo:function(){return $http({method:self.method,url:self.backendUrl,cache:$templateCache})}}}]}).directive("xeAboutModal",["aboutService",function(aboutService){return{restrict:"EA",scope:{show:"=",api:"="},replace:!0,transclude:!0,templateUrl:"templates/dialog_default.html",controller:["$scope",function($scope){$scope.hide=function(){$scope.show=!1},aboutService.aboutInfo().then(function(response){$scope.status=response.status,$scope.about=response.data,$scope.hidePlatformVersion=!1,void 0===$scope.about["about.banner.platform.version"]&&($scope.hidePlatformVersion=!0)},function(response){500===response.status?aboutService.aboutInfo().then(function(response){$scope.status=response.status,$scope.about=response.data},function(response){$scope.about=response.data||"Request failed",$scope.status=response.status}):($scope.about=response.data||"Request failed",$scope.status=response.status)})}],link:function(scope,ele){ele.on("keydown",function(event){(27===event.keyCode||"xe-modal-close"===document.activeElement.className&&13===event.keyCode)&&(scope.show=!1,scope.$apply()),event.shiftKey||9!==event.keyCode||"xe-modal-footer ng-binding"===document.activeElement.className&&(event.preventDefault(),angular.element("#xeModalClose").focus()),event.shiftKey&&9===event.keyCode&&("xe-modal-footer ng-binding"===document.activeElement.className&&(event.preventDefault(),angular.element("#xeModalHeader").focus()),"xe-modal-mask ng-isolate-scope"===document.activeElement.className&&(event.preventDefault(),angular.element("#xeModalFooter").focus()),"xe-modal-close"===document.activeElement.className&&(event.preventDefault(),angular.element("#xeModalFooter").focus()))})}}}])}(),function(){"use strict";angular.module("pieChartModule",[]).factory("d3",["$window","$log",function($window,$log){return $window.d3||$log.error("D3 must be present"),$window.d3}]).directive("xePieChart",["d3","$window","$log","$timeout","Language",function(d3,$window,$log,$timeout,Language){var uniqueId=0;function draw(tooltip,table,svg,radius,scope,options,element){var other,subdatatotal,total,subPieStartAngle,subPieEndAngle,pie,subPie,arc,lineArc,lineOuterArc,subArc,lineSubArc,lineSubOuterArc,color,subColor,slice,text,polyline,bgSubSlice,subslice,subtext,subpolyline,ua,msie,trident,data,columns,thead,tbody,dtLabel,dtValue,dtPercentage,subdata=[];function detectIE(){return ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),trident=ua.indexOf("Trident/"),0<msie||0<trident}function mouseover(d){scope.valueforclick=d,tooltip&&"0"!==d3.select(this).style("opacity")&&(tooltip.select(".xe-pie-tooltip-label").html(d.data.label),tooltip.select(".xe-pie-tooltip-value").html(d.data.value),tooltip.select(".xe-pie-tooltip-percent").html(d.data.percentage),tooltip.style("display","block"))}function mouseout(d){tooltip&&tooltip.style("display","none")}function mousemove(d){if(tooltip){var te=angular.element(element).find(".xe-pie-tooltip")[0],width=te.clientWidth,height=te.clientHeight;Language.isRtl()&&detectIE()?tooltip.style("top",d3.event.layerY-height-10+"px").style("left",(d3.event.layerX-width+10)/2+"px"):tooltip.style("top",d3.event.layerY-height-10+"px").style("left",d3.event.layerX-width/2+"px")}}function toggle(d){if(tooltip){var te=angular.element(element).find(".xe-pie-tooltip")[0],width=te.clientWidth,height=te.clientHeight;Language.isRtl()&&detectIE()?tooltip.style("top",d3.event.layerY-height-10+"px").style("left",(d3.event.layerX-width+10)/2+"px"):tooltip.style("top",d3.event.layerY-height-10+"px").style("left",d3.event.layerX-width/2+"px")}}function key(d){return d.data.label}function midAngle(d){return d.startAngle+(d.endAngle-d.startAngle)/2}function wrap(textWrap){textWrap.each(function(){for(var t=d3.select(this),si=0,ei=10,w=t.text(),l=w.substring(si,ei),y=t.attr("y"),dy=parseFloat(textWrap.attr("dy")),tspan=t.text(null).append("tspan").attr("x",0).attr("y",y).attr("dy",dy+"em");l;)0===si?tspan.text(l.trim()):tspan=t.append("tspan").attr("x",0).attr("y",y).attr("dy",dy+"em").text(l.trim()),si+=10,ei+=10,l=w.substring(si,ei)})}function relaxSub(){var again,labelElements;again=!1,subtext&&(subtext.each(function(d1){var that=this,a=this.getBoundingClientRect();subtext.each(function(d2){if(this!==that){var dy,tt,to,b=this.getBoundingClientRect();2*Math.abs(a.left-b.left)<a.width+b.width&&2*Math.abs(a.top-b.top)<a.height+b.height&&(dy=.01*(Math.max(0,a.bottom-b.top)+Math.min(0,a.top-b.bottom)),tt=d3.transform(d3.select(this).attr("transform")),to=d3.transform(d3.select(that).attr("transform")),again=!0,to.translate=[.65*radius*(midAngle(d1)<Math.PI?1:-1),to.translate[1]+dy],tt.translate=[.65*radius*(midAngle(d2)<Math.PI?1:-1),tt.translate[1]-dy],d3.select(this).attr("transform","translate("+tt.translate+")"),d3.select(that).attr("transform","translate("+to.translate+")"))}})}),again&&(labelElements=subtext[0],subpolyline&&subpolyline.attr("points",function(d,i){var labelForLine=d3.select(labelElements[i]),t=d3.transform(labelForLine.attr("transform")),tx=t.translate[0],ty=t.translate[1];return[lineSubArc.centroid(d),lineSubOuterArc.centroid(d),tx,ty]}),$timeout(relaxSub)))}function toggle(d,i){d3.event.preventDefault(),d3.event.stopPropagation(),6===i&&7<subdata.length?(slice.style("opacity",function(d,i){return 6===i?1:.1}),text.style("display","none").attr("aria-hidden",!0),polyline.style("display","none").attr("aria-hidden",!0),(bgSubSlice||subslice||subtext||subpolyline)&&(bgSubSlice.style("display","block").attr("aria-hidden",!1),subslice.style("display","block").attr("aria-hidden",!1),subtext.style("display","block").attr("aria-hidden",!1),subpolyline.style("display","block").attr("aria-hidden",!1),subtext.selectAll(".xe-pie-light-text").call(wrap),relaxSub())):((bgSubSlice||subslice||subtext||subpolyline)&&(bgSubSlice.style("display","none").attr("aria-hidden",!0),subslice.style("display","none").attr("aria-hidden",!0),subtext.style("display","none").attr("aria-hidden",!0),subpolyline.style("display","none").attr("aria-hidden",!0)),slice.style("opacity",1),text.style("display","block").attr("aria-hidden",!1),polyline.style("display","block").attr("aria-hidden",!1))}function touchTarget(){d3.select(this).classed("xe-pie-touch",!d3.select(this).classed("xe-pie-touch"))}function relax(){var again,labelElements;again=!1,text&&(text.selectAll("text").each(function(d1){var that=this,a=this.getBoundingClientRect();text.selectAll("text").each(function(d2,i){if(this!==that){var dy,tt,to,b=this.getBoundingClientRect();2*Math.abs(a.left-b.left)<a.width+b.width&&2*Math.abs(a.top-b.top)<a.height+b.height&&(dy=.01*(Math.max(0,a.bottom-b.top)+Math.min(0,a.top-b.bottom)),tt=d3.transform(d3.select(this).attr("transform")),to=d3.transform(d3.select(that).attr("transform")),again=!0,to.translate=[.55*radius*(midAngle(d1)<Math.PI?1:-1),to.translate[1]+dy],tt.translate=[.55*radius*(midAngle(d2)<Math.PI?1:-1),tt.translate[1]-dy],d3.select(this).attr("transform","translate("+tt.translate+")"),d3.select(that).attr("transform","translate("+to.translate+")"))}})}),again&&(labelElements=text[0],polyline&&polyline.attr("points",function(d,i){var labelForLine=d3.select(labelElements[i]).select("text"),t=d3.transform(labelForLine.attr("transform")),tx=t.translate[0],ty=t.translate[1];return[lineArc.centroid(d),lineOuterArc.centroid(d),tx,ty]}),$timeout(relax)))}function change(data){(slice=svg.select(".xe-pie-slices").selectAll("path.xe-pie-slice").data(pie(data),key)).enter().insert("path").style("fill",function(d,i){return 6===i&&(subPieStartAngle=d.startAngle,subPieEndAngle=d.endAngle),color(i)}).attr("class","xe-pie-slice").on("click",toggle).on("touchstart",toggle).on("mouseover",mouseover).on("touchstart",mouseover).on("touchstart",touchTarget).on("mouseout",mouseout).on("touchend",mouseout).on("touchend",touchTarget).on("mousemove",mousemove).on("touchmove",mousemove),slice.transition().duration(1e3).attrTween("d",function(d){this.d3current=this.d3current||d;var interpolate=d3.interpolate(this.d3current,d);return this.d3current=interpolate(0),function(t){return arc(interpolate(t))}}),slice.exit().remove(),(text=svg.select(".xe-pie-labels").selectAll("text").data(pie(data),key)).enter().append("a").attr({"xlink:href":function(d,i){if(d.data.label===options.pie.otherLabel)return"#other-group-"+uniqueId},tabindex:function(d,i){if(d.data.label===options.pie.otherLabel)return 0},"aria-controls":function(d,i){if(d.data.label===options.pie.otherLabel)return"other-group-"+uniqueId},"aria-label":function(d,i){if(d.data.label===options.pie.otherLabel)return options.pie.group.otherAriaLabel}}).on("click",toggle).on("touchstart",toggle).append("text").attr({class:function(d,i){return d.data.label===options.pie.otherLabel?"xe-pie-large-text xe-pie-other-text":"xe-pie-large-text"}}).on("click",toggle).on("touchstart",toggle).on("mouseover",mouseover).on("touchstart",mouseover).on("mouseout",mouseout).on("touchend",mouseout).on("mousemove",mousemove).on("touchmove",mousemove),text.selectAll("text").append("tspan").attr("x","0").attr("dy",function(d){return(d.startAngle+d.endAngle)/2>Math.PI/2&&(d.startAngle+d.endAngle)/2<1.5*Math.PI?"1em":"-1em"}).attr("class","xe-pie-bold-text").text(function(d){return d.data.percentage}),text.on("click",function(d){}),text.selectAll("text").append("tspan").attr("x","0").attr("dy","1em").attr("class","xe-pie-light-text").text(function(d){return d.data.label}),text.selectAll("text").transition().duration(1e3).attrTween("transform",function(d){this.d3current=this.d3current||d;var interpolate=d3.interpolate(this.d3current,d);return this.d3current=interpolate(0),function(t){var d2=interpolate(t);return"translate("+lineOuterArc.centroid(d2)+")"}}).attrTween("text-anchor",function(d){this.d3current=this.d3current||d;var interpolate=d3.interpolate(this.d3current,d);return this.d3current=interpolate(0),function(t){var d2=interpolate(t);return Language.isRtl()?detectIE()||0<ua.indexOf("Edge/")?midAngle(d2)<Math.PI?"start":"end":midAngle(d2)<Math.PI?"end":"start":midAngle(d2)<Math.PI?"start":"end"}}),text.exit().remove(),text.selectAll(".xe-pie-light-text").call(wrap),(polyline=svg.select(".xe-pie-lines").selectAll("polyline").data(pie(data),key)).enter().append("polyline").style("stroke",function(d,i){return color(i)}),polyline.transition().duration(1e3).attrTween("points",function(d){this.d3current=this.d3current||d;var interpolate=d3.interpolate(this.d3current,d);return this.d3current=interpolate(0),function(t){var d2=interpolate(t),pos=lineOuterArc.centroid(d2);return[lineArc.centroid(d2),lineOuterArc.centroid(d2),pos]}}),polyline.exit().remove(),relax()}table&&(table.select("thead").remove(),table.select("tbody").remove(),table.append("thead").attr("class","xe-pie-table-head"),table.append("tbody").attr("class","xe-pie-table-body")),svg.selectAll("g").remove(),svg.append("text").attr("text-anchor","middle").attr("font-size","4em").attr("y",20).text(110),svg.append("g").attr({role:"presentation",class:"xe-pie-slices"}),svg.append("g").attr({role:"listitem",class:"xe-pie-labels",id:"main-group-"+uniqueId,"aria-live":"polite","aria-relevant":"additions removals"}),svg.append("g").attr({role:"presentation",class:"xe-pie-lines"}),7<scope.data.length&&(svg.append("g").attr({role:"presentation",class:"xe-pie-bg-sub-slice"}),svg.append("g").attr({role:"presentation",class:"xe-pie-sub-slices"}),svg.append("g").attr({role:"listitem",class:"xe-pie-sub-labels",id:"other-group-"+uniqueId,"aria-live":"polite","aria-relevant":"additions removals"}),svg.append("g").attr({role:"presentation",class:"xe-pie-sub-lines"})),total=0,Number.isFinite=Number.isFinite||function(value){return"number"==typeof value&&isFinite(value)},subdata=angular.copy(scope.data),angular.forEach(subdata,function(d,key){d.value=Number.isFinite(d.value)?Math.abs(d.value):0}),subdata.sort(function(a,b){return d3.descending(a.value,b.value)}),subdatatotal=d3.sum(subdata,function(d){return d.value}),table&&(data=subdata,columns=[options.table.label,options.table.value,options.table.percentage],dtLabel=columns[0],dtValue=columns[1],dtPercentage=columns[2],thead=table.select("thead.xe-pie-table-head"),tbody=table.select("tbody.xe-pie-table-body"),thead.append("tr").selectAll("th").data(columns).enter().append("th").text(function(column){return column}),tbody.selectAll("tr").data(data).enter().append("tr").selectAll("td").data(function(row){return columns.map(function(column){return row[dtLabel]=row.label,row[dtValue]=row.value,Language.isRtl()||(subdatatotal||row[dtValue]?row[dtPercentage]=(Math.round(1e3*row[dtValue]/subdatatotal)/10).toFixed(2)+"%":row[dtPercentage]="0.00%"),Language.isRtl()&&(subdatatotal||row[dtValue]?row[dtPercentage]="%"+(Math.round(1e3*row[dtValue]/subdatatotal)/10).toFixed(2):row[dtPercentage]="%0.00"),{column:column,value:row[column]}})}).enter().append("td").html(function(d){return d.value})),angular.forEach(subdata,function(value,key){key<6||subdata.length<8?value.origin="main":(value.origin="sub",total+=+value.value)}),7<subdata.length&&subdata.splice(7,0,{label:options.pie.otherLabel,value:total,origin:"main"}),subdata.forEach(function(d){Language.isRtl()||(subdatatotal||d.value?d.percentage=(Math.round(1e3*d.value/subdatatotal)/10).toFixed(2)+"%":d.percentage="0.00%"),Language.isRtl()&&(subdatatotal||d.value?d.percentage="%"+(Math.round(1e3*d.value/subdatatotal)/10).toFixed(2):d.percentage="%0.00")}),other=d3.nest().key(function(d){return d.origin}).entries(subdata),pie=d3.layout.pie().sort(function(a,b){return Language.isRtl()&&Language.isRtl()?d3.ascending(a.value,b.value):d3.descending(a.value,b.value)}).value(function(d){return d.value}),subPie=d3.layout.pie().value(function(d){return d.value}).startAngle(function(d){return subPieStartAngle}).endAngle(function(d){return subPieEndAngle}),arc=d3.svg.arc().innerRadius(.25*radius).outerRadius(.5*radius),lineArc=d3.svg.arc().innerRadius(.5*radius).outerRadius(.5*radius),lineOuterArc=d3.svg.arc().innerRadius(.5*radius).outerRadius(.6*radius),subArc=d3.svg.arc().innerRadius(.5*radius).outerRadius(.6*radius),lineSubArc=d3.svg.arc().innerRadius(.6*radius).outerRadius(.6*radius),lineSubOuterArc=d3.svg.arc().innerRadius(.6*radius).outerRadius(.7*radius),color=d3.scale.ordinal().range(["#783084","#810c33","#8073ce","#c28041","#008241","#f39fba","#6bafa6"]),subColor=d3.scale.ordinal().range(["#eef6f5","#ddedeb","#bcdbd7","#9ac9c3","#67aea5","#56a59b","#4d948b","#45847d","#3c746d","#33635d","#2b524d","#23423e","#1a312e","#11201f","#07100f"]),7<subdata.length?(change(other[0].values),function(other){bgSubSlice=svg.select(".xe-pie-bg-sub-slice").append("a").attr({"xlink:href":function(d,i){return"#main-group-"+uniqueId},tabindex:function(d,i){return 0},"aria-controls":function(d,i){return"main-group-"+uniqueId},"aria-label":options.pie.group.mainAriaLabel}).on("click",toggle).on("touchstart",toggle).append("path").attr("aria-hidden",!0).style("display","none").datum({startAngle:0,endAngle:2*Math.PI}).style("fill","#e3e3e3").attr("d",subArc).on("click",toggle).on("touchstart",toggle),(subslice=svg.select(".xe-pie-sub-slices").selectAll("path.xe-pie-sub-slice").data(subPie(other),key)).enter().insert("path").attr("aria-hidden",!0).style("display","none").style("fill",function(d,i){return subColor(i)}).attr("class","xe-pie-sub-slice").on("mouseover",mouseover).on("touchstart",mouseover).on("mouseout",mouseout).on("touchend",mouseout).on("mousemove",mousemove).on("touchmove",mousemove),subslice.transition().duration(1e3).attrTween("d",function(d){this.d3current=this.d3current||d;var interpolate=d3.interpolate(this.d3current,d);return this.d3current=interpolate(0),function(t){return subArc(interpolate(t))}}),subslice.exit().remove(),(subtext=svg.select(".xe-pie-sub-labels").selectAll("text").data(subPie(other),key)).enter().append("text").attr("class",function(d,i){return 7<other.length?"xe-pie-small-text":"xe-pie-large-text"}).attr("aria-hidden",!0).style("display","none").on("mouseover",mouseover).on("touchstart",mouseover).on("mouseout",mouseout).on("touchend",mouseout).on("mousemove",mousemove).on("touchmove",mousemove),subtext.append("tspan").attr("x","0").attr("dy",".35em").attr("class","xe-pie-bold-text").text(function(d){return d.data.percentage}),subtext.append("tspan").attr("x","0").attr("dy","1em").attr("class","xe-pie-light-text").text(function(d){return d.data.label}),subtext.transition().duration(1e3).attrTween("transform",function(d){this.d3current=this.d3current||d;var interpolate=d3.interpolate(this.d3current,d);return this.d3current=interpolate(0),function(t){var d2=interpolate(t),pos=lineSubOuterArc.centroid(d2);return pos[0]=.65*radius*(midAngle(d2)<Math.PI?1:-1),"translate("+pos+")"}}).attrTween("text-anchor",function(d){this.d3current=this.d3current||d;var interpolate=d3.interpolate(this.d3current,d);return this.d3current=interpolate(0),function(t){var d2=interpolate(t);return Language.isRtl()?midAngle(d2)<Math.PI?"end":"start":midAngle(d2)<Math.PI?"start":"end"}}),subtext.exit().remove(),(subpolyline=svg.select(".xe-pie-sub-lines").selectAll("polyline").data(subPie(other),key)).enter().append("polyline").attr("aria-hidden",!0).style("display","none").style("stroke",function(d,i){return subColor(i)}),subpolyline.transition().duration(1e3).attrTween("points",function(d){this.d3current=this.d3current||d;var interpolate=d3.interpolate(this.d3current,d);return this.d3current=interpolate(0),function(t){var d2=interpolate(t),pos=lineSubOuterArc.centroid(d2);return pos[0]=.6*radius*(midAngle(d2)<Math.PI?1:-1),[lineSubArc.centroid(d2),lineSubOuterArc.centroid(d2),pos]}}),subpolyline.exit().remove()}(other[1].values)):change(other[0].values),$(".xe-pie-slice").click(function(d){scope.ngclickfunction({names:scope.valueforclick})})}return{restrict:"E",scope:{data:"=xePieData",config:"=xePieConfig",ngclickfunction:"&"},link:function(scope,element,attrs){uniqueId+=1,element.addClass("xe-pie-chart");var width,height,radius,table,s,svg,tooltip,w=element[0].clientWidth,options=angular.merge({},{tooltip:!1,hiddenTable:!1,svg:{title:"",desc:""},pie:{otherLabel:"Other"},table:{ariaLabel:"",label:"label",value:"value",percentage:"percentage"}},scope.config);options.hiddenTable&&(table=d3.select(element[0]).append("table").attr({"aria-label":options.table.ariaLabel,class:"xe-pie-table-hidden"})),height=(width=w-10)+width/2,radius=Math.min(width,height)/2,(s=d3.select(element[0]).append("svg").attr({xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:1.1,width:width+"px",height:height+"px",viewBox:"0 0 "+Math.min(width,height)+" "+Math.min(width,height),preserveAspectRatio:"xMinYMid meet",role:"group","aria-labelledby":"title"+uniqueId+" desc"+uniqueId})).append("title").attr("id","title"+uniqueId).text(options.svg.title),s.append("desc").attr("id","desc"+uniqueId).text(options.svg.desc),svg=s.append("g").attr({role:"list","aria-label":options.pie.ariaLabel,class:"xe-pie-svg",transform:"translate("+radius+", "+radius+")"}),options.tooltip&&((tooltip=d3.select(element[0]).append("div").attr("class","xe-pie-tooltip")).append("p").attr("class","xe-pie-tooltip-label"),tooltip.append("p").attr("class","xe-pie-tooltip-value"),tooltip.append("p").attr("class","xe-pie-tooltip-percent xe-pie-bold-text")),window.onresize=function(){return scope.$apply()},scope.$watch(function(){return angular.element(window)[0].innerWidth},function(){w=element[0].clientWidth,height=(width=w-10)+width/2,radius=Math.min(width,height)/2,s.attr({width:width+"px",height:height+"px",viewBox:"0 0 "+Math.min(width,height)+" "+Math.min(width,height)}),svg.attr({transform:"translate("+radius+", "+radius+")"}),draw(tooltip,table,svg,radius,scope,options,element)}),scope.$watch("data",function(newVal,oldVal,scope){newVal&&draw(tooltip,table,svg,radius,scope,options,element)},!0)}}}])}(),angular.module("pieChartModule",[]).factory("d3",["$window","$log",function($window,$log){return $window.d3||$log.error("D3 must be present"),$window.d3}]).directive("xePieChart",["d3","$window","$log","$timeout","Language","$filter","getlocale",function(d3,$window,$log,$timeout,Language,$filter,getlocale){var uniqueId=0;function localizedNumber(input){return Language.isRtl()?input:(+input).toLocaleString(getlocale.getUserLocale().replace("_","-"))}function draw(tooltip,table,svg,radius,scope,options,element){var other,subdatatotal,total,chartTotal,subPieStartAngle,subPieEndAngle,pie,subPie,arc,lineArc,lineOuterArc,subArc,lineSubArc,lineSubOuterArc,color,subColor,slice,text,polyline,bgSubSlice,subslice,subtext,subpolyline,ua,msie,trident,data,columns,thead,tbody,dtLabel,dtValue,dtPercentage,subdata=[];if(table&&(table.select("thead").remove(),table.select("tbody").remove(),table.append("thead").attr("class","xe-pie-table-head"),table.append("tbody").attr("class","xe-pie-table-body")),svg.selectAll("g").remove(),svg.selectAll("text").remove(),0<options.innerRadiusFactor){chartTotal=d3.sum(scope.data,function(d){return d.value});var innerText=svg.append("text").attr("text-anchor","middle");innerText.append("tspan").attr("class","xe-pie-total-value").attr("y",0).attr("x",0).attr("tabindex","0").text(localizedNumber(chartTotal)),innerText.append("tspan").attr("class","xe-pie-total-label").attr("y",20).attr("x",0).attr("tabindex","0").text(options.pie.totalLabel)}function detectIE(){return ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),trident=ua.indexOf("Trident/"),0<msie||0<trident}function mouseover(d){tooltip&&"0"!==d3.select(this).style("opacity")&&(tooltip.select(".xe-pie-tooltip-label").html(d.data.label),tooltip.select(".xe-pie-tooltip-value").html(localizedNumber(d.data.value)),Language.isRtl()?tooltip.select(".xe-pie-tooltip-percent").html($filter("xei18n")("default.percent")+localizedNumber(d.data.percentage)):tooltip.select(".xe-pie-tooltip-percent").html(localizedNumber(d.data.percentage)+$filter("xei18n")("default.percent")),tooltip.style("display","block"))}function mouseout(d){tooltip&&tooltip.style("display","none")}function mousemove(d){if(tooltip){var te=angular.element(element).find(".xe-pie-tooltip")[0],width=te.clientWidth,height=te.clientHeight;Language.isRtl()&&detectIE()?tooltip.style("top",d3.event.layerY-height-10+"px").style("left",(d3.event.layerX-width+10)/2+"px"):tooltip.style("top",d3.event.layerY-height-10+"px").style("left",d3.event.layerX-width/2+"px")}}function key(d){return d.data.label}function midAngle(d){return d.startAngle+(d.endAngle-d.startAngle)/2}function wrap(text){text.each(function(){for(var word,text=d3.select(this),words=text.text().split(/\s+/).reverse(),line=[],dy=(text.attr("y"),parseFloat(text.attr("dy"))),tspan=text.text("").append("tspan").attr("x",0).attr("dy",dy+"em");word=words.pop();)line.push(word),tspan.text(line.join(" ")),45<(0<tspan.node().getComputedTextLength()?tspan.node().getComputedTextLength():5*tspan.text().length)&&(tspan=1<line.length?(line.pop(),tspan.text(line.join(" ")),line=[word],text.append("tspan").attr("x",0).attr("dy",dy+"em").text(word)):(line=[],text.append("tspan").attr("x",0).attr("dy",dy+"em").text("")))})}function relaxSub(){var again,labelElements;again=!1,subtext&&(subtext.each(function(d1){var that=this,a=this.getBoundingClientRect();subtext.each(function(d2){if(this!==that){var dy,tt,to,b=this.getBoundingClientRect();2*Math.abs(a.left-b.left)<a.width+b.width&&2*Math.abs(a.top-b.top)<a.height+b.height&&(dy=.01*(Math.max(0,a.bottom-b.top)+Math.min(0,a.top-b.bottom)),tt=d3.transform(d3.select(this).attr("transform")),to=d3.transform(d3.select(that).attr("transform")),again=!0,to.translate=[.65*radius*(midAngle(d1)<Math.PI?1:-1),to.translate[1]+dy],tt.translate=[.65*radius*(midAngle(d2)<Math.PI?1:-1),tt.translate[1]-dy],d3.select(this).attr("transform","translate("+tt.translate+")"),d3.select(that).attr("transform","translate("+to.translate+")"))}})}),again&&(labelElements=subtext[0],subpolyline&&subpolyline.attr("points",function(d,i){var labelForLine=d3.select(labelElements[i]),t=d3.transform(labelForLine.attr("transform")),tx=t.translate[0],ty=t.translate[1];return[lineSubArc.centroid(d),lineSubOuterArc.centroid(d),tx,ty]}),$timeout(relaxSub)))}function toggle(d,i){d3.event.preventDefault(),d3.event.stopPropagation(),6===i&&7<subdata.length?(slice.style("opacity",function(d,i){return 6===i?1:.1}),text.style("display","none").attr("aria-hidden",!0),polyline.style("display","none").attr("aria-hidden",!0),(bgSubSlice||subslice||subtext||subpolyline)&&(bgSubSlice.style("display","block").attr("aria-hidden",!1),subslice.style("display","block").attr("aria-hidden",!1),subtext.style("display","block").attr("aria-hidden",!1),subpolyline.style("display","block").attr("aria-hidden",!1),subtext.selectAll(".xe-pie-light-text").call(wrap),relaxSub())):((bgSubSlice||subslice||subtext||subpolyline)&&(bgSubSlice.style("display","none").attr("aria-hidden",!0),subslice.style("display","none").attr("aria-hidden",!0),subtext.style("display","none").attr("aria-hidden",!0),subpolyline.style("display","none").attr("aria-hidden",!0)),slice.style("opacity",1),text.style("display","block").attr("aria-hidden",!1),polyline.style("display","block").attr("aria-hidden",!1))}function passSliceInfo(d,i){scope.ngclickfunction({pieSliceData:d.data})}function touchTarget(){d3.select(this).classed("xe-pie-touch",!d3.select(this).classed("xe-pie-touch"))}function relax(){var again,labelElements;again=!1,text&&(text.selectAll("text").each(function(d1){var that=this,a=this.getBoundingClientRect();text.selectAll("text").each(function(d2,i){if(this!==that){var dy,tt,to,b=this.getBoundingClientRect();2*Math.abs(a.left-b.left)<a.width+b.width&&2*Math.abs(a.top-b.top)<a.height+b.height&&(dy=.01*(Math.max(0,a.bottom-b.top)+Math.min(0,a.top-b.bottom)),tt=d3.transform(d3.select(this).attr("transform")),to=d3.transform(d3.select(that).attr("transform")),again=!0,to.translate=[.55*radius*(midAngle(d1)<Math.PI?1:-1),to.translate[1]+dy],tt.translate=[.55*radius*(midAngle(d2)<Math.PI?1:-1),tt.translate[1]-dy],d3.select(this).attr("transform","translate("+tt.translate+")"),d3.select(that).attr("transform","translate("+to.translate+")"))}})}),again&&(labelElements=text[0],polyline&&polyline.attr("points",function(d,i){var labelForLine=d3.select(labelElements[i]).select("text"),t=d3.transform(labelForLine.attr("transform")),tx=t.translate[0],ty=t.translate[1];return[lineArc.centroid(d),lineOuterArc.centroid(d),tx,ty]}),$timeout(relax)))}function change(data){(slice=svg.select(".xe-pie-slices").selectAll("path.xe-pie-slice").data(pie(data),key)).enter().insert("path").style("fill",function(d,i){return 6===i&&(subPieStartAngle=d.startAngle,subPieEndAngle=d.endAngle),color(i)}).attr("class","xe-pie-slice").attr("tabindex","0").attr("aria-label",function(d){var ariaLabel;return ariaLabel=Language.isRtl()?$filter("xei18n")("default.percent")+localizedNumber(d.data.percentage):localizedNumber(d.data.percentage)+$filter("xei18n")("default.percent"),ariaLabel+=" "+d.data.label+" "+d.data.value}).on("click",toggle).on("click",passSliceInfo).on("keydown",function(d,i){13==d3.event.keyCode&&passSliceInfo(d)}).on("touchstart",toggle).on("mouseover",mouseover).on("touchstart",mouseover).on("touchstart",touchTarget).on("mouseout",mouseout).on("touchend",mouseout).on("touchend",touchTarget).on("mousemove",mousemove).on("touchmove",mousemove).on("focusin",function(){d3.event.target.classList.add("xe-slice-on")}).on("focusout",function(){d3.event.target.classList.remove("xe-slice-on")}),slice.transition().duration(1e3).attrTween("d",function(d){this.d3current=this.d3current||d;var interpolate=d3.interpolate(this.d3current,d);return this.d3current=interpolate(0),function(t){return arc(interpolate(t))}}),slice.exit().remove(),(text=svg.select(".xe-pie-labels").selectAll("text").data(pie(data),key)).enter().append("a").attr({"xlink:href":function(d,i){if(d.data.label===options.pie.otherLabel)return"#other-group-"+uniqueId},tabindex:function(d,i){if(d.data.label===options.pie.otherLabel)return 0},"aria-controls":function(d,i){if(d.data.label===options.pie.otherLabel)return"other-group-"+uniqueId},"aria-label":function(d,i){if(d.data.label===options.pie.otherLabel)return options.pie.group.otherAriaLabel}}).on("click",toggle).on("touchstart",toggle).append("text").attr({class:function(d,i){return d.data.label===options.pie.otherLabel?"xe-pie-large-text xe-pie-other-text":"xe-pie-large-text"}}).on("click",toggle).on("touchstart",toggle).on("mouseover",mouseover).on("touchstart",mouseover).on("mouseout",mouseout).on("touchend",mouseout).on("mousemove",mousemove).on("touchmove",mousemove),text.selectAll("text").append("tspan").attr("x","0").attr("dy",function(d){return(d.startAngle+d.endAngle)/2>Math.PI/2&&(d.startAngle+d.endAngle)/2<1.5*Math.PI?"1em":"-1em"}).attr("class","xe-pie-bold-text").text(function(d){return Language.isRtl()?$filter("xei18n")("default.percent")+localizedNumber(d.data.percentage):localizedNumber(d.data.percentage)+$filter("xei18n")("default.percent")}),text.selectAll("text").append("tspan").attr("x","0").attr("dy","1em").attr("class","xe-pie-light-text").text(function(d){return d.data.label}),text.selectAll("text").transition().duration(1e3).attrTween("transform",function(d){this.d3current=this.d3current||d;var interpolate=d3.interpolate(this.d3current,d);return this.d3current=interpolate(0),function(t){var d2=interpolate(t);return"translate("+lineOuterArc.centroid(d2)+")"}}).attrTween("text-anchor",function(d){this.d3current=this.d3current||d;var interpolate=d3.interpolate(this.d3current,d);return this.d3current=interpolate(0),function(t){var d2=interpolate(t);return Language.isRtl()?detectIE()||0<ua.indexOf("Edge/")?midAngle(d2)<Math.PI?"start":"end":midAngle(d2)<Math.PI?"end":"start":midAngle(d2)<Math.PI?"start":"end"}}),text.exit().remove(),text.selectAll(".xe-pie-light-text").call(wrap),(polyline=svg.select(".xe-pie-lines").selectAll("polyline").data(pie(data),key)).enter().append("polyline").style("stroke",function(d,i){return color(i)}),polyline.transition().duration(1e3).attrTween("points",function(d){this.d3current=this.d3current||d;var interpolate=d3.interpolate(this.d3current,d);return this.d3current=interpolate(0),function(t){var d2=interpolate(t),pos=lineOuterArc.centroid(d2);return[lineArc.centroid(d2),lineOuterArc.centroid(d2),pos]}}),polyline.exit().remove(),relax()}svg.append("g").attr({role:"presentation",class:"xe-pie-slices"}),svg.append("g").attr({role:"listitem",class:"xe-pie-labels",id:"main-group-"+uniqueId,"aria-live":"polite","aria-relevant":"additions removals"}),svg.append("g").attr({role:"presentation",class:"xe-pie-lines"}),7<scope.data.length&&(svg.append("g").attr({role:"presentation",class:"xe-pie-bg-sub-slice"}),svg.append("g").attr({role:"presentation",class:"xe-pie-sub-slices"}),svg.append("g").attr({role:"listitem",class:"xe-pie-sub-labels",id:"other-group-"+uniqueId,"aria-live":"polite","aria-relevant":"additions removals"}),svg.append("g").attr({role:"presentation",class:"xe-pie-sub-lines"})),total=0,Number.isFinite=Number.isFinite||function(value){return"number"==typeof value&&isFinite(value)},subdata=angular.copy(scope.data),angular.forEach(subdata,function(d,key){d.value=Number.isFinite(d.value)?Math.abs(d.value):0}),subdata.sort(function(a,b){return d3.descending(a.value,b.value)}),subdatatotal=d3.sum(subdata,function(d){return d.value}),table&&(data=subdata,columns=[options.table.label,options.table.value,options.table.percentage],dtLabel=columns[0],dtValue=columns[1],dtPercentage=columns[2],thead=table.select("thead.xe-pie-table-head"),tbody=table.select("tbody.xe-pie-table-body"),thead.append("tr").selectAll("th").data(columns).enter().append("th").text(function(column){return column}),tbody.selectAll("tr").data(data).enter().append("tr").selectAll("td").data(function(row){return columns.map(function(column){return row[dtLabel]=row.label,row[dtValue]=row.value,subdatatotal||row[dtValue]?row[dtPercentage]=(Math.round(1e3*row[dtValue]/subdatatotal)/10).toFixed(2):row[dtPercentage]="0.00",{column:column,value:row[column]}})}).enter().append("td").html(function(d){return d.value})),angular.forEach(subdata,function(value,key){key<6||subdata.length<8?value.origin="main":(value.origin="sub",total+=+value.value)}),7<subdata.length&&subdata.splice(7,0,{label:options.pie.otherLabel,value:total,origin:"main"}),subdata.forEach(function(d){subdatatotal||d.value?d.percentage=(Math.round(1e3*d.value/subdatatotal)/10).toFixed(2):d.percentage="0.00"}),other=d3.nest().key(function(d){return d.origin}).entries(subdata),pie=d3.layout.pie().sort(function(a,b){return Language.isRtl()&&Language.isRtl()?d3.ascending(a.value,b.value):d3.descending(a.value,b.value)}).value(function(d){return d.value}),subPie=d3.layout.pie().value(function(d){return d.value}).startAngle(function(d){return subPieStartAngle}).endAngle(function(d){return subPieEndAngle}),arc=d3.svg.arc().innerRadius(.5*radius*options.innerRadiusFactor).outerRadius(.5*radius),lineArc=d3.svg.arc().innerRadius(.5*radius).outerRadius(.5*radius),lineOuterArc=d3.svg.arc().innerRadius(.5*radius).outerRadius(.6*radius),subArc=d3.svg.arc().innerRadius(.5*radius).outerRadius(.6*radius),lineSubArc=d3.svg.arc().innerRadius(.6*radius).outerRadius(.6*radius),lineSubOuterArc=d3.svg.arc().innerRadius(.6*radius).outerRadius(.7*radius),color=d3.scale.ordinal().range(["#BA46A6","#5353d1","#51ABFF","#1ABF96","#95D162","#F5DB75","#FFB581"]),subColor=d3.scale.ordinal().range(["#FFF4EB","#FFDFC8","#FFCAA4","#FFB581","#FFA15D","#FF8C3A","#FF7513","#FE6A00","#EB6200","#C35100"]),7<subdata.length?(change(other[0].values),function(other){bgSubSlice=svg.select(".xe-pie-bg-sub-slice").append("a").attr({"xlink:href":function(d,i){return"#main-group-"+uniqueId},tabindex:function(d,i){return 0},"aria-controls":function(d,i){return"main-group-"+uniqueId},"aria-label":options.pie.group.mainAriaLabel}).on("click",toggle).on("touchstart",toggle).append("path").attr("aria-hidden",!0).style("display","none").datum({startAngle:0,endAngle:2*Math.PI}).style("fill","#DBDBDD").attr("d",subArc).on("click",toggle).on("touchstart",toggle),(subslice=svg.select(".xe-pie-sub-slices").selectAll("path.xe-pie-sub-slice").data(subPie(other),key)).enter().insert("path").attr("aria-hidden",!0).style("display","none").style("fill",function(d,i){return subColor(i)}).attr("class","xe-pie-sub-slice").on("mouseover",mouseover).on("touchstart",mouseover).on("mouseout",mouseout).on("touchend",mouseout).on("mousemove",mousemove).on("touchmove",mousemove),subslice.transition().duration(1e3).attrTween("d",function(d){this.d3current=this.d3current||d;var interpolate=d3.interpolate(this.d3current,d);return this.d3current=interpolate(0),function(t){return subArc(interpolate(t))}}),subslice.exit().remove(),(subtext=svg.select(".xe-pie-sub-labels").selectAll("text").data(subPie(other),key)).enter().append("text").attr("class",function(d,i){return 7<other.length?"xe-pie-small-text":"xe-pie-large-text"}).attr("aria-hidden",!0).style("display","none").on("mouseover",mouseover).on("touchstart",mouseover).on("mouseout",mouseout).on("touchend",mouseout).on("mousemove",mousemove).on("touchmove",mousemove),subtext.append("tspan").attr("x","0").attr("dy",".35em").attr("class","xe-pie-bold-text").text(function(d){return Language.isRtl()?$filter("xei18n")("default.percent")+localizedNumber(d.data.percentage):localizedNumber(d.data.percentage)+$filter("xei18n")("default.percent")}),subtext.append("tspan").attr("x","0").attr("dy","1em").attr("class","xe-pie-light-text").text(function(d){return d.data.label}),subtext.transition().duration(1e3).attrTween("transform",function(d){this.d3current=this.d3current||d;var interpolate=d3.interpolate(this.d3current,d);return this.d3current=interpolate(0),function(t){var d2=interpolate(t),pos=lineSubOuterArc.centroid(d2);return pos[0]=.65*radius*(midAngle(d2)<Math.PI?1:-1),"translate("+pos+")"}}).attrTween("text-anchor",function(d){this.d3current=this.d3current||d;var interpolate=d3.interpolate(this.d3current,d);return this.d3current=interpolate(0),function(t){var d2=interpolate(t);return Language.isRtl()?midAngle(d2)<Math.PI?"end":"start":midAngle(d2)<Math.PI?"start":"end"}}),subtext.exit().remove(),(subpolyline=svg.select(".xe-pie-sub-lines").selectAll("polyline").data(subPie(other),key)).enter().append("polyline").attr("aria-hidden",!0).style("display","none").style("stroke",function(d,i){return subColor(i)}),subpolyline.transition().duration(1e3).attrTween("points",function(d){this.d3current=this.d3current||d;var interpolate=d3.interpolate(this.d3current,d);return this.d3current=interpolate(0),function(t){var d2=interpolate(t),pos=lineSubOuterArc.centroid(d2);return pos[0]=.6*radius*(midAngle(d2)<Math.PI?1:-1),[lineSubArc.centroid(d2),lineSubOuterArc.centroid(d2),pos]}}),subpolyline.exit().remove()}(other[1].values)):change(other[0].values)}return{restrict:"E",scope:{data:"=xePieData",config:"=xePieConfig",ngclickfunction:"&"},link:function(scope,element,attrs){uniqueId+=1,element.addClass("xe-pie-chart");var width,height,radius,table,s,svg,tooltip,w=element[0].clientWidth,options=angular.merge({},{tooltip:!1,hiddenTable:!1,innerRadiusFactor:0,svg:{title:"",desc:""},pie:{otherLabel:"Other",totalLabel:"Units"},table:{ariaLabel:"",label:"label",value:"value",percentage:"percentage"}},scope.config);options.hiddenTable&&(table=d3.select(element[0]).append("table").attr({"aria-label":options.table.ariaLabel,class:"xe-pie-table-hidden"})),height=width=w-10,radius=Math.min(width,height)/2,(s=d3.select(element[0]).classed("svg-container",!0).append("svg").attr({xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:1.1,width:width,height:height,viewBox:"0 0 "+Math.min(width,height)+" "+Math.min(width,height),preserveAspectRatio:"xMinYMid meet",role:"group","aria-labelledby":"title"+uniqueId+" desc"+uniqueId}).classed("svg-content-responsive",!0)).append("title").attr("id","title"+uniqueId).text(options.svg.title),s.append("desc").attr("id","desc"+uniqueId).text(options.svg.desc),svg=s.append("g").attr({role:"list","aria-label":options.pie.ariaLabel,class:"xe-pie-svg",transform:"translate("+radius+", "+radius+")"}),options.tooltip&&((tooltip=d3.select(element[0]).append("div").attr("class","xe-pie-tooltip")).append("p").attr("class","xe-pie-tooltip-label"),tooltip.append("p").attr("class","xe-pie-tooltip-value"),tooltip.append("p").attr("class","xe-pie-tooltip-percent xe-pie-bold-text")),scope.$watch("data",function(newVal,oldVal,scope){newVal!=oldVal&&draw(tooltip,table,svg,radius,scope,options,element)},!0),draw(tooltip,table,svg,radius,scope,options,element)}}}]),function(){"use strict";angular.module("popupModal",["xe-ui-components"]).directive("xePopupModal",["$timeout","$compile",function($timeout,$compile){return{restrict:"EA",scope:{show:"=",pageheader:"@",focusbackelement:"@"},replace:!0,transclude:{popupContent:"?popupContent",popupButtons:"?popupButtons"},templateUrl:"templates/modal.html",controller:["$scope",function($scope){$scope.hide=function(){$scope.show=!1},$scope.popupTitle=$scope.pageheader,$scope.focusBackElement=$scope.focusbackelement}],link:function(scope,ele){angular.element("#xeModalMask").attr("tabindex",0).focus(),ele.on("keydown",function(event){(27===event.keyCode||"xe-popup-close"===document.activeElement.className&&13===event.keyCode)&&(scope.show=!1,scope.$apply(),null!=scope.focusBackElement&&null!=scope.focusBackElement&&angular.element("#"+scope.focusBackElement).focus())}),$timeout(function(){angular.element("#tabOrdering").on("focus",function(event){angular.element("#xePopupClose").focus()}),angular.element("#xePopupClose").on("keydown",function(event){if(event.shiftKey)9===event.keyCode&&(1<angular.element("#buttonContainer").find("xe-button").length?angular.element("#buttonContainer").find("xe-button:last").closest("xe-button").focus():angular.element("#buttonContainer").find("xe-button").focus());else if(9===event.keyCode)return!0;(27===event.keyCode||"xe-popup-close"===document.activeElement.className&&13===event.keyCode)&&(scope.show=!1,scope.$apply(),null!=scope.focusBackElement&&null!=scope.focusBackElement&&angular.element("#"+scope.focusBackElement).focus()),event.preventDefault(),event.stopImmediatePropagation()})},100)}}}])}(),function(){"use strict";angular.module("tabnav",[]).directive("ngRepeatComplete",["$timeout",function($timeout){return{restrict:"A",link:function(scope,ele,attr){scope.keyboardNav=function(){var item,tabItems=angular.element(ele[0].parentElement),currentItemPos=parseInt(tabItems.find("li.active a").attr("id").split("tab")[1],10),firstItem=tabItems[0].firstElementChild,lastItem=tabItems[0].lastElementChild,currentItem=tabItems[0].querySelector("li.active"),switchTab=function(dir){currentItem===lastItem&&dir?currentItemPos=scope.tabnav.tabs.length:currentItem===firstItem&&dir&&(currentItemPos=1),currentItemPos===scope.tabnav.tabs.length&&"right"===dir?(currentItem=firstItem,item=angular.element(currentItem.querySelector("a")),currentItemPos=1,item.focus()):1===currentItemPos&&"left"===dir?(currentItem=lastItem,item=angular.element(currentItem.querySelector("a")),currentItemPos=scope.tabnav.tabs.length,item.focus()):"right"===dir?(currentItem=currentItem.nextElementSibling,item=angular.element(currentItem.querySelector("a")),currentItemPos=parseInt(item.attr("id").split("tab")[1],10),item.focus()):"left"===dir?(currentItem=currentItem.previousElementSibling,item=angular.element(currentItem.querySelector("a")),currentItemPos=parseInt(item.attr("id").split("tab")[1],10),item.focus()):(scope.activeElement=scope.activeElement||document.activeElement.parentElement,currentItem=scope.activeElement,currentItemPos=parseInt(angular.element(currentItem).find("a").attr("id").split("tab")[1],10),scope.activeElement=null),scope.$apply(function(){currentItem.focus(),scope.tabnav.activate(scope.tabnav.tabs[currentItemPos-1])})};scope.keydownEventHandler=function(event){var keyCode=event.keyCode||event.which||event.originalEvent.keyCode;return 39===keyCode||40===keyCode?(switchTab("right"),!1):37!==keyCode&&38!==keyCode||(switchTab("left"),!1)},scope.keyupEventHandler=function(event){var enterPressed=!1;if(13===(event.keyCode||event.which||event.originalEvent.keyCode)&&!enterPressed)return enterPressed=!0,switchTab(),!1},tabItems.on("keydown",scope.keydownEventHandler),tabItems.on("keyup",scope.keyupEventHandler)},!0===scope.$last&&$timeout(scope.keyboardNav)}}}]).directive("xeTabNav",function(){return{restrict:"EA",scope:{xeSection:"@?"},transclude:!0,templateUrl:"templates/tabNav.html",controllerAs:"tabnav",controller:["$compile","$sce","$q","$scope","$state",function($compile,$sce,$q,$scope,$state){var self=this;self.currentActive=null,self.tabs=[],self.extendTab=function(attr,tabScope){var hideTab;if("undefined"!=typeof xe&&xe.extensionsFound){var tabSectionExtns=_.find(xe.extensions.sections,function(section){return section.name==$scope.xeSection});tabSectionExtns&&tabSectionExtns.fields.forEach(function(field,key){field.name===tabScope.xeField&&(field.label&&(attr.heading=xe.i18n(field.label)),field.exclude&&(hideTab=!0))})}hideTab||self.tabs.push(tabScope)},self.loadDynamicContent=function(userMethod,selectedTab){"[object Function]"!==Object.prototype.toString.call(userMethod)||selectedTab.hasTranscludedContent||selectedTab.dynamicContent||userMethod().then(function(data){selectedTab.dynamicContent=data,selectedTab.dynamic(data)},function(error){console.error(error)})},self.activate=function(selectedTab){self.currentActive.active=!1,selectedTab.active=!0,(self.currentActive=selectedTab).state?$state.go(selectedTab.state,selectedTab.stateParams):self.loadDynamicContent(selectedTab.loadDataOnClick,selectedTab)}}]}}).directive("xeTabPanel",["$compile",function($compile){return{restrict:"EA",transclude:!0,scope:{heading:"@",state:"@",loadDataOnClick:"&",jsLazyLoad:"@",xeField:"@?"},templateUrl:"templates/tabPanel.html",require:"^xeTabNav",link:function(scope,ele,attr,xeTabNavCtrl,$transclude){xeTabNavCtrl.extendTab(attr,scope),scope.element=ele,scope.tabIndex=xeTabNavCtrl.tabs.indexOf(scope)+1,scope.lazyLoadJs=function(activeTab){var script=document.createElement("script");script.src=activeTab.jsLazyLoad,document.head.appendChild(script)};function setHasTranscludedContentTrue(){scope.hasTranscludedContent=!0}$transclude(function(clone,scope){clone.text().trim().length&&(setHasTranscludedContentTrue(),angular.element(ele[0].querySelector("[content]")).append(clone))});var isDefaultActivationDisabled="disableDefaultTabActivation"in attr;attr.hasOwnProperty("active")?(scope.active=!0,xeTabNavCtrl.currentActive=scope):!ele.is(":last-child")||xeTabNavCtrl.currentActive||isDefaultActivationDisabled||(xeTabNavCtrl.tabs[0].active=!0,xeTabNavCtrl.currentActive=xeTabNavCtrl.tabs[0],xeTabNavCtrl.currentActive.element.attr("active","")),xeTabNavCtrl.currentActive&&xeTabNavCtrl.loadDynamicContent(xeTabNavCtrl.currentActive.loadDataOnClick,xeTabNavCtrl.currentActive),scope.dynamic=function(data){var htmlTemplate,content;htmlTemplate=angular.element(data),content=$compile(htmlTemplate)(scope),angular.element(ele[0].querySelector("[content]")).append(content),scope.jsLazyLoad&&scope.active&&scope.lazyLoadJs(scope)}}}}])}(),function(){"use strict";angular.module("timePicker",["xe-ui-components","ngMessages","dateParser"]).directive("xeTimePicker",["$timeout","$filter","$window","$document","Language","keyCodes","$dateParser","dateFilter",function($timeout,$filter,$window,$document,Language,keyCodes,$dateParser,$timeFilter){return{restrict:"E",scope:{displayFormat:"@?",xeConfigstep:"@?",xeId:"@",xeName:"@",xePlaceholder:"@?",modelScope:"=?xeModel",returnFormat:"@?",returnTranslatedMeridian:"@?",xeWidth:"@?"},replace:!0,templateUrl:Language.isRtl()?"templates/timePicker_rtl.html":"templates/timePicker.html",controller:["$scope",function($scope){$scope.timeObject={},$scope.toggleContainer=!1,$scope.hours=[],$scope.minutes=[],$scope.displayFormat?$scope.xeTimePlaceholder=$scope.xePlaceholder:($scope.displayFormat=$filter("xei18n")("default.timepicker.time.format"),"default.time.watermark.format"!=$filter("xei18n")("default.time.watermark.format")&&($scope.xeTimePlaceholder=$filter("xei18n")("default.time.watermark.format"))),void 0!==$scope.modelScope&&null!==$scope.modelScope||($scope.modelScope=""),$scope.displayModel=$scope.modelScope,$scope.minFocusElem="",$scope.hrsFocusElem="",$scope.showError=!1,$scope._12hrFormat="hh:mm a",$scope._24hrFormat="HH:mm",$scope.formatNumberTwoDecimal=function(num){return""!=num&&(num=new Intl.NumberFormat("en-US",{minimumIntegerDigits:2}).format(num)),num},$scope.formatTimeTo12Hours=function(inputValue,returnTranslated){var formattedValue,meridian;inputValue&&(meridian=inputValue.split(" ")[1],returnTranslated?"PM"===meridian?meridian=$scope.meridiansList[1]:"AM"===meridian&&(meridian=$scope.meridiansList[0]):meridian===$scope.meridiansList[1]?meridian="PM":meridian===$scope.meridiansList[0]&&(meridian="AM"),formattedValue=inputValue.split(" ")[0]+" "+meridian);return formattedValue},$scope.formatEnteredTime=function(timeData,inputformat,returnformat){var formattedDate=$dateParser(timeData,inputformat);return $timeFilter(formattedDate,returnformat)};var userAgent=$window.navigator.userAgent,browsers={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer/i};if($scope.getBrowser=function(){for(var key in browsers)if(browsers[key].test(userAgent))return key},!$scope.xeConfigstep){var num=new Intl.NumberFormat("en-US",{minimumIntegerDigits:2}).format(1);$scope.xeConfigstep=num}$scope.timeObject=new function(){$scope.timeObject.hours=[],$scope.timeObject.minutes=[],$scope.timeObject.configstep,$scope.timeObject.is24Hrformat,$scope.timeObject.returnFormat},$scope.timeObject.displayFormat=$scope.displayFormat,$scope.timeObject.returnFormat=$scope.returnFormat,null!=$scope.timeObject.displayFormat&&"undefined"!=$scope.timeObject.displayFormat&&(2===(lengthOfFormat=$scope.timeObject.displayFormat.split(" ").length)?($scope.maxHrs=12,$scope.minHr=1,$scope.timeObject.is24Hrformat=!1):($scope.maxHrs=23,$scope.minHr=0,$scope.timeObject.is24Hrformat=!0),$scope.maxMinutes=59,$scope.timeObject.configstep=$scope.xeConfigstep,$scope.timeObject.hours=creatingTimeData($scope.maxHrs,1),$scope.timeObject.minutes=creatingTimeData($scope.maxMinutes,$scope.timeObject.configstep));if(null!=$scope.returnFormat&&"undefined"!=$scope.returnFormat){var lengthOfFormat=$scope.returnFormat.split(" ").length;$scope.timeObject.returnFormat=2===lengthOfFormat?12:24}if(null!=$scope.displayModel&&"undefined"!=$scope.displayModel){var formatLength=$scope.displayModel.split(" ").length;$scope.timeObject.format12=2===formatLength?"Y":"N"}else $scope.timeObject.format12=null;function creatingTimeData(maxcount,configstep){var listofItems=[],maxElement=parseInt(0);for(12===maxcount&&(maxElement=1),(configstep=parseInt(configstep))?(60<configstep||configstep<0)&&(configstep=1):configstep=1;maxElement<=maxcount;){var num=new Intl.NumberFormat("en-US",{minimumIntegerDigits:2}).format(maxElement);listofItems.push(num),maxElement+=configstep}return listofItems}function nextCommonIncrement(currentIndex,currentObj,arrayList,isHours){var nextElementFocus=parseInt(currentIndex)+1;if(nextElementFocus<arrayList.length){var nextHRUL=angular.element(currentObj).closest("ul");angular.element(nextHRUL).find("li").each(function(ind,eachLi){$(eachLi).attr("tabindex",-1)}),angular.element(nextHRUL).find("li").siblings().removeClass("active-timepicker");var setTabToFocus=angular.element(nextHRUL).find("li")[nextElementFocus];isHours?$scope.hrsFocusElem=setTabToFocus:$scope.minFocusElem=setTabToFocus,angular.element(setTabToFocus).addClass("active-timepicker"),angular.element(setTabToFocus).attr("tabindex",0),angular.element(setTabToFocus).focus()}var nextElementInDiv=parseInt(nextElementFocus)+1,wrapDiv=angular.element(currentObj).closest("div");if(angular.element(wrapDiv).find("div.nextDiv").text(""),parseInt(currentIndex)>arrayList.length-2||parseInt(currentIndex)===arrayList.length-2)angular.element(wrapDiv).find("div.nextDiv").text("");else{nextHRUL=angular.element(currentObj).closest("ul");if(angular.element(wrapDiv).find("div.nextDiv").text(""),angular.element(nextHRUL).find("li")){var nextContent=angular.element(nextHRUL).find("li")[nextElementInDiv].innerText;angular.element(wrapDiv).find("div.nextDiv").text(nextContent)}}}function setPreviousValues(currentIndex,currentObj){var prevElementInDiv=parseInt(currentIndex),prevHRUL=angular.element(currentObj).closest("ul"),wrapDiv=angular.element(currentObj).closest("div");if(void 0!==angular.element(prevHRUL).find("li")[prevElementInDiv]){var prevContent=angular.element(prevHRUL).find("li")[prevElementInDiv].innerText;angular.element(wrapDiv).find("div.previousDiv").text(prevContent)}else angular.element(wrapDiv).find("div.previousDiv").text("")}0==$scope.timeObject.is24Hrformat&&"Y"==$scope.timeObject.format12?$scope.timeObject.format12="Y":1==$scope.timeObject.is24Hrformat&&"N"==$scope.timeObject.format12&&($scope.timeObject.format12="N"),$scope.meridiansList=[$filter("xei18n")("default.time.am"),$filter("xei18n")("default.time.pm")],$scope.commonIncrement=function(currentIndex,currentObj,isHours){if(isHours){if(0===parseInt(currentIndex)||-1===parseInt(currentIndex))nextCommonIncrement(currentIndex,currentObj,$scope.timeObject.hours,isHours),setPreviousValues(currentIndex,currentObj);else if(0<parseInt(currentIndex)&&parseInt(currentIndex)<$scope.timeObject.hours.length-2)nextCommonIncrement(currentIndex,currentObj,$scope.timeObject.hours,isHours),setPreviousValues(currentIndex,currentObj);else if(parseInt(currentIndex)>$scope.timeObject.hours.length-2||parseInt(currentIndex)===$scope.timeObject.hours.length-2){nextCommonIncrement(currentIndex,currentObj,$scope.timeObject.hours,isHours);prevElementInDiv=parseInt(currentIndex);if(parseInt(currentIndex)!==$scope.timeObject.hours.length-1){var prevHRUL=angular.element(currentObj).closest("ul");prevContent=angular.element(prevHRUL).find("li")[prevElementInDiv].innerText,wrapDiv=angular.element(currentObj).closest("div");angular.element(wrapDiv).find("div.previousDiv").text(""),angular.element(wrapDiv).find("div.previousDiv").text(prevContent)}}}else if(0===parseInt(currentIndex)||-1===parseInt(currentIndex))nextCommonIncrement(currentIndex,currentObj,$scope.timeObject.minutes,isHours),setPreviousValues(currentIndex,currentObj);else if(0<parseInt(currentIndex)&&parseInt(currentIndex)<$scope.timeObject.minutes.length-2)nextCommonIncrement(currentIndex,currentObj,$scope.timeObject.minutes,isHours),setPreviousValues(currentIndex,currentObj);else if(parseInt(currentIndex)>$scope.timeObject.minutes.length-2||parseInt(currentIndex)===$scope.timeObject.minutes.length-2){nextCommonIncrement(currentIndex,currentObj,$scope.timeObject.minutes,isHours);var prevElementInDiv=parseInt(currentIndex);if(parseInt(currentIndex)!==$scope.timeObject.minutes.length-1){var prevMinUL=angular.element(currentObj).closest("ul"),prevContent=angular.element(prevMinUL).find("li")[prevElementInDiv].innerText,wrapDiv=angular.element(currentObj).closest("div");angular.element(wrapDiv).find("div.previousDiv").text(""),angular.element(wrapDiv).find("div.previousDiv").text(prevContent)}}},$scope.commonDecrement=function(currentIndex,currentObj,isHours){var focusIndex=currentIndex-1,wrapDiv=angular.element(currentObj).closest("div");if(!(parseInt(focusIndex)<0)){var prevHRUL=angular.element(currentObj).closest("ul"),setTabToFocus=angular.element(prevHRUL).find("li")[focusIndex];if(isHours?$scope.hrsFocusElem=angular.element(prevHRUL).find("li")[focusIndex]:$scope.minFocusElem=angular.element(prevHRUL).find("li")[focusIndex],angular.element(prevHRUL).find("li").each(function(ind,eachLi){$(eachLi).attr("tabindex",-1)}),angular.element(prevHRUL).find("li").siblings().removeClass("active-timepicker"),angular.element(setTabToFocus).addClass("active-timepicker"),angular.element(setTabToFocus).attr("tabindex",0),angular.element(setTabToFocus).focus(),angular.element(wrapDiv).find("div.nextDiv").text(""),isHours)var incValue=$scope.timeObject.hours[1+focusIndex];else incValue=$scope.timeObject.minutes[1+focusIndex];if(angular.element(wrapDiv).find("div.nextDiv").text(incValue),focusIndex<1||0==focusIndex)angular.element(wrapDiv).find("div.previousDiv").text("");else{if(angular.element(wrapDiv).find("div.previousDiv").text(""),isHours)var decValue=$scope.timeObject.hours[focusIndex-1];else decValue=$scope.timeObject.minutes[focusIndex-1];angular.element(wrapDiv).find("div.previousDiv").text(decValue)}}},$scope.disableInput=function(ele){ele.find("input.input-field").attr("disabled","disabled"),ele.find("input.input-field").attr("readonly","readonly"),ele.find("input.input-field").attr("tabindex",-1)},$scope.enableInput=function(ele){ele.find("input.input-field").removeAttr("readonly"),ele.find("input.input-field").removeAttr("disabled"),ele.find("input.input-field").attr("tabindex",0)}}],link:function(scope,ele){$document.bind("click",function(event){0<ele.find(event.target).length||(scope.toggleContainer=!1,ele.removeClass("time-picker-position"),scope.enableInput(ele),scope.$digest())}),$timeout(function(){function stopEventsDefault(event){event.preventDefault(),event.stopPropagation(),event.cancelBubble=!0}ele.find(".input-outerContainer").css("width",scope.xeWidth),angular.element(ele.find("div.timepickerContainer")).on("keydown",function(event){event.keyCode===keyCodes.F9&&(scope.toggleContainer=!1,ele.removeClass("time-picker-position"),scope.$digest(),scope.enableInput(ele),ele.find("div.input-container input.input-field").focus(),removeMinsAndHoursAriaLabel())}),scope.displayModel&&function(timeOnLoad){var returnData=scope.formatEnteredTime(timeOnLoad,scope.returnFormat,scope.returnFormat),displayData=scope.formatEnteredTime(timeOnLoad,scope.returnFormat,scope.displayFormat);12==scope.timeObject.returnFormat&&(returnData=scope.timeObject.is24Hrformat?returnData:(returnData=scope.formatTimeTo12Hours(displayData,!1),scope.formatEnteredTime(returnData,scope._12hrFormat,scope.returnFormat)));scope.timeObject.is24Hrformat||(displayData=scope.formatTimeTo12Hours(displayData,!0));scope.displayModel=displayData,scope.modelScope=returnData}(scope.displayModel);var eventtype,browser=scope.getBrowser();eventtype="chrome"==browser?"wheel":"firefox"==browser?"DOMMouseScroll":"mousewheel",ele.find("div.extraDiv").on("focus",function(){angular.element(scope.hrsFocusElem).focus(),scope.focusPrevElement=ele.find(".hrsFocus"),angular.element(scope.focusPrevElement).addClass("active-timepickerFocus")});var timerButton=ele.find("div.input-container .inputicon");angular.element(timerButton).on("click",function(event){removeallFocus(),scope.focusHrsElement=ele.find(".hrsFocus"),angular.element(scope.focusHrsElement).addClass("active-timepickerFocus"),scope.showError=!1,scope.toggleContainer=!scope.toggleContainer,scope.toggleContainer?(ele.addClass("time-picker-position"),scope.disableInput(ele)):(ele.removeClass("time-picker-position"),scope.enableInput(ele));var enteredContent=ele.find("input.input-field").val();if(validateEnteredContent(enteredContent),scope.$digest(),scope.showError){var minutesUL=ele.find("ul:last li")[0],hourUL=ele.find("ul:first li")[0];scope.commonDecrement(1,minutesUL,!1),scope.commonDecrement(1,hourUL,!0),ele.find("ul:first li")[0].focus(),angular.element(ele).find("input.input-field").val(""),scope.displayModel="",scope.modelScope="",scope.$apply()}else if(scope.timeObject.is24Hrformat){var hrPreSelected=enteredContent.split(":")[0],minPreSelected=enteredContent.split(":")[1];populateTimePicker(hrPreSelected=parseInt(hrPreSelected),minPreSelected=parseInt(minPreSelected),ele)}else{hrPreSelected=enteredContent.split(":")[0];if(hrPreSelected=parseInt(hrPreSelected)-1,void 0!==(minPreSelected=enteredContent.split(":")[1])){var meridianEntered,nextDivMeridian;populateTimePicker(hrPreSelected,minPreSelected.split(" ")[0],ele);var meridian=minPreSelected.split(" ")[1];meridian.toLocaleLowerCase()===$filter("xei18n")("default.time.am").toLocaleLowerCase()?(meridianEntered=scope.meridiansList[0],nextDivMeridian=scope.meridiansList[1]):meridian.toLocaleLowerCase()===$filter("xei18n")("default.time.pm").toLocaleLowerCase()&&(meridianEntered=scope.meridiansList[1],nextDivMeridian=scope.meridiansList[0]),ele.find("div.pushmeBorder").text(meridianEntered),ele.find("div.meridianPm").text(nextDivMeridian)}else populateTimePicker(hrPreSelected,0,ele)}stopEventsDefault(event)});var excapeKeyContainer=ele.find("div.timepickerContainer");angular.element(excapeKeyContainer).on("keydown",function(event){event.keyCode===keyCodes.ESC&&(removeallFocus(),scope.enableInput(ele),scope.showError=!1,scope.toggleContainer=!1,ele.removeClass("time-picker-position"),scope.$digest(),ele.find("div.input-container input.input-field").focus(),stopEventsDefault(event))});var shortcutElement=ele.find("div.input-container input.input-field");function populateTimePicker(hrPreSelected,minPreSelected,ele){var hrcurrent,mincurrent,minIndex,setToFirstElement=parseInt(-1);scope.timeObject.is24Hrformat?(hrcurrent=scope.timeObject.hours[parseInt(hrPreSelected)],scope.timeObject.minutes.map(function(elementInArray,index){elementInArray==minPreSelected&&(minIndex=index)}),minPreSelected=minIndex,mincurrent=scope.timeObject.minutes[parseInt(minPreSelected)]):(hrcurrent=scope.timeObject.hours[parseInt(hrPreSelected)-1],scope.timeObject.minutes.map(function(elementInArray,index){elementInArray==minPreSelected&&(minIndex=index)}),minPreSelected=minIndex,mincurrent=scope.timeObject.minutes[parseInt(minPreSelected)-1]);var minutesUL=ele.find("ul:last li")[parseInt(minPreSelected)],hourUL=ele.find("ul:first li")[parseInt(hrPreSelected)];mincurrent&&hrcurrent?(ele.find("ul:last li")[parseInt(minPreSelected)].focus(),scope.commonIncrement(parseInt(minPreSelected)-1,minutesUL,!1),scope.commonIncrement(parseInt(hrPreSelected)-1,hourUL,!0),ele.find("ul:first li")[parseInt(hrPreSelected)].focus()):0===hrPreSelected&&void 0===hrcurrent&&void 0!==mincurrent?(ele.find("ul:last li")[parseInt(minPreSelected)].focus(),scope.commonIncrement(parseInt(minPreSelected)-1,minutesUL,!1),scope.commonIncrement(setToFirstElement,hourUL,!0)):void 0===mincurrent&&void 0!==hrcurrent?(minutesUL=ele.find("ul:last li")[0],scope.commonIncrement(setToFirstElement,minutesUL,!1),scope.commonIncrement(parseInt(hrPreSelected-1),hourUL,!0)):(minutesUL=ele.find("ul:last li")[0],hourUL=ele.find("ul:first li")[0],scope.commonIncrement(setToFirstElement,minutesUL,!1),scope.commonIncrement(setToFirstElement,hourUL,!0))}function validateEnteredContent(enteredContent){var isInvalidTime=scope.showError=!1;null!=enteredContent&&""!=enteredContent&&(isInvalidTime=function(timeData){var isInvalidTime=!1;formatTimeEntered(timeData)||(isInvalidTime=!0);return isInvalidTime}(enteredContent)),isInvalidTime&&(scope.showError=!0,scope.$emit("time-picker-error",$filter("xei18n")("timepicker.error.format.validation"),scope.xeId))}function formatTimeEntered(timeData){var formattedTime;if(scope.timeObject.is24Hrformat){var timeArray=function(inputData){return inputData.split(":")}(timeData),formattedValue=scope.formatNumberTwoDecimal(timeArray[0])+":"+scope.formatNumberTwoDecimal(timeArray[1]);formattedTime=scope.formatEnteredTime(formattedValue,scope._24hrFormat,scope.timeObject.displayFormat)}else if(timeData){var format12WithMeridian=scope.formatTimeTo12Hours(timeData,!1);formattedTime=scope.formatEnteredTime(format12WithMeridian,scope._12hrFormat,scope._12hrFormat)}return formattedTime}angular.element(shortcutElement).on("focusout",function(event){var enteredContent=ele.find("input.input-field").val();scope.enableInput(ele),validateEnteredContent(enteredContent),stopEventsDefault(event),scope.showError?(ele.find("input.input-field").val(""),scope.displayModel="",scope.modelScope=""):timeFormatConvertor(enteredContent=formatTimeEntered(enteredContent)),scope.$apply()}),angular.element(shortcutElement).on("keydown",function(event){if(event.keyCode===keyCodes.F9){removeallFocus();var hrsFocusElem=ele.find(".hrsFocus");angular.element(hrsFocusElem).addClass("active-timepickerFocus"),scope.showError=!1;var enteredContent=angular.element(ele).find("input.input-field").val();if(scope.toggleContainer=!0,ele.addClass("time-picker-position"),validateEnteredContent(enteredContent),scope.$digest(),scope.disableInput(ele),removeMinsAndHoursAriaLabel(),addHoursAriaLabel(),scope.showError){var minutesUL=ele.find("ul:last li")[0],hourUL=ele.find("ul:first li")[0];scope.commonDecrement(1,minutesUL,!1),scope.commonDecrement(1,hourUL,!0),ele.find("ul:first li")[0].focus(),angular.element(ele).find("input.input-field").val("")}else{if(scope.timeObject.is24Hrformat){var hrPreSelected=enteredContent.split(":")[0],minPreSelected=enteredContent.split(":")[1];1,populateTimePicker(hrPreSelected=parseInt(hrPreSelected),minPreSelected=parseInt(minPreSelected),ele)}else{hrPreSelected=enteredContent.split(":")[0];if(hrPreSelected=parseInt(hrPreSelected)-1,void 0!==(minPreSelected=enteredContent.split(":")[1])){0;var meridianEntered,minPreSelected1=minPreSelected.split(" ")[0],nextDivMeridian=scope.meridiansList[1];populateTimePicker(hrPreSelected,minPreSelected1,ele);var meridian=minPreSelected.split(" ")[1];void 0!==meridian&&(meridian.toLocaleLowerCase()===$filter("xei18n")("default.time.am").toLocaleLowerCase()?(meridianEntered=scope.meridiansList[0],nextDivMeridian=scope.meridiansList[1]):meridian.toLocaleLowerCase()===$filter("xei18n")("default.time.pm").toLocaleLowerCase()&&(meridianEntered=scope.meridiansList[1],nextDivMeridian=scope.meridiansList[0]),ele.find("div.pushmeBorder").text(meridianEntered),ele.find("div.meridianPm").text(nextDivMeridian))}else populateTimePicker(hrPreSelected,0,ele)}}stopEventsDefault(event)}if(event.keyCode===keyCodes.TAB)return validateEnteredContent(this.value),timeFormatConvertor(enteredContent=formatTimeEntered(this.value)),scope.$apply(),!0});ele.find("footer.timerFooter .footercancelButton");function setTimePickerValue(){var parentDiv=angular.element("#"+scope.xeId).closest("div").next();scope.toggleContainer=!1,ele.removeClass("time-picker-position");var hrLiSelected=angular.element(parentDiv).find("ul:first li.active-timepicker").text(),minLiSelected=angular.element(parentDiv).find("ul:last li.active-timepicker").text(),meridianValue=angular.element(parentDiv).find("div.pushmeBorder").text(),timeFormatValueSelect=hrLiSelected+":"+minLiSelected,v=scope.timeObject.is24Hrformat?timeFormatValueSelect:timeFormatValueSelect+" "+meridianValue;timeFormatConvertor(v),scope.enableInput(ele),ele.find("input.input-field").focus(),scope.displayModel=v,angular.element(ele.find("input.input-field")).controller("ngModel").$setDirty(),scope.$apply()}function timeFormatConvertor(timeToConvert){var displayData,returnData;if("Y"===scope.timeObject.format12||"N"===scope.timeObject.format12)if(scope.timeObject.is24Hrformat)returnData=scope.formatEnteredTime(timeToConvert,scope.displayFormat,scope.returnFormat);else{var returnDataInEnglish=scope.formatTimeTo12Hours(timeToConvert,!1);returnData=scope.formatEnteredTime(returnDataInEnglish,scope.displayFormat,scope.returnFormat)}if("Y"===scope.timeObject.format12||"N"===scope.timeObject.format12)if(scope.timeObject.is24Hrformat)displayData=scope.formatEnteredTime(timeToConvert,scope.displayFormat,scope.displayFormat);else{var displayDataInEnglish=scope.formatTimeTo12Hours(timeToConvert,!1);displayData=scope.formatEnteredTime(displayDataInEnglish,scope.displayFormat,scope.displayFormat),displayData=scope.formatTimeTo12Hours(displayData,!0)}scope.displayModel=displayData,scope.modelScope=returnData}function ChangeAMPM(result){var amMeridian=$filter("xei18n")("default.time.am"),pmMeridian=$filter("xei18n")("default.time.pm");$(result).text(function(i,v){return v===amMeridian?pmMeridian:amMeridian}),$(result).next().text(function(i,v){return v===amMeridian?pmMeridian:amMeridian})}if(ele.find("footer.timerFooter .footercancelButton").on("click",function(event){removeallFocus(),scope.showError=!1,scope.enableInput(ele),scope.toggleContainer=!1,ele.removeClass("time-picker-position"),scope.$digest(),ele.find("div.input-container input.input-field").focus(),stopEventsDefault(event)}),ele.find("footer.timerFooter .footercancelButton").on("keydown",function(event){event.shiftKey&&event.keyCode===keyCodes.TAB&&(removeMinsAndHoursAriaLabel(),scope.timeObject.is24Hrformat?(addMinutesAriaLabel(),removeallFocus(),toggleFocus(ele.find("ul.minFocus"))):(removeallFocus(),toggleFocus(ele.find("div.meridianFocus"))));return!0}),ele.find("footer.timerFooter xe-button button.primary").on("keydown, click",function(event){setTimePickerValue(),stopEventsDefault(event)}),ele.find("footer.timerFooter xe-button button.primary").on("keydown",function(event){event.shiftKey||event.keyCode!==keyCodes.TAB||(removeMinsAndHoursAriaLabel(),addHoursAriaLabel())}),!scope.timeObject.is24Hrformat){var tickerContainer=ele.find("div.timepickerContainer .mainContainer .tickerContainer")[0].classList[1],meridianElement=ele.find("div.timepickerContainer .mainContainer .pushmeBorder")[0],meridianFocus=ele.find(".meridianFocus");$("."+tickerContainer).on(eventtype,function(event){removeallFocus(),toggleFocus(meridianFocus),ChangeAMPM(meridianElement)}),$("."+tickerContainer).on("click",function(event){removeallFocus(),toggleFocus(meridianFocus)}),$("."+tickerContainer).on("keydown",function(event){event.keyCode!==keyCodes.UP&&event.keyCode!==keyCodes.DOWN||ChangeAMPM(meridianElement),event.shiftKey&&event.keyCode===keyCodes.TAB&&(removeMinsAndHoursAriaLabel(),addMinutesAriaLabel()),event.shiftKey||event.keyCode!==keyCodes.TAB||removeMinsAndHoursAriaLabel()}),$("."+tickerContainer).on("touchend",function(event){removeallFocus(),toggleFocus(meridianFocus),ChangeAMPM(meridianElement)})}scope.hrsFocusElem=ele.find("ul:first li")[0],scope.minFocusElem=ele.find("ul:last li")[0];var hrsElement=ele.find("ul:first li"),firstElem=hrsElement[0],wrapHRDiv=angular.element(firstElem).closest("div"),nextHRUL=angular.element(firstElem).closest("ul"),nextContent=angular.element(nextHRUL).find("li")[1].innerText;function scrollFunctionality(evt,currentIndex,currentObj,isHours){var delta=Math.max(-1,Math.min(1,evt.wheelDelta||-evt.detail));if(delta<0)return scope.commonIncrement(currentIndex,currentObj,isHours),!1;0<delta&&scope.commonDecrement(currentIndex,currentObj,isHours)}function toggleFocus(setfocus){angular.element(setfocus).addClass("active-timepickerFocus")}angular.element(wrapHRDiv).find("div.nextDiv").text(nextContent),angular.element(firstElem).attr("tabindex",0),$(nextHRUL).on("click",function(){removeallFocus(),toggleFocus(nextHRUL)}),angular.element(wrapHRDiv).find("div.nextDiv").on(eventtype,function(event){var mouseEvt=event.originalEvent,activeLi=$(this.parentElement).find("ul li.active-timepicker");return removeallFocus(),toggleFocus(ele.find(".hrsFocus")),scrollFunctionality(mouseEvt,parseInt(activeLi[0].classList[0].split("_")[1]),activeLi,!0),stopEventsDefault(event),!1}),angular.element(wrapHRDiv).find("div.previousDiv").on(eventtype,function(event){var mouseEvt=event.originalEvent,activeLi=$(this.parentElement).find("ul li.active-timepicker");return removeallFocus(),toggleFocus(ele.find(".hrsFocus")),scrollFunctionality(mouseEvt,parseInt(activeLi[0].classList[0].split("_")[1]),activeLi,!0),stopEventsDefault(event),!1}),hrsElement.on("keydown",function(event){var currentIndex=parseInt(this.classList[0].split("_")[1]);if(scope.focusPrevElement=ele.find(".minFocus"),scope.focusCurrentElement=ele.find(".hrsFocus"),hrsElement.each(function(ind,eachLi){$(eachLi).attr("tabindex",-1)}),angular.element("."+this.classList[0]).attr("tabindex",0),event.keyCode===keyCodes.DOWN)return scope.commonIncrement(currentIndex,this,!0),removeMinsAndHoursAriaLabel(),stopEventsDefault(event),!1;if(event.keyCode===keyCodes.UP)return scope.commonDecrement(currentIndex,this,!0),removeMinsAndHoursAriaLabel(),stopEventsDefault(event),!1;if(event.keyCode===keyCodes.RIGHT)return angular.element(scope.minFocusElem).focus(),removeallFocus(),toggleFocus(scope.focusPrevElement),removeMinsAndHoursAriaLabel(),addMinutesAriaLabel(),angular.element(scope.minFocusElem).focus(),stopEventsDefault(event),!1;if(event.keyCode===keyCodes.ENTER)return removeMinsAndHoursAriaLabel(),setTimePickerValue(),stopEventsDefault(event),!1;if(!event.shiftKey&&event.keyCode===keyCodes.TAB)return angular.element(scope.minFocusElem).focus(),removeallFocus(),toggleFocus(scope.focusPrevElement),removeMinsAndHoursAriaLabel(),addMinutesAriaLabel(),angular.element(scope.minFocusElem).focus(),stopEventsDefault(event),!1;if(event.shiftKey&&event.keyCode===keyCodes.TAB){var setButton=ele.find("footer.timerFooter xe-button button.primary");return angular.element(setButton).focus(),removeallFocus(),toggleFocus(setButton),removeMinsAndHoursAriaLabel(),stopEventsDefault(event),!1}return!0}),hrsElement.on(eventtype,function(event){var mouseEvt=event.originalEvent,_this=$(this).closest("ul"),currentElement=$(_this).find("li.active-timepicker"),currentIndex=parseInt(currentElement[0].classList[0].split("_")[1]);return removeallFocus(),toggleFocus(ele.find(".hrsFocus")),scrollFunctionality(mouseEvt,currentIndex,currentElement,!0),stopEventsDefault(event),!1});var minElements=ele.find("ul:last li"),firstMinElem=minElements[0],wrapMinDiv=angular.element(firstMinElem).closest("div"),nextMinUL=angular.element(firstMinElem).closest("ul");nextContent=angular.element(nextMinUL).find("li")[1].innerText;function removeMinsAndHoursAriaLabel(){angular.element(scope.hrsFocusElem).parent().removeAttr("aria-label"),angular.element(scope.minFocusElem).parent().removeAttr("aria-label")}function removeallFocus(){var minFocus=ele.find(".minFocus"),hrsFocus=ele.find(".hrsFocus"),meridianFocus=ele.find(".meridianFocus"),cancelFocus=ele.find(".footercancelButton");angular.element(meridianFocus).removeClass("active-timepickerFocus"),angular.element(minFocus).removeClass("active-timepickerFocus"),angular.element(hrsFocus).removeClass("active-timepickerFocus"),angular.element(cancelFocus).removeClass("active-timepickerFocus")}function addHoursAriaLabel(){angular.element(scope.hrsFocusElem).parent().attr("aria-label",$filter("xei18n")("timepicker.hour.aria.label")+" "+$filter("xei18n")("timepicker.shortcuts.aria.label"))}function addMinutesAriaLabel(){scope.timeObject.is24Hrformat?angular.element(scope.minFocusElem).parent().attr("aria-label",$filter("xei18n")("timepicker.min.aria.24hrs.label")+" "+$filter("xei18n")("timepicker.shortcuts.aria.label")):angular.element(scope.minFocusElem).parent().attr("aria-label",$filter("xei18n")("timepicker.min.aria.label")+" "+$filter("xei18n")("timepicker.shortcuts.aria.label"))}angular.element(firstMinElem).attr("tabindex",0),angular.element(wrapMinDiv).find("div.nextDiv").text(nextContent),$(nextMinUL).on("click",function(){removeallFocus(),toggleFocus(nextMinUL)}),angular.element(wrapMinDiv).find("div.nextDiv").on(eventtype,function(event){var mouseEvt=event.originalEvent,activeLi=$(this.parentElement).find("ul li.active-timepicker");return removeallFocus(),toggleFocus(ele.find(".minFocus")),scrollFunctionality(mouseEvt,parseInt(activeLi[0].classList[0].split("_")[1]),activeLi,!1),stopEventsDefault(event),!1}),angular.element(wrapMinDiv).find("div.previousDiv").on(eventtype,function(event){var mouseEvt=event.originalEvent,activeLi=$(this.parentElement).find("ul li.active-timepicker");return removeallFocus(),toggleFocus(ele.find(".minFocus")),scrollFunctionality(mouseEvt,parseInt(activeLi[0].classList[0].split("_")[1]),activeLi,!1),stopEventsDefault(event),!1}),addHoursAriaLabel(),minElements.on("keydown",function(event){var currentIndex=parseInt(this.classList[0].split("_")[1]);if(scope.focusPrevElement=ele.find(".hrsFocus"),scope.focusNextElement=ele.find(".meridianFocus"),scope.focusCurrentElement=ele.find(".minFocus"),minElements.each(function(ind,eachLi){$(eachLi).attr("tabindex",-1)}),angular.element("."+this.classList[0]).attr("tabindex",0),event.keyCode===keyCodes.DOWN)return removeMinsAndHoursAriaLabel(),scope.commonIncrement(currentIndex,this,!1),stopEventsDefault(event),!1;if(event.keyCode===keyCodes.UP)return removeMinsAndHoursAriaLabel(),scope.commonDecrement(currentIndex,this,!1),stopEventsDefault(event),!1;if(event.keyCode===keyCodes.LEFT)return removeMinsAndHoursAriaLabel(),addHoursAriaLabel(),angular.element(scope.hrsFocusElem).attr("tabindex",0),angular.element(scope.hrsFocusElem).focus(),removeallFocus(),toggleFocus(scope.focusPrevElement),stopEventsDefault(event),!1;if(event.keyCode===keyCodes.RIGHT){if(removeMinsAndHoursAriaLabel(),scope.ampmEle=ele.find("div.pushmeBorder"),angular.element(scope.ampmEle).attr("tabindex",0),angular.element(scope.ampmEle).focus(),!scope.timeObject.is24Hrformat){var meridianFocus=ele.find("div.meridianFocus");ele.find(".minFocus");removeallFocus(),toggleFocus(meridianFocus)}return stopEventsDefault(event),!1}if(event.keyCode===keyCodes.ENTER)return removeMinsAndHoursAriaLabel(),setTimePickerValue(),stopEventsDefault(event),!1;if(!event.shiftKey&&event.keyCode===keyCodes.TAB){var cancelfocus=ele.find(".footercancelButton"),minfocus=ele.find(".minFocus");meridianFocus=ele.find(".meridianFocus");Language.isRtl()?(angular.element(cancelfocus).addClass("active-timepickerFocus"),angular.element(minfocus).removeClass("active-timepickerFocus")):scope.timeObject.is24Hrformat?removeallFocus():(removeallFocus(),toggleFocus(meridianFocus)),angular.element(cancelfocus).removeClass("active-timepickerFocus"),removeMinsAndHoursAriaLabel()}return!event.shiftKey||event.keyCode!==keyCodes.TAB||(angular.element(scope.hrsFocusElem).attr("tabindex",0),angular.element(scope.hrsFocusElem).focus(),removeallFocus(),toggleFocus(scope.focusPrevElement),removeMinsAndHoursAriaLabel(),addHoursAriaLabel(),angular.element(scope.hrsFocusElem).focus(),stopEventsDefault(event),!1)}),ele.find("div.mainContainer .pushmeBorder").on("keydown",function(event){return scope.focusCurrentElement=ele.find(".meridianFocus"),scope.focusPrevElement=ele.find(".minFocus"),event.keyCode===keyCodes.LEFT?(angular.element(scope.minFocusElem).focus(),removeallFocus(),toggleFocus(scope.focusPrevElement),removeMinsAndHoursAriaLabel(),addMinutesAriaLabel(),angular.element(scope.minFocusElem).focus(),stopEventsDefault(event),!1):event.keyCode!==keyCodes.RIGHT&&(event.keyCode===keyCodes.ENTER?(removeMinsAndHoursAriaLabel(),setTimePickerValue(),stopEventsDefault(event),!1):(event.shiftKey||event.keyCode!==keyCodes.TAB||removeallFocus(),void(event.shiftKey&&event.keyCode===keyCodes.TAB&&(removeallFocus(),toggleFocus(scope.focusPrevElement),$(".meridianFocus").removeClass("active-timepickerFocus")))))}),minElements.on(eventtype,function(event){var mouseEvt=event.originalEvent,_this=$(this).closest("ul"),currentElement=$(_this).find("li.active-timepicker"),currentIndex=parseInt(currentElement[0].classList[0].split("_")[1]);return removeallFocus(),toggleFocus(ele.find(".minFocus")),scrollFunctionality(mouseEvt,currentIndex,currentElement,!1),stopEventsDefault(event),!1});var yDown,yUp,yMinDown,yMinUp,start={},stop={};function touchmove(event){if(start){var data=event.originalEvent.touches?event.originalEvent.touches[0]:event;stop={time:(new Date).getTime(),coords:[data.pageX,data.pageY]},10<Math.abs(start.coords[1]-stop.coords[1])&&stopEventsDefault(event)}}function touchStart(touchEvent,elementClass){removeallFocus();var setElement=ele.find("."+elementClass);angular.element(setElement).addClass("active-timepickerFocus");var touches=touchEvent.originalEvent.touches?touchEvent.originalEvent.touches[0]:touchEvent;start={time:(new Date).getTime(),coords:[touches.pageX,touches.pageY],origin:$(touchEvent.target)}}function touchEnd(currentIndex,ulElement,isHours,evt){if(start&&stop&&stop.time-start.time<1e3&&30<Math.abs(start.coords[1]-stop.coords[1])&&Math.abs(start.coords[0]-stop.coords[0])<75)return start.coords[1]>stop.coords[1]?scope.commonIncrement(parseInt(currentIndex),ulElement,isHours):scope.commonDecrement(parseInt(currentIndex),ulElement,isHours),start=stop=void 0,stopEventsDefault(evt),!1}angular.element(wrapHRDiv).on("mousedown",function(e){yDown=e.pageY}).on("mouseup",function(e){removeallFocus();var setHrsElement=ele.find(".hrsFocus");angular.element(setHrsElement).addClass("active-timepickerFocus");var activeLi=$(this.parentElement).find(".hrsContainer  ul li.active-timepicker"),currentIndex=parseInt(activeLi[0].classList[0].split("_")[1]);return yUp=e.pageY,yDown<yUp?scope.commonDecrement(currentIndex,activeLi,!0):yUp<yDown&&scope.commonIncrement(currentIndex,activeLi,!0),stopEventsDefault(e),!1}),angular.element(wrapMinDiv).on("mousedown",function(e){yMinDown=e.pageY}).on("mouseup",function(e){removeallFocus();var setHrsElement=ele.find(".minFocus");angular.element(setHrsElement).addClass("active-timepickerFocus");var activeLi=$(this.parentElement).find(".minContainer  ul li.active-timepicker"),currentIndex=parseInt(activeLi[0].classList[0].split("_")[1]);return yMinUp=e.pageY,yMinDown<yMinUp?scope.commonDecrement(currentIndex,activeLi,!1):yMinUp<yMinDown&&scope.commonIncrement(currentIndex,activeLi,!1),stopEventsDefault(e),!1}),$(wrapHRDiv).find("div.nextDiv").on({touchstart:function(event){touchStart(event,"hrsFocus"),$(this).on("touchmove",touchmove),event.preventDefault()},touchend:function(event){$(this).off("touchmove");var wrapDiv=this.closest("div"),ulElement=$(wrapDiv).prev();touchEnd($(ulElement).find("li.active-timepicker").val(),ulElement,!0,event)}}),$(wrapHRDiv).find("div.previousDiv").on({touchstart:function(event){touchStart(event,"hrsFocus"),$(this).on("touchmove",touchmove),event.preventDefault()},touchend:function(event){$(this).off("touchmove");var wrapDiv=this.closest("div"),ulElement=$(wrapDiv).next();touchEnd($(ulElement).find("li.active-timepicker").val(),ulElement,!0,event)}}),$(hrsElement).on({touchstart:function(event){touchStart(event,"hrsFocus"),$(this).on("touchmove",touchmove),event.preventDefault()},touchend:function(event){$(this).off("touchmove");var currentIndex=this.classList[0].split("_")[1];touchEnd(currentIndex,this,!0,event)}}),$(minElements).on({touchstart:function(event){touchStart(event,"minFocus"),$(this).on("touchmove",touchmove),stopEventsDefault(event)},touchend:function(event){$(this).off("touchmove");touchEnd(this.classList[0].split("_")[1],this,!1,event)}}),$(wrapMinDiv).find("div.previousDiv").on({touchstart:function(event){touchStart(event,"minFocus"),$(this).on("touchmove",touchmove),event.preventDefault()},touchend:function(event){$(this).off("touchmove");this.closest("div");var ulElement=$(this.closest("div")).next();touchEnd($(ulElement).find("li.active-timepicker")[0].classList[0].split("_")[1],ulElement,!1,event)}}),$(wrapMinDiv).find("div.nextDiv").on({touchstart:function(event){touchStart(event,"minFocus"),$(this).on("touchmove",touchmove),event.preventDefault()},touchend:function(event){$(this).off("touchmove");this.closest("div");var ulElement=$(this.closest("div")).prev();touchEnd($(ulElement).find("li.active-timepicker")[0].classList[0].split("_")[1],ulElement,!1,event)}})},10)}}}])}();
//# sourceMappingURL=xe-ui-components.min.js.map
